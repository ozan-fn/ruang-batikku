import{c as Gc,g as Yh,b as h1,d as Kh,r as jt,U as ae,j as ot}from"./app-DGP2XNnp.js";import{G as d1}from"./guest-layout-D-lt4y9w.js";/* empty css            */import"./proxy-BVzd1WBV.js";var Vl={exports:{}},ii={},Tr={},xr={},Uc;function bt(){return Uc||(Uc=1,function(h){Object.defineProperty(h,"__esModule",{value:!0}),h._registerNode=h.Konva=h.glob=void 0;const r=Math.PI/180;function z(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}h.glob=typeof Gc<"u"?Gc:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},h.Konva={_global:h.glob,version:"9.3.22",isBrowser:z(),isUnminified:/param/.test((function(b){}).toString()),dblClickWindow:400,getAngle(b){return h.Konva.angleDeg?b*r:b},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_fixTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return h.Konva.DD.isDragging},isTransforming(){var b;return(b=h.Konva.Transformer)===null||b===void 0?void 0:b.isTransforming()},isDragReady(){return!!h.Konva.DD.node},releaseCanvasOnDestroy:!0,document:h.glob.document,_injectGlobal(b){h.glob.Konva=b}};const U=b=>{h.Konva[b.prototype.getClassName()]=b};h._registerNode=U,h.Konva._injectGlobal(h.Konva)}(xr)),xr}var Nr={},zc;function Yt(){return zc||(zc=1,function(h){Object.defineProperty(h,"__esModule",{value:!0}),h.Util=h.Transform=void 0;const r=bt();class z{constructor(y=[1,0,0,1,0,0]){this.dirty=!1,this.m=y&&y.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new z(this.m)}copyInto(y){y.m[0]=this.m[0],y.m[1]=this.m[1],y.m[2]=this.m[2],y.m[3]=this.m[3],y.m[4]=this.m[4],y.m[5]=this.m[5]}point(y){const E=this.m;return{x:E[0]*y.x+E[2]*y.y+E[4],y:E[1]*y.x+E[3]*y.y+E[5]}}translate(y,E){return this.m[4]+=this.m[0]*y+this.m[2]*E,this.m[5]+=this.m[1]*y+this.m[3]*E,this}scale(y,E){return this.m[0]*=y,this.m[1]*=y,this.m[2]*=E,this.m[3]*=E,this}rotate(y){const E=Math.cos(y),G=Math.sin(y),w=this.m[0]*E+this.m[2]*G,N=this.m[1]*E+this.m[3]*G,A=this.m[0]*-G+this.m[2]*E,R=this.m[1]*-G+this.m[3]*E;return this.m[0]=w,this.m[1]=N,this.m[2]=A,this.m[3]=R,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(y,E){const G=this.m[0]+this.m[2]*E,w=this.m[1]+this.m[3]*E,N=this.m[2]+this.m[0]*y,A=this.m[3]+this.m[1]*y;return this.m[0]=G,this.m[1]=w,this.m[2]=N,this.m[3]=A,this}multiply(y){const E=this.m[0]*y.m[0]+this.m[2]*y.m[1],G=this.m[1]*y.m[0]+this.m[3]*y.m[1],w=this.m[0]*y.m[2]+this.m[2]*y.m[3],N=this.m[1]*y.m[2]+this.m[3]*y.m[3],A=this.m[0]*y.m[4]+this.m[2]*y.m[5]+this.m[4],R=this.m[1]*y.m[4]+this.m[3]*y.m[5]+this.m[5];return this.m[0]=E,this.m[1]=G,this.m[2]=w,this.m[3]=N,this.m[4]=A,this.m[5]=R,this}invert(){const y=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),E=this.m[3]*y,G=-this.m[1]*y,w=-this.m[2]*y,N=this.m[0]*y,A=y*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),R=y*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=E,this.m[1]=G,this.m[2]=w,this.m[3]=N,this.m[4]=A,this.m[5]=R,this}getMatrix(){return this.m}decompose(){const y=this.m[0],E=this.m[1],G=this.m[2],w=this.m[3],N=this.m[4],A=this.m[5],R=y*w-E*G,q={x:N,y:A,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(y!=0||E!=0){const P=Math.sqrt(y*y+E*E);q.rotation=E>0?Math.acos(y/P):-Math.acos(y/P),q.scaleX=P,q.scaleY=R/P,q.skewX=(y*G+E*w)/R,q.skewY=0}else if(G!=0||w!=0){const P=Math.sqrt(G*G+w*w);q.rotation=Math.PI/2-(w>0?Math.acos(-G/P):-Math.acos(G/P)),q.scaleX=R/P,q.scaleY=P,q.skewX=0,q.skewY=(y*G+E*w)/R}return q.rotation=h.Util._getRotation(q.rotation),q}}h.Transform=z;const U="[object Array]",b="[object Number]",_="[object String]",g="[object Boolean]",d=Math.PI/180,f=180/Math.PI,p="#",m="",T="0",v="Konva warning: ",u="Konva error: ",o="rgb(",S={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},x=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let D=[];const c=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(s){setTimeout(s,60)};h.Util={_isElement(s){return!!(s&&s.nodeType==1)},_isFunction(s){return!!(s&&s.constructor&&s.call&&s.apply)},_isPlainObject(s){return!!s&&s.constructor===Object},_isArray(s){return Object.prototype.toString.call(s)===U},_isNumber(s){return Object.prototype.toString.call(s)===b&&!isNaN(s)&&isFinite(s)},_isString(s){return Object.prototype.toString.call(s)===_},_isBoolean(s){return Object.prototype.toString.call(s)===g},isObject(s){return s instanceof Object},isValidSelector(s){if(typeof s!="string")return!1;const y=s[0];return y==="#"||y==="."||y===y.toUpperCase()},_sign(s){return s===0||s>0?1:-1},requestAnimFrame(s){D.push(s),D.length===1&&c(function(){const y=D;D=[],y.forEach(function(E){E()})})},createCanvasElement(){const s=document.createElement("canvas");try{s.style=s.style||{}}catch{}return s},createImageElement(){return document.createElement("img")},_isInDocument(s){for(;s=s.parentNode;)if(s==document)return!0;return!1},_urlToImage(s,y){const E=h.Util.createImageElement();E.onload=function(){y(E)},E.src=s},_rgbToHex(s,y,E){return((1<<24)+(s<<16)+(y<<8)+E).toString(16).slice(1)},_hexToRgb(s){s=s.replace(p,m);const y=parseInt(s,16);return{r:y>>16&255,g:y>>8&255,b:y&255}},getRandomColor(){let s=(Math.random()*16777215<<0).toString(16);for(;s.length<6;)s=T+s;return p+s},getRGB(s){let y;return s in S?(y=S[s],{r:y[0],g:y[1],b:y[2]}):s[0]===p?this._hexToRgb(s.substring(1)):s.substr(0,4)===o?(y=x.exec(s.replace(/ /g,"")),{r:parseInt(y[1],10),g:parseInt(y[2],10),b:parseInt(y[3],10)}):{r:0,g:0,b:0}},colorToRGBA(s){return s=s||"black",h.Util._namedColorToRBA(s)||h.Util._hex3ColorToRGBA(s)||h.Util._hex4ColorToRGBA(s)||h.Util._hex6ColorToRGBA(s)||h.Util._hex8ColorToRGBA(s)||h.Util._rgbColorToRGBA(s)||h.Util._rgbaColorToRGBA(s)||h.Util._hslColorToRGBA(s)},_namedColorToRBA(s){const y=S[s.toLowerCase()];return y?{r:y[0],g:y[1],b:y[2],a:1}:null},_rgbColorToRGBA(s){if(s.indexOf("rgb(")===0){s=s.match(/rgb\(([^)]+)\)/)[1];const y=s.split(/ *, */).map(Number);return{r:y[0],g:y[1],b:y[2],a:1}}},_rgbaColorToRGBA(s){if(s.indexOf("rgba(")===0){s=s.match(/rgba\(([^)]+)\)/)[1];const y=s.split(/ *, */).map((E,G)=>E.slice(-1)==="%"?G===3?parseInt(E)/100:parseInt(E)/100*255:Number(E));return{r:y[0],g:y[1],b:y[2],a:y[3]}}},_hex8ColorToRGBA(s){if(s[0]==="#"&&s.length===9)return{r:parseInt(s.slice(1,3),16),g:parseInt(s.slice(3,5),16),b:parseInt(s.slice(5,7),16),a:parseInt(s.slice(7,9),16)/255}},_hex6ColorToRGBA(s){if(s[0]==="#"&&s.length===7)return{r:parseInt(s.slice(1,3),16),g:parseInt(s.slice(3,5),16),b:parseInt(s.slice(5,7),16),a:1}},_hex4ColorToRGBA(s){if(s[0]==="#"&&s.length===5)return{r:parseInt(s[1]+s[1],16),g:parseInt(s[2]+s[2],16),b:parseInt(s[3]+s[3],16),a:parseInt(s[4]+s[4],16)/255}},_hex3ColorToRGBA(s){if(s[0]==="#"&&s.length===4)return{r:parseInt(s[1]+s[1],16),g:parseInt(s[2]+s[2],16),b:parseInt(s[3]+s[3],16),a:1}},_hslColorToRGBA(s){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(s)){const[y,...E]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(s),G=Number(E[0])/360,w=Number(E[1])/100,N=Number(E[2])/100;let A,R,q;if(w===0)return q=N*255,{r:Math.round(q),g:Math.round(q),b:Math.round(q),a:1};N<.5?A=N*(1+w):A=N+w-N*w;const P=2*N-A,K=[0,0,0];for(let Q=0;Q<3;Q++)R=G+1/3*-(Q-1),R<0&&R++,R>1&&R--,6*R<1?q=P+(A-P)*6*R:2*R<1?q=A:3*R<2?q=P+(A-P)*(2/3-R)*6:q=P,K[Q]=q*255;return{r:Math.round(K[0]),g:Math.round(K[1]),b:Math.round(K[2]),a:1}}},haveIntersection(s,y){return!(y.x>s.x+s.width||y.x+y.width<s.x||y.y>s.y+s.height||y.y+y.height<s.y)},cloneObject(s){const y={};for(const E in s)this._isPlainObject(s[E])?y[E]=this.cloneObject(s[E]):this._isArray(s[E])?y[E]=this.cloneArray(s[E]):y[E]=s[E];return y},cloneArray(s){return s.slice(0)},degToRad(s){return s*d},radToDeg(s){return s*f},_degToRad(s){return h.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),h.Util.degToRad(s)},_radToDeg(s){return h.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),h.Util.radToDeg(s)},_getRotation(s){return r.Konva.angleDeg?h.Util.radToDeg(s):s},_capitalize(s){return s.charAt(0).toUpperCase()+s.slice(1)},throw(s){throw new Error(u+s)},error(s){console.error(u+s)},warn(s){r.Konva.showWarnings&&console.warn(v+s)},each(s,y){for(const E in s)y(E,s[E])},_inRange(s,y,E){return y<=s&&s<E},_getProjectionToSegment(s,y,E,G,w,N){let A,R,q;const P=(s-E)*(s-E)+(y-G)*(y-G);if(P==0)A=s,R=y,q=(w-E)*(w-E)+(N-G)*(N-G);else{const K=((w-s)*(E-s)+(N-y)*(G-y))/P;K<0?(A=s,R=y,q=(s-w)*(s-w)+(y-N)*(y-N)):K>1?(A=E,R=G,q=(E-w)*(E-w)+(G-N)*(G-N)):(A=s+K*(E-s),R=y+K*(G-y),q=(A-w)*(A-w)+(R-N)*(R-N))}return[A,R,q]},_getProjectionToLine(s,y,E){const G=h.Util.cloneObject(s);let w=Number.MAX_VALUE;return y.forEach(function(N,A){if(!E&&A===y.length-1)return;const R=y[(A+1)%y.length],q=h.Util._getProjectionToSegment(N.x,N.y,R.x,R.y,s.x,s.y),P=q[0],K=q[1],Q=q[2];Q<w&&(G.x=P,G.y=K,w=Q)}),G},_prepareArrayForTween(s,y,E){const G=[],w=[];if(s.length>y.length){const A=y;y=s,s=A}for(let A=0;A<s.length;A+=2)G.push({x:s[A],y:s[A+1]});for(let A=0;A<y.length;A+=2)w.push({x:y[A],y:y[A+1]});const N=[];return w.forEach(function(A){const R=h.Util._getProjectionToLine(A,G,E);N.push(R.x),N.push(R.y)}),N},_prepareToStringify(s){let y;s.visitedByCircularReferenceRemoval=!0;for(const E in s)if(s.hasOwnProperty(E)&&s[E]&&typeof s[E]=="object"){if(y=Object.getOwnPropertyDescriptor(s,E),s[E].visitedByCircularReferenceRemoval||h.Util._isElement(s[E]))if(y.configurable)delete s[E];else return null;else if(h.Util._prepareToStringify(s[E])===null)if(y.configurable)delete s[E];else return null}return delete s.visitedByCircularReferenceRemoval,s},_assign(s,y){for(const E in y)s[E]=y[E];return s},_getFirstPointerId(s){return s.touches?s.changedTouches[0].identifier:s.pointerId||999},releaseCanvas(...s){r.Konva.releaseCanvasOnDestroy&&s.forEach(y=>{y.width=0,y.height=0})},drawRoundedRectPath(s,y,E,G){let w=0,N=0,A=0,R=0;typeof G=="number"?w=N=A=R=Math.min(G,y/2,E/2):(w=Math.min(G[0]||0,y/2,E/2),N=Math.min(G[1]||0,y/2,E/2),R=Math.min(G[2]||0,y/2,E/2),A=Math.min(G[3]||0,y/2,E/2)),s.moveTo(w,0),s.lineTo(y-N,0),s.arc(y-N,N,N,Math.PI*3/2,0,!1),s.lineTo(y,E-R),s.arc(y-R,E-R,R,0,Math.PI/2,!1),s.lineTo(A,E),s.arc(A,E-A,A,Math.PI/2,Math.PI,!1),s.lineTo(0,w),s.arc(w,w,w,Math.PI,Math.PI*3/2,!1)}}}(Nr)),Nr}var li={},ca={},ha={},Bc;function Xh(){if(Bc)return ha;Bc=1,Object.defineProperty(ha,"__esModule",{value:!0}),ha.HitContext=ha.SceneContext=ha.Context=void 0;const h=Yt(),r=bt();function z(D){const c=[],s=D.length,y=h.Util;for(let E=0;E<s;E++){let G=D[E];y._isNumber(G)?G=Math.round(G*1e3)/1e3:y._isString(G)||(G=G+""),c.push(G)}return c}const U=",",b="(",_=")",g="([",d="])",f=";",p="()",m="=",T=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],v=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"],u=100;let o=class{constructor(c){this.canvas=c,r.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(c){c.fillEnabled()&&this._fill(c)}_fill(c){}strokeShape(c){c.hasStroke()&&this._stroke(c)}_stroke(c){}fillStrokeShape(c){c.attrs.fillAfterStrokeEnabled?(this.strokeShape(c),this.fillShape(c)):(this.fillShape(c),this.strokeShape(c))}getTrace(c,s){let y=this.traceArr,E=y.length,G="",w,N,A,R;for(w=0;w<E;w++)N=y[w],A=N.method,A?(R=N.args,G+=A,c?G+=p:h.Util._isArray(R[0])?G+=g+R.join(U)+d:(s&&(R=R.map(q=>typeof q=="number"?Math.floor(q):q)),G+=b+R.join(U)+_)):(G+=N.property,c||(G+=m+N.val)),G+=f;return G}clearTrace(){this.traceArr=[]}_trace(c){let s=this.traceArr,y;s.push(c),y=s.length,y>=u&&s.shift()}reset(){const c=this.getCanvas().getPixelRatio();this.setTransform(1*c,0,0,1*c,0,0)}getCanvas(){return this.canvas}clear(c){const s=this.getCanvas();c?this.clearRect(c.x||0,c.y||0,c.width||0,c.height||0):this.clearRect(0,0,s.getWidth()/s.pixelRatio,s.getHeight()/s.pixelRatio)}_applyLineCap(c){const s=c.attrs.lineCap;s&&this.setAttr("lineCap",s)}_applyOpacity(c){const s=c.getAbsoluteOpacity();s!==1&&this.setAttr("globalAlpha",s)}_applyLineJoin(c){const s=c.attrs.lineJoin;s&&this.setAttr("lineJoin",s)}setAttr(c,s){this._context[c]=s}arc(c,s,y,E,G,w){this._context.arc(c,s,y,E,G,w)}arcTo(c,s,y,E,G){this._context.arcTo(c,s,y,E,G)}beginPath(){this._context.beginPath()}bezierCurveTo(c,s,y,E,G,w){this._context.bezierCurveTo(c,s,y,E,G,w)}clearRect(c,s,y,E){this._context.clearRect(c,s,y,E)}clip(...c){this._context.clip.apply(this._context,c)}closePath(){this._context.closePath()}createImageData(c,s){const y=arguments;if(y.length===2)return this._context.createImageData(c,s);if(y.length===1)return this._context.createImageData(c)}createLinearGradient(c,s,y,E){return this._context.createLinearGradient(c,s,y,E)}createPattern(c,s){return this._context.createPattern(c,s)}createRadialGradient(c,s,y,E,G,w){return this._context.createRadialGradient(c,s,y,E,G,w)}drawImage(c,s,y,E,G,w,N,A,R){const q=arguments,P=this._context;q.length===3?P.drawImage(c,s,y):q.length===5?P.drawImage(c,s,y,E,G):q.length===9&&P.drawImage(c,s,y,E,G,w,N,A,R)}ellipse(c,s,y,E,G,w,N,A){this._context.ellipse(c,s,y,E,G,w,N,A)}isPointInPath(c,s,y,E){return y?this._context.isPointInPath(y,c,s,E):this._context.isPointInPath(c,s,E)}fill(...c){this._context.fill.apply(this._context,c)}fillRect(c,s,y,E){this._context.fillRect(c,s,y,E)}strokeRect(c,s,y,E){this._context.strokeRect(c,s,y,E)}fillText(c,s,y,E){E?this._context.fillText(c,s,y,E):this._context.fillText(c,s,y)}measureText(c){return this._context.measureText(c)}getImageData(c,s,y,E){return this._context.getImageData(c,s,y,E)}lineTo(c,s){this._context.lineTo(c,s)}moveTo(c,s){this._context.moveTo(c,s)}rect(c,s,y,E){this._context.rect(c,s,y,E)}roundRect(c,s,y,E,G){this._context.roundRect(c,s,y,E,G)}putImageData(c,s,y){this._context.putImageData(c,s,y)}quadraticCurveTo(c,s,y,E){this._context.quadraticCurveTo(c,s,y,E)}restore(){this._context.restore()}rotate(c){this._context.rotate(c)}save(){this._context.save()}scale(c,s){this._context.scale(c,s)}setLineDash(c){this._context.setLineDash?this._context.setLineDash(c):"mozDash"in this._context?this._context.mozDash=c:"webkitLineDash"in this._context&&(this._context.webkitLineDash=c)}getLineDash(){return this._context.getLineDash()}setTransform(c,s,y,E,G,w){this._context.setTransform(c,s,y,E,G,w)}stroke(c){c?this._context.stroke(c):this._context.stroke()}strokeText(c,s,y,E){this._context.strokeText(c,s,y,E)}transform(c,s,y,E,G,w){this._context.transform(c,s,y,E,G,w)}translate(c,s){this._context.translate(c,s)}_enableTrace(){let c=this,s=T.length,y=this.setAttr,E,G;const w=function(N){let A=c[N],R;c[N]=function(){return G=z(Array.prototype.slice.call(arguments,0)),R=A.apply(c,arguments),c._trace({method:N,args:G}),R}};for(E=0;E<s;E++)w(T[E]);c.setAttr=function(){y.apply(c,arguments);const N=arguments[0];let A=arguments[1];(N==="shadowOffsetX"||N==="shadowOffsetY"||N==="shadowBlur")&&(A=A/this.canvas.getPixelRatio()),c._trace({property:N,val:A})}}_applyGlobalCompositeOperation(c){const s=c.attrs.globalCompositeOperation;!s||s==="source-over"||this.setAttr("globalCompositeOperation",s)}};ha.Context=o,v.forEach(function(D){Object.defineProperty(o.prototype,D,{get(){return this._context[D]},set(c){this._context[D]=c}})});class S extends o{constructor(c,{willReadFrequently:s=!1}={}){super(c),this._context=c._canvas.getContext("2d",{willReadFrequently:s})}_fillColor(c){const s=c.fill();this.setAttr("fillStyle",s),c._fillFunc(this)}_fillPattern(c){this.setAttr("fillStyle",c._getFillPattern()),c._fillFunc(this)}_fillLinearGradient(c){const s=c._getLinearGradient();s&&(this.setAttr("fillStyle",s),c._fillFunc(this))}_fillRadialGradient(c){const s=c._getRadialGradient();s&&(this.setAttr("fillStyle",s),c._fillFunc(this))}_fill(c){const s=c.fill(),y=c.getFillPriority();if(s&&y==="color"){this._fillColor(c);return}const E=c.getFillPatternImage();if(E&&y==="pattern"){this._fillPattern(c);return}const G=c.getFillLinearGradientColorStops();if(G&&y==="linear-gradient"){this._fillLinearGradient(c);return}const w=c.getFillRadialGradientColorStops();if(w&&y==="radial-gradient"){this._fillRadialGradient(c);return}s?this._fillColor(c):E?this._fillPattern(c):G?this._fillLinearGradient(c):w&&this._fillRadialGradient(c)}_strokeLinearGradient(c){const s=c.getStrokeLinearGradientStartPoint(),y=c.getStrokeLinearGradientEndPoint(),E=c.getStrokeLinearGradientColorStops(),G=this.createLinearGradient(s.x,s.y,y.x,y.y);if(E){for(let w=0;w<E.length;w+=2)G.addColorStop(E[w],E[w+1]);this.setAttr("strokeStyle",G)}}_stroke(c){const s=c.dash(),y=c.getStrokeScaleEnabled();if(c.hasStroke()){if(!y){this.save();const G=this.getCanvas().getPixelRatio();this.setTransform(G,0,0,G,0,0)}this._applyLineCap(c),s&&c.dashEnabled()&&(this.setLineDash(s),this.setAttr("lineDashOffset",c.dashOffset())),this.setAttr("lineWidth",c.strokeWidth()),c.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),c.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(c):this.setAttr("strokeStyle",c.stroke()),c._strokeFunc(this),y||this.restore()}}_applyShadow(c){var s,y,E;const G=(s=c.getShadowRGBA())!==null&&s!==void 0?s:"black",w=(y=c.getShadowBlur())!==null&&y!==void 0?y:5,N=(E=c.getShadowOffset())!==null&&E!==void 0?E:{x:0,y:0},A=c.getAbsoluteScale(),R=this.canvas.getPixelRatio(),q=A.x*R,P=A.y*R;this.setAttr("shadowColor",G),this.setAttr("shadowBlur",w*Math.min(Math.abs(q),Math.abs(P))),this.setAttr("shadowOffsetX",N.x*q),this.setAttr("shadowOffsetY",N.y*P)}}ha.SceneContext=S;class x extends o{constructor(c){super(c),this._context=c._canvas.getContext("2d",{willReadFrequently:!0})}_fill(c){this.save(),this.setAttr("fillStyle",c.colorKey),c._fillFuncHit(this),this.restore()}strokeShape(c){c.hasHitStroke()&&this._stroke(c)}_stroke(c){if(c.hasHitStroke()){const s=c.getStrokeScaleEnabled();if(!s){this.save();const G=this.getCanvas().getPixelRatio();this.setTransform(G,0,0,G,0,0)}this._applyLineCap(c);const y=c.hitStrokeWidth(),E=y==="auto"?c.strokeWidth():y;this.setAttr("lineWidth",E),this.setAttr("strokeStyle",c.colorKey),c._strokeFuncHit(this),s||this.restore()}}}return ha.HitContext=x,ha}var Hc;function wl(){if(Hc)return ca;Hc=1,Object.defineProperty(ca,"__esModule",{value:!0}),ca.HitCanvas=ca.SceneCanvas=ca.Canvas=void 0;const h=Yt(),r=Xh(),z=bt();let U;function b(){if(U)return U;const f=h.Util.createCanvasElement(),p=f.getContext("2d");return U=function(){const m=z.Konva._global.devicePixelRatio||1,T=p.webkitBackingStorePixelRatio||p.mozBackingStorePixelRatio||p.msBackingStorePixelRatio||p.oBackingStorePixelRatio||p.backingStorePixelRatio||1;return m/T}(),h.Util.releaseCanvas(f),U}let _=class{constructor(p){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const T=(p||{}).pixelRatio||z.Konva.pixelRatio||b();this.pixelRatio=T,this._canvas=h.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(p){const m=this.pixelRatio;this.pixelRatio=p,this.setSize(this.getWidth()/m,this.getHeight()/m)}setWidth(p){this.width=this._canvas.width=p*this.pixelRatio,this._canvas.style.width=p+"px";const m=this.pixelRatio;this.getContext()._context.scale(m,m)}setHeight(p){this.height=this._canvas.height=p*this.pixelRatio,this._canvas.style.height=p+"px";const m=this.pixelRatio;this.getContext()._context.scale(m,m)}getWidth(){return this.width}getHeight(){return this.height}setSize(p,m){this.setWidth(p||0),this.setHeight(m||0)}toDataURL(p,m){try{return this._canvas.toDataURL(p,m)}catch{try{return this._canvas.toDataURL()}catch(v){return h.Util.error("Unable to get data URL. "+v.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}};ca.Canvas=_;class g extends _{constructor(p={width:0,height:0,willReadFrequently:!1}){super(p),this.context=new r.SceneContext(this,{willReadFrequently:p.willReadFrequently}),this.setSize(p.width,p.height)}}ca.SceneCanvas=g;class d extends _{constructor(p={width:0,height:0}){super(p),this.hitCanvas=!0,this.context=new r.HitContext(this),this.setSize(p.width,p.height)}}return ca.HitCanvas=d,ca}var Ar={},Lc;function qr(){return Lc||(Lc=1,function(h){Object.defineProperty(h,"__esModule",{value:!0}),h.DD=void 0;const r=bt(),z=Yt();h.DD={get isDragging(){let U=!1;return h.DD._dragElements.forEach(b=>{b.dragStatus==="dragging"&&(U=!0)}),U},justDragged:!1,get node(){let U;return h.DD._dragElements.forEach(b=>{U=b.node}),U},_dragElements:new Map,_drag(U){const b=[];h.DD._dragElements.forEach((_,g)=>{const{node:d}=_,f=d.getStage();f.setPointersPositions(U),_.pointerId===void 0&&(_.pointerId=z.Util._getFirstPointerId(U));const p=f._changedPointerPositions.find(m=>m.id===_.pointerId);if(p){if(_.dragStatus!=="dragging"){const m=d.dragDistance();if(Math.max(Math.abs(p.x-_.startPointerPos.x),Math.abs(p.y-_.startPointerPos.y))<m||(d.startDrag({evt:U}),!d.isDragging()))return}d._setDragPosition(U,_),b.push(d)}}),b.forEach(_=>{_.fire("dragmove",{type:"dragmove",target:_,evt:U},!0)})},_endDragBefore(U){const b=[];h.DD._dragElements.forEach(_=>{const{node:g}=_,d=g.getStage();if(U&&d.setPointersPositions(U),!d._changedPointerPositions.find(m=>m.id===_.pointerId))return;(_.dragStatus==="dragging"||_.dragStatus==="stopped")&&(h.DD.justDragged=!0,r.Konva._mouseListenClick=!1,r.Konva._touchListenClick=!1,r.Konva._pointerListenClick=!1,_.dragStatus="stopped");const p=_.node.getLayer()||_.node instanceof r.Konva.Stage&&_.node;p&&b.indexOf(p)===-1&&b.push(p)}),b.forEach(_=>{_.draw()})},_endDragAfter(U){h.DD._dragElements.forEach((b,_)=>{b.dragStatus==="stopped"&&b.node.fire("dragend",{type:"dragend",target:b.node,evt:U},!0),b.dragStatus!=="dragging"&&h.DD._dragElements.delete(_)})}},r.Konva.isBrowser&&(window.addEventListener("mouseup",h.DD._endDragBefore,!0),window.addEventListener("touchend",h.DD._endDragBefore,!0),window.addEventListener("touchcancel",h.DD._endDragBefore,!0),window.addEventListener("mousemove",h.DD._drag),window.addEventListener("touchmove",h.DD._drag),window.addEventListener("mouseup",h.DD._endDragAfter,!1),window.addEventListener("touchend",h.DD._endDragAfter,!1),window.addEventListener("touchcancel",h.DD._endDragAfter,!1))}(Ar)),Ar}var Mr={},Ee={},Vc;function xt(){if(Vc)return Ee;Vc=1,Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.RGBComponent=U,Ee.alphaComponent=b,Ee.getNumberValidator=_,Ee.getNumberOrArrayOfNumbersValidator=g,Ee.getNumberOrAutoValidator=d,Ee.getStringValidator=f,Ee.getStringOrGradientValidator=p,Ee.getFunctionValidator=m,Ee.getNumberArrayValidator=T,Ee.getBooleanValidator=v,Ee.getComponentValidator=u;const h=bt(),r=Yt();function z(o){return r.Util._isString(o)?'"'+o+'"':Object.prototype.toString.call(o)==="[object Number]"||r.Util._isBoolean(o)?o:Object.prototype.toString.call(o)}function U(o){return o>255?255:o<0?0:Math.round(o)}function b(o){return o>1?1:o<1e-4?1e-4:o}function _(){if(h.Konva.isUnminified)return function(o,S){return r.Util._isNumber(o)||r.Util.warn(z(o)+' is a not valid value for "'+S+'" attribute. The value should be a number.'),o}}function g(o){if(h.Konva.isUnminified)return function(S,x){let D=r.Util._isNumber(S),c=r.Util._isArray(S)&&S.length==o;return!D&&!c&&r.Util.warn(z(S)+' is a not valid value for "'+x+'" attribute. The value should be a number or Array<number>('+o+")"),S}}function d(){if(h.Konva.isUnminified)return function(o,S){return r.Util._isNumber(o)||o==="auto"||r.Util.warn(z(o)+' is a not valid value for "'+S+'" attribute. The value should be a number or "auto".'),o}}function f(){if(h.Konva.isUnminified)return function(o,S){return r.Util._isString(o)||r.Util.warn(z(o)+' is a not valid value for "'+S+'" attribute. The value should be a string.'),o}}function p(){if(h.Konva.isUnminified)return function(o,S){const x=r.Util._isString(o),D=Object.prototype.toString.call(o)==="[object CanvasGradient]"||o&&o.addColorStop;return x||D||r.Util.warn(z(o)+' is a not valid value for "'+S+'" attribute. The value should be a string or a native gradient.'),o}}function m(){if(h.Konva.isUnminified)return function(o,S){return r.Util._isFunction(o)||r.Util.warn(z(o)+' is a not valid value for "'+S+'" attribute. The value should be a function.'),o}}function T(){if(h.Konva.isUnminified)return function(o,S){const x=Int8Array?Object.getPrototypeOf(Int8Array):null;return x&&o instanceof x||(r.Util._isArray(o)?o.forEach(function(D){r.Util._isNumber(D)||r.Util.warn('"'+S+'" attribute has non numeric element '+D+". Make sure that all elements are numbers.")}):r.Util.warn(z(o)+' is a not valid value for "'+S+'" attribute. The value should be a array of numbers.')),o}}function v(){if(h.Konva.isUnminified)return function(o,S){return o===!0||o===!1||r.Util.warn(z(o)+' is a not valid value for "'+S+'" attribute. The value should be a boolean.'),o}}function u(o){if(h.Konva.isUnminified)return function(S,x){return S==null||r.Util.isObject(S)||r.Util.warn(z(S)+' is a not valid value for "'+x+'" attribute. The value should be an object with properties '+o),S}}return Ee}var qc;function Tt(){return qc||(qc=1,function(h){Object.defineProperty(h,"__esModule",{value:!0}),h.Factory=void 0;const r=Yt(),z=xt(),U="get",b="set";h.Factory={addGetterSetter(_,g,d,f,p){h.Factory.addGetter(_,g,d),h.Factory.addSetter(_,g,f,p),h.Factory.addOverloadedGetterSetter(_,g)},addGetter(_,g,d){const f=U+r.Util._capitalize(g);_.prototype[f]=_.prototype[f]||function(){const p=this.attrs[g];return p===void 0?d:p}},addSetter(_,g,d,f){const p=b+r.Util._capitalize(g);_.prototype[p]||h.Factory.overWriteSetter(_,g,d,f)},overWriteSetter(_,g,d,f){const p=b+r.Util._capitalize(g);_.prototype[p]=function(m){return d&&m!==void 0&&m!==null&&(m=d.call(this,m,g)),this._setAttr(g,m),f&&f.call(this),this}},addComponentsGetterSetter(_,g,d,f,p){const m=d.length,T=r.Util._capitalize,v=U+T(g),u=b+T(g);_.prototype[v]=function(){const S={};for(let x=0;x<m;x++){const D=d[x];S[D]=this.getAttr(g+T(D))}return S};const o=(0,z.getComponentValidator)(d);_.prototype[u]=function(S){const x=this.attrs[g];f&&(S=f.call(this,S,g)),o&&o.call(this,S,g);for(const D in S)S.hasOwnProperty(D)&&this._setAttr(g+T(D),S[D]);return S||d.forEach(D=>{this._setAttr(g+T(D),void 0)}),this._fireChangeEvent(g,x,S),p&&p.call(this),this},h.Factory.addOverloadedGetterSetter(_,g)},addOverloadedGetterSetter(_,g){const d=r.Util._capitalize(g),f=b+d,p=U+d;_.prototype[g]=function(){return arguments.length?(this[f](arguments[0]),this):this[p]()}},addDeprecatedGetterSetter(_,g,d,f){r.Util.error("Adding deprecated "+g);const p=U+r.Util._capitalize(g),m=g+" property is deprecated and will be removed soon. Look at Konva change log for more information.";_.prototype[p]=function(){r.Util.error(m);const T=this.attrs[g];return T===void 0?d:T},h.Factory.addSetter(_,g,f,function(){r.Util.error(m)}),h.Factory.addOverloadedGetterSetter(_,g)},backCompat(_,g){r.Util.each(g,function(d,f){const p=_.prototype[f],m=U+r.Util._capitalize(d),T=b+r.Util._capitalize(d);function v(){p.apply(this,arguments),r.Util.error('"'+d+'" method is deprecated and will be removed soon. Use ""'+f+'" instead.')}_.prototype[d]=v,_.prototype[m]=v,_.prototype[T]=v})},afterSetFilter(){this._filterUpToDate=!1}}}(Mr)),Mr}var jc;function Qt(){if(jc)return li;jc=1,Object.defineProperty(li,"__esModule",{value:!0}),li.Node=void 0;const h=wl(),r=qr(),z=Tt(),U=bt(),b=Yt(),_=xt(),g="absoluteOpacity",d="allEventListeners",f="absoluteTransform",p="absoluteScale",m="canvas",T="Change",v="children",u="konva",o="listening",S="mouseenter",x="mouseleave",D="pointerenter",c="pointerleave",s="touchenter",y="touchleave",E="set",G="Shape",w=" ",N="stage",A="transform",R="Stage",q="visible",P=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(w);let K=1,Q=class Lr{constructor(C){this._id=K++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(C),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(C){(C===A||C===f)&&this._cache.get(C)?this._cache.get(C).dirty=!0:C?this._cache.delete(C):this._cache.clear()}_getCache(C,O){let V=this._cache.get(C);return(V===void 0||(C===A||C===f)&&V.dirty===!0)&&(V=O.call(this),this._cache.set(C,V)),V}_calculate(C,O,V){if(!this._attachedDepsListeners.get(C)){const L=O.map(B=>B+"Change.konva").join(w);this.on(L,()=>{this._clearCache(C)}),this._attachedDepsListeners.set(C,!0)}return this._getCache(C,V)}_getCanvasCache(){return this._cache.get(m)}_clearSelfAndDescendantCache(C){this._clearCache(C),C===f&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(m)){const{scene:C,filter:O,hit:V,buffer:L}=this._cache.get(m);b.Util.releaseCanvas(C,O,V,L),this._cache.delete(m)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(C){const O=C||{};let V={};(O.x===void 0||O.y===void 0||O.width===void 0||O.height===void 0)&&(V=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let L=Math.ceil(O.width||V.width),B=Math.ceil(O.height||V.height),Z=O.pixelRatio,F=O.x===void 0?Math.floor(V.x):O.x,tt=O.y===void 0?Math.floor(V.y):O.y,lt=O.offset||0,I=O.drawBorder||!1,H=O.hitCanvasPixelRatio||1;if(!L||!B){b.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const k=Math.abs(Math.round(V.x)-F)>.5?1:0,it=Math.abs(Math.round(V.y)-tt)>.5?1:0;L+=lt*2+k,B+=lt*2+it,F-=lt,tt-=lt;const rt=new h.SceneCanvas({pixelRatio:Z,width:L,height:B}),ht=new h.SceneCanvas({pixelRatio:Z,width:0,height:0,willReadFrequently:!0}),pt=new h.HitCanvas({pixelRatio:H,width:L,height:B}),vt=rt.getContext(),Ot=pt.getContext(),ft=new h.SceneCanvas({width:rt.width/rt.pixelRatio+Math.abs(F),height:rt.height/rt.pixelRatio+Math.abs(tt),pixelRatio:rt.pixelRatio}),Ht=ft.getContext();return pt.isCache=!0,rt.isCache=!0,this._cache.delete(m),this._filterUpToDate=!1,O.imageSmoothingEnabled===!1&&(rt.getContext()._context.imageSmoothingEnabled=!1,ht.getContext()._context.imageSmoothingEnabled=!1),vt.save(),Ot.save(),Ht.save(),vt.translate(-F,-tt),Ot.translate(-F,-tt),Ht.translate(-F,-tt),ft.x=F,ft.y=tt,this._isUnderCache=!0,this._clearSelfAndDescendantCache(g),this._clearSelfAndDescendantCache(p),this.drawScene(rt,this,ft),this.drawHit(pt,this),this._isUnderCache=!1,vt.restore(),Ot.restore(),I&&(vt.save(),vt.beginPath(),vt.rect(0,0,L,B),vt.closePath(),vt.setAttr("strokeStyle","red"),vt.setAttr("lineWidth",5),vt.stroke(),vt.restore()),this._cache.set(m,{scene:rt,filter:ht,hit:pt,buffer:ft,x:F,y:tt}),this._requestDraw(),this}isCached(){return this._cache.has(m)}getClientRect(C){throw new Error('abstract "getClientRect" method call')}_transformedRect(C,O){const V=[{x:C.x,y:C.y},{x:C.x+C.width,y:C.y},{x:C.x+C.width,y:C.y+C.height},{x:C.x,y:C.y+C.height}];let L=1/0,B=1/0,Z=-1/0,F=-1/0;const tt=this.getAbsoluteTransform(O);return V.forEach(function(lt){const I=tt.point(lt);L===void 0&&(L=Z=I.x,B=F=I.y),L=Math.min(L,I.x),B=Math.min(B,I.y),Z=Math.max(Z,I.x),F=Math.max(F,I.y)}),{x:L,y:B,width:Z-L,height:F-B}}_drawCachedSceneCanvas(C){C.save(),C._applyOpacity(this),C._applyGlobalCompositeOperation(this);const O=this._getCanvasCache();C.translate(O.x,O.y);const V=this._getCachedSceneCanvas(),L=V.pixelRatio;C.drawImage(V._canvas,0,0,V.width/L,V.height/L),C.restore()}_drawCachedHitCanvas(C){const O=this._getCanvasCache(),V=O.hit;C.save(),C.translate(O.x,O.y),C.drawImage(V._canvas,0,0,V.width/V.pixelRatio,V.height/V.pixelRatio),C.restore()}_getCachedSceneCanvas(){let C=this.filters(),O=this._getCanvasCache(),V=O.scene,L=O.filter,B=L.getContext(),Z,F,tt,lt;if(C){if(!this._filterUpToDate){const I=V.pixelRatio;L.setSize(V.width/V.pixelRatio,V.height/V.pixelRatio);try{for(Z=C.length,B.clear(),B.drawImage(V._canvas,0,0,V.getWidth()/I,V.getHeight()/I),F=B.getImageData(0,0,L.getWidth(),L.getHeight()),tt=0;tt<Z;tt++){if(lt=C[tt],typeof lt!="function"){b.Util.error("Filter should be type of function, but got "+typeof lt+" instead. Please check correct filters");continue}lt.call(this,F),B.putImageData(F,0,0)}}catch(H){b.Util.error("Unable to apply filter. "+H.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return L}return V}on(C,O){if(this._cache&&this._cache.delete(d),arguments.length===3)return this._delegate.apply(this,arguments);const V=C.split(w);for(let L=0;L<V.length;L++){const Z=V[L].split("."),F=Z[0],tt=Z[1]||"";this.eventListeners[F]||(this.eventListeners[F]=[]),this.eventListeners[F].push({name:tt,handler:O})}return this}off(C,O){let V=(C||"").split(w),L=V.length,B,Z,F,tt,lt,I;if(this._cache&&this._cache.delete(d),!C)for(Z in this.eventListeners)this._off(Z);for(B=0;B<L;B++)if(F=V[B],tt=F.split("."),lt=tt[0],I=tt[1],lt)this.eventListeners[lt]&&this._off(lt,I,O);else for(Z in this.eventListeners)this._off(Z,I,O);return this}dispatchEvent(C){const O={target:this,type:C.type,evt:C};return this.fire(C.type,O),this}addEventListener(C,O){return this.on(C,function(V){O.call(this,V.evt)}),this}removeEventListener(C){return this.off(C),this}_delegate(C,O,V){const L=this;this.on(C,function(B){const Z=B.target.findAncestors(O,!0,L);for(let F=0;F<Z.length;F++)B=b.Util.cloneObject(B),B.currentTarget=Z[F],V.call(Z[F],B)})}remove(){return this.isDragging()&&this.stopDrag(),r.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(f),this._clearSelfAndDescendantCache(g),this._clearSelfAndDescendantCache(p),this._clearSelfAndDescendantCache(N),this._clearSelfAndDescendantCache(q),this._clearSelfAndDescendantCache(o)}_remove(){this._clearCaches();const C=this.getParent();C&&C.children&&(C.children.splice(this.index,1),C._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(C){const O="get"+b.Util._capitalize(C);return b.Util._isFunction(this[O])?this[O]():this.attrs[C]}getAncestors(){let C=this.getParent(),O=[];for(;C;)O.push(C),C=C.getParent();return O}getAttrs(){return this.attrs||{}}setAttrs(C){return this._batchTransformChanges(()=>{let O,V;if(!C)return this;for(O in C)O!==v&&(V=E+b.Util._capitalize(O),b.Util._isFunction(this[V])?this[V](C[O]):this._setAttr(O,C[O]))}),this}isListening(){return this._getCache(o,this._isListening)}_isListening(C){if(!this.listening())return!1;const V=this.getParent();return V&&V!==C&&this!==C?V._isListening(C):!0}isVisible(){return this._getCache(q,this._isVisible)}_isVisible(C){if(!this.visible())return!1;const V=this.getParent();return V&&V!==C&&this!==C?V._isVisible(C):!0}shouldDrawHit(C,O=!1){if(C)return this._isVisible(C)&&this._isListening(C);const V=this.getLayer();let L=!1;r.DD._dragElements.forEach(Z=>{Z.dragStatus==="dragging"&&(Z.node.nodeType==="Stage"||Z.node.getLayer()===V)&&(L=!0)});const B=!O&&!U.Konva.hitOnDragEnabled&&(L||U.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!B}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let C=this.getDepth(),O=this,V=0,L,B,Z,F;function tt(I){for(L=[],B=I.length,Z=0;Z<B;Z++)F=I[Z],V++,F.nodeType!==G&&(L=L.concat(F.getChildren().slice())),F._id===O._id&&(Z=B);L.length>0&&L[0].getDepth()<=C&&tt(L)}const lt=this.getStage();return O.nodeType!==R&&lt&&tt(lt.getChildren()),V}getDepth(){let C=0,O=this.parent;for(;O;)C++,O=O.parent;return C}_batchTransformChanges(C){this._batchingTransformChange=!0,C(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(A),this._clearSelfAndDescendantCache(f)),this._needClearTransformCache=!1}setPosition(C){return this._batchTransformChanges(()=>{this.x(C.x),this.y(C.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const C=this.getStage();if(!C)return null;const O=C.getPointerPosition();if(!O)return null;const V=this.getAbsoluteTransform().copy();return V.invert(),V.point(O)}getAbsolutePosition(C){let O=!1,V=this.parent;for(;V;){if(V.isCached()){O=!0;break}V=V.parent}O&&!C&&(C=!0);const L=this.getAbsoluteTransform(C).getMatrix(),B=new b.Transform,Z=this.offset();return B.m=L.slice(),B.translate(Z.x,Z.y),B.getTranslation()}setAbsolutePosition(C){const{x:O,y:V,...L}=this._clearTransform();this.attrs.x=O,this.attrs.y=V,this._clearCache(A);const B=this._getAbsoluteTransform().copy();return B.invert(),B.translate(C.x,C.y),C={x:this.attrs.x+B.getTranslation().x,y:this.attrs.y+B.getTranslation().y},this._setTransform(L),this.setPosition({x:C.x,y:C.y}),this._clearCache(A),this._clearSelfAndDescendantCache(f),this}_setTransform(C){let O;for(O in C)this.attrs[O]=C[O]}_clearTransform(){const C={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,C}move(C){let O=C.x,V=C.y,L=this.x(),B=this.y();return O!==void 0&&(L+=O),V!==void 0&&(B+=V),this.setPosition({x:L,y:B}),this}_eachAncestorReverse(C,O){let V=[],L=this.getParent(),B,Z;if(!(O&&O._id===this._id)){for(V.unshift(this);L&&(!O||L._id!==O._id);)V.unshift(L),L=L.parent;for(B=V.length,Z=0;Z<B;Z++)C(V[Z])}}rotate(C){return this.rotation(this.rotation()+C),this}moveToTop(){if(!this.parent)return b.Util.warn("Node has no parent. moveToTop function is ignored."),!1;const C=this.index,O=this.parent.getChildren().length;return C<O-1?(this.parent.children.splice(C,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return b.Util.warn("Node has no parent. moveUp function is ignored."),!1;const C=this.index,O=this.parent.getChildren().length;return C<O-1?(this.parent.children.splice(C,1),this.parent.children.splice(C+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return b.Util.warn("Node has no parent. moveDown function is ignored."),!1;const C=this.index;return C>0?(this.parent.children.splice(C,1),this.parent.children.splice(C-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return b.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;const C=this.index;return C>0?(this.parent.children.splice(C,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(C){if(!this.parent)return b.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(C<0||C>=this.parent.children.length)&&b.Util.warn("Unexpected value "+C+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const O=this.index;return this.parent.children.splice(O,1),this.parent.children.splice(C,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(g,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let C=this.opacity();const O=this.getParent();return O&&!O._isUnderCache&&(C*=O.getAbsoluteOpacity()),C}moveTo(C){return this.getParent()!==C&&(this._remove(),C.add(this)),this}toObject(){let C=this.getAttrs(),O,V,L,B,Z;const F={attrs:{},className:this.getClassName()};for(O in C)V=C[O],Z=b.Util.isObject(V)&&!b.Util._isPlainObject(V)&&!b.Util._isArray(V),!Z&&(L=typeof this[O]=="function"&&this[O],delete C[O],B=L?L.call(this):null,C[O]=V,B!==V&&(F.attrs[O]=V));return b.Util._prepareToStringify(F)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(C,O,V){const L=[];O&&this._isMatch(C)&&L.push(this);let B=this.parent;for(;B;){if(B===V)return L;B._isMatch(C)&&L.push(B),B=B.parent}return L}isAncestorOf(C){return!1}findAncestor(C,O,V){return this.findAncestors(C,O,V)[0]}_isMatch(C){if(!C)return!1;if(typeof C=="function")return C(this);let O=C.replace(/ /g,"").split(","),V=O.length,L,B;for(L=0;L<V;L++)if(B=O[L],b.Util.isValidSelector(B)||(b.Util.warn('Selector "'+B+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),b.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),b.Util.warn("Konva is awesome, right?")),B.charAt(0)==="#"){if(this.id()===B.slice(1))return!0}else if(B.charAt(0)==="."){if(this.hasName(B.slice(1)))return!0}else if(this.className===B||this.nodeType===B)return!0;return!1}getLayer(){const C=this.getParent();return C?C.getLayer():null}getStage(){return this._getCache(N,this._getStage)}_getStage(){const C=this.getParent();return C?C.getStage():null}fire(C,O={},V){return O.target=O.target||this,V?this._fireAndBubble(C,O):this._fire(C,O),this}getAbsoluteTransform(C){return C?this._getAbsoluteTransform(C):this._getCache(f,this._getAbsoluteTransform)}_getAbsoluteTransform(C){let O;if(C)return O=new b.Transform,this._eachAncestorReverse(function(V){const L=V.transformsEnabled();L==="all"?O.multiply(V.getTransform()):L==="position"&&O.translate(V.x()-V.offsetX(),V.y()-V.offsetY())},C),O;{O=this._cache.get(f)||new b.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(O):O.reset();const V=this.transformsEnabled();if(V==="all")O.multiply(this.getTransform());else if(V==="position"){const L=this.attrs.x||0,B=this.attrs.y||0,Z=this.attrs.offsetX||0,F=this.attrs.offsetY||0;O.translate(L-Z,B-F)}return O.dirty=!1,O}}getAbsoluteScale(C){let O=this;for(;O;)O._isUnderCache&&(C=O),O=O.getParent();const L=this.getAbsoluteTransform(C).decompose();return{x:L.scaleX,y:L.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(A,this._getTransform)}_getTransform(){var C,O;const V=this._cache.get(A)||new b.Transform;V.reset();const L=this.x(),B=this.y(),Z=U.Konva.getAngle(this.rotation()),F=(C=this.attrs.scaleX)!==null&&C!==void 0?C:1,tt=(O=this.attrs.scaleY)!==null&&O!==void 0?O:1,lt=this.attrs.skewX||0,I=this.attrs.skewY||0,H=this.attrs.offsetX||0,k=this.attrs.offsetY||0;return(L!==0||B!==0)&&V.translate(L,B),Z!==0&&V.rotate(Z),(lt!==0||I!==0)&&V.skew(lt,I),(F!==1||tt!==1)&&V.scale(F,tt),(H!==0||k!==0)&&V.translate(-1*H,-1*k),V.dirty=!1,V}clone(C){let O=b.Util.cloneObject(this.attrs),V,L,B,Z,F;for(V in C)O[V]=C[V];const tt=new this.constructor(O);for(V in this.eventListeners)for(L=this.eventListeners[V],B=L.length,Z=0;Z<B;Z++)F=L[Z],F.name.indexOf(u)<0&&(tt.eventListeners[V]||(tt.eventListeners[V]=[]),tt.eventListeners[V].push(F));return tt}_toKonvaCanvas(C){C=C||{};const O=this.getClientRect(),V=this.getStage(),L=C.x!==void 0?C.x:Math.floor(O.x),B=C.y!==void 0?C.y:Math.floor(O.y),Z=C.pixelRatio||1,F=new h.SceneCanvas({width:C.width||Math.ceil(O.width)||(V?V.width():0),height:C.height||Math.ceil(O.height)||(V?V.height():0),pixelRatio:Z}),tt=F.getContext(),lt=new h.SceneCanvas({width:F.width/F.pixelRatio+Math.abs(L),height:F.height/F.pixelRatio+Math.abs(B),pixelRatio:F.pixelRatio});return C.imageSmoothingEnabled===!1&&(tt._context.imageSmoothingEnabled=!1),tt.save(),(L||B)&&tt.translate(-1*L,-1*B),this.drawScene(F,void 0,lt),tt.restore(),F}toCanvas(C){return this._toKonvaCanvas(C)._canvas}toDataURL(C){C=C||{};const O=C.mimeType||null,V=C.quality||null,L=this._toKonvaCanvas(C).toDataURL(O,V);return C.callback&&C.callback(L),L}toImage(C){return new Promise((O,V)=>{try{const L=C?.callback;L&&delete C.callback,b.Util._urlToImage(this.toDataURL(C),function(B){O(B),L?.(B)})}catch(L){V(L)}})}toBlob(C){return new Promise((O,V)=>{try{const L=C?.callback;L&&delete C.callback,this.toCanvas(C).toBlob(B=>{O(B),L?.(B)},C?.mimeType,C?.quality)}catch(L){V(L)}})}setSize(C){return this.width(C.width),this.height(C.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():U.Konva.dragDistance}_off(C,O,V){let L=this.eventListeners[C],B,Z,F;for(B=0;B<L.length;B++)if(Z=L[B].name,F=L[B].handler,(Z!=="konva"||O==="konva")&&(!O||Z===O)&&(!V||V===F)){if(L.splice(B,1),L.length===0){delete this.eventListeners[C];break}B--}}_fireChangeEvent(C,O,V){this._fire(C+T,{oldVal:O,newVal:V})}addName(C){if(!this.hasName(C)){const O=this.name(),V=O?O+" "+C:C;this.name(V)}return this}hasName(C){if(!C)return!1;const O=this.name();return O?(O||"").split(/\s/g).indexOf(C)!==-1:!1}removeName(C){const O=(this.name()||"").split(/\s/g),V=O.indexOf(C);return V!==-1&&(O.splice(V,1),this.name(O.join(" "))),this}setAttr(C,O){const V=this[E+b.Util._capitalize(C)];return b.Util._isFunction(V)?V.call(this,O):this._setAttr(C,O),this}_requestDraw(){if(U.Konva.autoDrawEnabled){const C=this.getLayer()||this.getStage();C?.batchDraw()}}_setAttr(C,O){const V=this.attrs[C];V===O&&!b.Util.isObject(O)||(O==null?delete this.attrs[C]:this.attrs[C]=O,this._shouldFireChangeEvents&&this._fireChangeEvent(C,V,O),this._requestDraw())}_setComponentAttr(C,O,V){let L;V!==void 0&&(L=this.attrs[C],L||(this.attrs[C]=this.getAttr(C)),this.attrs[C][O]=V,this._fireChangeEvent(C,L,V))}_fireAndBubble(C,O,V){O&&this.nodeType===G&&(O.target=this);const L=[S,x,D,c,s,y];if(!(L.indexOf(C)!==-1&&(V&&(this===V||this.isAncestorOf&&this.isAncestorOf(V))||this.nodeType==="Stage"&&!V))){this._fire(C,O);const Z=L.indexOf(C)!==-1&&V&&V.isAncestorOf&&V.isAncestorOf(this)&&!V.isAncestorOf(this.parent);(O&&!O.cancelBubble||!O)&&this.parent&&this.parent.isListening()&&!Z&&(V&&V.parent?this._fireAndBubble.call(this.parent,C,O,V):this._fireAndBubble.call(this.parent,C,O))}}_getProtoListeners(C){var O,V,L;const B=(O=this._cache.get(d))!==null&&O!==void 0?O:{};let Z=B?.[C];if(Z===void 0){Z=[];let F=Object.getPrototypeOf(this);for(;F;){const tt=(L=(V=F.eventListeners)===null||V===void 0?void 0:V[C])!==null&&L!==void 0?L:[];Z.push(...tt),F=Object.getPrototypeOf(F)}B[C]=Z,this._cache.set(d,B)}return Z}_fire(C,O){O=O||{},O.currentTarget=this,O.type=C;const V=this._getProtoListeners(C);if(V)for(let B=0;B<V.length;B++)V[B].handler.call(this,O);const L=this.eventListeners[C];if(L)for(let B=0;B<L.length;B++)L[B].handler.call(this,O)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(C){const O=C?C.pointerId:void 0,V=this.getStage(),L=this.getAbsolutePosition();if(!V)return;const B=V._getPointerById(O)||V._changedPointerPositions[0]||L;r.DD._dragElements.set(this._id,{node:this,startPointerPos:B,offset:{x:B.x-L.x,y:B.y-L.y},dragStatus:"ready",pointerId:O})}startDrag(C,O=!0){r.DD._dragElements.has(this._id)||this._createDragElement(C);const V=r.DD._dragElements.get(this._id);V.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:C&&C.evt},O)}_setDragPosition(C,O){const V=this.getStage()._getPointerById(O.pointerId);if(!V)return;let L={x:V.x-O.offset.x,y:V.y-O.offset.y};const B=this.dragBoundFunc();if(B!==void 0){const Z=B.call(this,L,C);Z?L=Z:b.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==L.x||this._lastPos.y!==L.y)&&(this.setAbsolutePosition(L),this._requestDraw()),this._lastPos=L}stopDrag(C){const O=r.DD._dragElements.get(this._id);O&&(O.dragStatus="stopped"),r.DD._endDragBefore(C),r.DD._endDragAfter(C)}setDraggable(C){this._setAttr("draggable",C),this._dragChange()}isDragging(){const C=r.DD._dragElements.get(this._id);return C?C.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(C){if(!(!(C.evt.button!==void 0)||U.Konva.dragButtons.indexOf(C.evt.button)>=0)||this.isDragging())return;let L=!1;r.DD._dragElements.forEach(B=>{this.isAncestorOf(B.node)&&(L=!0)}),L||this._createDragElement(C)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const O=r.DD._dragElements.get(this._id),V=O&&O.dragStatus==="dragging",L=O&&O.dragStatus==="ready";V?this.stopDrag():L&&r.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(C={x:0,y:0}){const O=this.getStage();if(!O)return!1;const V={x:-C.x,y:-C.y,width:O.width()+2*C.x,height:O.height()+2*C.y};return b.Util.haveIntersection(V,this.getClientRect())}static create(C,O){return b.Util._isString(C)&&(C=JSON.parse(C)),this._createNode(C,O)}static _createNode(C,O){let V=Lr.prototype.getClassName.call(C),L=C.children,B,Z,F;O&&(C.attrs.container=O),U.Konva[V]||(b.Util.warn('Can not find a node with class name "'+V+'". Fallback to "Shape".'),V="Shape");const tt=U.Konva[V];if(B=new tt(C.attrs),L)for(Z=L.length,F=0;F<Z;F++)B.add(Lr._createNode(L[F]));return B}};li.Node=Q,Q.prototype.nodeType="Node",Q.prototype._attrsAffectingSize=[],Q.prototype.eventListeners={},Q.prototype.on.call(Q.prototype,P,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(A),this._clearSelfAndDescendantCache(f)}),Q.prototype.on.call(Q.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(q)}),Q.prototype.on.call(Q.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(o)}),Q.prototype.on.call(Q.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(g)});const Y=z.Factory.addGetterSetter;return Y(Q,"zIndex"),Y(Q,"absolutePosition"),Y(Q,"position"),Y(Q,"x",0,(0,_.getNumberValidator)()),Y(Q,"y",0,(0,_.getNumberValidator)()),Y(Q,"globalCompositeOperation","source-over",(0,_.getStringValidator)()),Y(Q,"opacity",1,(0,_.getNumberValidator)()),Y(Q,"name","",(0,_.getStringValidator)()),Y(Q,"id","",(0,_.getStringValidator)()),Y(Q,"rotation",0,(0,_.getNumberValidator)()),z.Factory.addComponentsGetterSetter(Q,"scale",["x","y"]),Y(Q,"scaleX",1,(0,_.getNumberValidator)()),Y(Q,"scaleY",1,(0,_.getNumberValidator)()),z.Factory.addComponentsGetterSetter(Q,"skew",["x","y"]),Y(Q,"skewX",0,(0,_.getNumberValidator)()),Y(Q,"skewY",0,(0,_.getNumberValidator)()),z.Factory.addComponentsGetterSetter(Q,"offset",["x","y"]),Y(Q,"offsetX",0,(0,_.getNumberValidator)()),Y(Q,"offsetY",0,(0,_.getNumberValidator)()),Y(Q,"dragDistance",void 0,(0,_.getNumberValidator)()),Y(Q,"width",0,(0,_.getNumberValidator)()),Y(Q,"height",0,(0,_.getNumberValidator)()),Y(Q,"listening",!0,(0,_.getBooleanValidator)()),Y(Q,"preventDefault",!0,(0,_.getBooleanValidator)()),Y(Q,"filters",void 0,function(at){return this._filterUpToDate=!1,at}),Y(Q,"visible",!0,(0,_.getBooleanValidator)()),Y(Q,"transformsEnabled","all",(0,_.getStringValidator)()),Y(Q,"size"),Y(Q,"dragBoundFunc"),Y(Q,"draggable",!1,(0,_.getBooleanValidator)()),z.Factory.backCompat(Q,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),li}var si={},wc;function Pl(){if(wc)return si;wc=1,Object.defineProperty(si,"__esModule",{value:!0}),si.Container=void 0;const h=Tt(),r=Qt(),z=xt();let U=class extends r.Node{constructor(){super(...arguments),this.children=[]}getChildren(_){const g=this.children||[];return _?g.filter(_):g}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(_=>{_.parent=null,_.index=0,_.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(_=>{_.parent=null,_.index=0,_.destroy()}),this.children=[],this._requestDraw(),this}add(..._){if(_.length===0)return this;if(_.length>1){for(let d=0;d<_.length;d++)this.add(_[d]);return this}const g=_[0];return g.getParent()?(g.moveTo(this),this):(this._validateAdd(g),g.index=this.getChildren().length,g.parent=this,g._clearCaches(),this.getChildren().push(g),this._fire("add",{child:g}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(_){return this._generalFind(_,!1)}findOne(_){const g=this._generalFind(_,!0);return g.length>0?g[0]:void 0}_generalFind(_,g){const d=[];return this._descendants(f=>{const p=f._isMatch(_);return p&&d.push(f),!!(p&&g)}),d}_descendants(_){let g=!1;const d=this.getChildren();for(const f of d){if(g=_(f),g)return!0;if(f.hasChildren()&&(g=f._descendants(_),g))return!0}return!1}toObject(){const _=r.Node.prototype.toObject.call(this);return _.children=[],this.getChildren().forEach(g=>{_.children.push(g.toObject())}),_}isAncestorOf(_){let g=_.getParent();for(;g;){if(g._id===this._id)return!0;g=g.getParent()}return!1}clone(_){const g=r.Node.prototype.clone.call(this,_);return this.getChildren().forEach(function(d){g.add(d.clone())}),g}getAllIntersections(_){const g=[];return this.find("Shape").forEach(d=>{d.isVisible()&&d.intersects(_)&&g.push(d)}),g}_clearSelfAndDescendantCache(_){var g;super._clearSelfAndDescendantCache(_),!this.isCached()&&((g=this.children)===null||g===void 0||g.forEach(function(d){d._clearSelfAndDescendantCache(_)}))}_setChildrenIndices(){var _;(_=this.children)===null||_===void 0||_.forEach(function(g,d){g.index=d}),this._requestDraw()}drawScene(_,g,d){const f=this.getLayer(),p=_||f&&f.getCanvas(),m=p&&p.getContext(),T=this._getCanvasCache(),v=T&&T.scene,u=p&&p.isCache;if(!this.isVisible()&&!u)return this;if(v){m.save();const o=this.getAbsoluteTransform(g).getMatrix();m.transform(o[0],o[1],o[2],o[3],o[4],o[5]),this._drawCachedSceneCanvas(m),m.restore()}else this._drawChildren("drawScene",p,g,d);return this}drawHit(_,g){if(!this.shouldDrawHit(g))return this;const d=this.getLayer(),f=_||d&&d.hitCanvas,p=f&&f.getContext(),m=this._getCanvasCache();if(m&&m.hit){p.save();const v=this.getAbsoluteTransform(g).getMatrix();p.transform(v[0],v[1],v[2],v[3],v[4],v[5]),this._drawCachedHitCanvas(p),p.restore()}else this._drawChildren("drawHit",f,g);return this}_drawChildren(_,g,d,f){var p;const m=g&&g.getContext(),T=this.clipWidth(),v=this.clipHeight(),u=this.clipFunc(),o=typeof T=="number"&&typeof v=="number"||u,S=d===this;if(o){m.save();const D=this.getAbsoluteTransform(d);let c=D.getMatrix();m.transform(c[0],c[1],c[2],c[3],c[4],c[5]),m.beginPath();let s;if(u)s=u.call(this,m,this);else{const y=this.clipX(),E=this.clipY();m.rect(y||0,E||0,T,v)}m.clip.apply(m,s),c=D.copy().invert().getMatrix(),m.transform(c[0],c[1],c[2],c[3],c[4],c[5])}const x=!S&&this.globalCompositeOperation()!=="source-over"&&_==="drawScene";x&&(m.save(),m._applyGlobalCompositeOperation(this)),(p=this.children)===null||p===void 0||p.forEach(function(D){D[_](g,d,f)}),x&&m.restore(),o&&m.restore()}getClientRect(_={}){var g;const d=_.skipTransform,f=_.relativeTo;let p,m,T,v,u={x:1/0,y:1/0,width:0,height:0};const o=this;(g=this.children)===null||g===void 0||g.forEach(function(D){if(!D.visible())return;const c=D.getClientRect({relativeTo:o,skipShadow:_.skipShadow,skipStroke:_.skipStroke});c.width===0&&c.height===0||(p===void 0?(p=c.x,m=c.y,T=c.x+c.width,v=c.y+c.height):(p=Math.min(p,c.x),m=Math.min(m,c.y),T=Math.max(T,c.x+c.width),v=Math.max(v,c.y+c.height)))});const S=this.find("Shape");let x=!1;for(let D=0;D<S.length;D++)if(S[D]._isVisible(this)){x=!0;break}return x&&p!==void 0?u={x:p,y:m,width:T-p,height:v-m}:u={x:0,y:0,width:0,height:0},d?u:this._transformedRect(u,f)}};return si.Container=U,h.Factory.addComponentsGetterSetter(U,"clip",["x","y","width","height"]),h.Factory.addGetterSetter(U,"clipX",void 0,(0,z.getNumberValidator)()),h.Factory.addGetterSetter(U,"clipY",void 0,(0,z.getNumberValidator)()),h.Factory.addGetterSetter(U,"clipWidth",void 0,(0,z.getNumberValidator)()),h.Factory.addGetterSetter(U,"clipHeight",void 0,(0,z.getNumberValidator)()),h.Factory.addGetterSetter(U,"clipFunc"),si}var Rr={},Ua={},Pc;function Qh(){if(Pc)return Ua;Pc=1,Object.defineProperty(Ua,"__esModule",{value:!0}),Ua.getCapturedShape=U,Ua.createEvent=b,Ua.hasPointerCapture=_,Ua.setPointerCapture=g,Ua.releaseCapture=d;const h=bt(),r=new Map,z=h.Konva._global.PointerEvent!==void 0;function U(f){return r.get(f)}function b(f){return{evt:f,pointerId:f.pointerId}}function _(f,p){return r.get(f)===p}function g(f,p){d(f),p.getStage()&&(r.set(f,p),z&&p._fire("gotpointercapture",b(new PointerEvent("gotpointercapture"))))}function d(f,p){const m=r.get(f);if(!m)return;const T=m.getStage();T&&T.content,r.delete(f),z&&m._fire("lostpointercapture",b(new PointerEvent("lostpointercapture")))}return Ua}var Fc;function f1(){return Fc||(Fc=1,function(h){Object.defineProperty(h,"__esModule",{value:!0}),h.Stage=h.stages=void 0;const r=Yt(),z=Tt(),U=Pl(),b=bt(),_=wl(),g=qr(),d=bt(),f=Qh(),p="Stage",m="string",T="px",v="mouseout",u="mouseleave",o="mouseover",S="mouseenter",x="mousemove",D="mousedown",c="mouseup",s="pointermove",y="pointerdown",E="pointerup",G="pointercancel",w="lostpointercapture",N="pointerout",A="pointerleave",R="pointerover",q="pointerenter",P="contextmenu",K="touchstart",Q="touchend",Y="touchmove",at="touchcancel",C="wheel",O=5,V=[[S,"_pointerenter"],[D,"_pointerdown"],[x,"_pointermove"],[c,"_pointerup"],[u,"_pointerleave"],[K,"_pointerdown"],[Y,"_pointermove"],[Q,"_pointerup"],[at,"_pointercancel"],[o,"_pointerover"],[C,"_wheel"],[P,"_contextmenu"],[y,"_pointerdown"],[s,"_pointermove"],[E,"_pointerup"],[G,"_pointercancel"],[A,"_pointerleave"],[w,"_lostpointercapture"]],L={mouse:{[N]:v,[A]:u,[R]:o,[q]:S,[s]:x,[y]:D,[E]:c,[G]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[N]:"touchout",[A]:"touchleave",[R]:"touchover",[q]:"touchenter",[s]:Y,[y]:K,[E]:Q,[G]:at,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[N]:N,[A]:A,[R]:R,[q]:q,[s]:s,[y]:y,[E]:E,[G]:G,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},B=I=>I.indexOf("pointer")>=0?"pointer":I.indexOf("touch")>=0?"touch":"mouse",Z=I=>{const H=B(I);if(H==="pointer")return b.Konva.pointerEventsEnabled&&L.pointer;if(H==="touch")return L.touch;if(H==="mouse")return L.mouse};function F(I={}){return(I.clipFunc||I.clipWidth||I.clipHeight)&&r.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),I}const tt="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";h.stages=[];class lt extends U.Container{constructor(H){super(F(H)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),h.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{F(this.attrs)}),this._checkVisibility()}_validateAdd(H){const k=H.getType()==="Layer",it=H.getType()==="FastLayer";k||it||r.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const H=this.visible()?"":"none";this.content.style.display=H}setContainer(H){if(typeof H===m){let k;if(H.charAt(0)==="."){const it=H.slice(1);H=document.getElementsByClassName(it)[0]}else H.charAt(0)!=="#"?k=H:k=H.slice(1),H=document.getElementById(k);if(!H)throw"Can not find container in document with id "+k}return this._setAttr("container",H),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),H.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const H=this.children,k=H.length;for(let it=0;it<k;it++)H[it].clear();return this}clone(H){return H||(H={}),H.container=typeof document<"u"&&document.createElement("div"),U.Container.prototype.clone.call(this,H)}destroy(){super.destroy();const H=this.content;H&&r.Util._isInDocument(H)&&this.container().removeChild(H);const k=h.stages.indexOf(this);return k>-1&&h.stages.splice(k,1),r.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const H=this._pointerPositions[0]||this._changedPointerPositions[0];return H?{x:H.x,y:H.y}:(r.Util.warn(tt),null)}_getPointerById(H){return this._pointerPositions.find(k=>k.id===H)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(H){H=H||{},H.x=H.x||0,H.y=H.y||0,H.width=H.width||this.width(),H.height=H.height||this.height();const k=new _.SceneCanvas({width:H.width,height:H.height,pixelRatio:H.pixelRatio||1}),it=k.getContext()._context,rt=this.children;return(H.x||H.y)&&it.translate(-1*H.x,-1*H.y),rt.forEach(function(ht){if(!ht.isVisible())return;const pt=ht._toKonvaCanvas(H);it.drawImage(pt._canvas,H.x,H.y,pt.getWidth()/pt.getPixelRatio(),pt.getHeight()/pt.getPixelRatio())}),k}getIntersection(H){if(!H)return null;const k=this.children,it=k.length,rt=it-1;for(let ht=rt;ht>=0;ht--){const pt=k[ht].getIntersection(H);if(pt)return pt}return null}_resizeDOM(){const H=this.width(),k=this.height();this.content&&(this.content.style.width=H+T,this.content.style.height=k+T),this.bufferCanvas.setSize(H,k),this.bufferHitCanvas.setSize(H,k),this.children.forEach(it=>{it.setSize({width:H,height:k}),it.draw()})}add(H,...k){if(arguments.length>1){for(let rt=0;rt<arguments.length;rt++)this.add(arguments[rt]);return this}super.add(H);const it=this.children.length;return it>O&&r.Util.warn("The stage has "+it+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),H.setSize({width:this.width(),height:this.height()}),H.draw(),b.Konva.isBrowser&&this.content.appendChild(H.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(H){return f.hasPointerCapture(H,this)}setPointerCapture(H){f.setPointerCapture(H,this)}releaseCapture(H){f.releaseCapture(H,this)}getLayers(){return this.children}_bindContentEvents(){b.Konva.isBrowser&&V.forEach(([H,k])=>{this.content.addEventListener(H,it=>{this[k](it)},{passive:!1})})}_pointerenter(H){this.setPointersPositions(H);const k=Z(H.type);k&&this._fire(k.pointerenter,{evt:H,target:this,currentTarget:this})}_pointerover(H){this.setPointersPositions(H);const k=Z(H.type);k&&this._fire(k.pointerover,{evt:H,target:this,currentTarget:this})}_getTargetShape(H){let k=this[H+"targetShape"];return k&&!k.getStage()&&(k=null),k}_pointerleave(H){const k=Z(H.type),it=B(H.type);if(!k)return;this.setPointersPositions(H);const rt=this._getTargetShape(it),ht=!(b.Konva.isDragging()||b.Konva.isTransforming())||b.Konva.hitOnDragEnabled;rt&&ht?(rt._fireAndBubble(k.pointerout,{evt:H}),rt._fireAndBubble(k.pointerleave,{evt:H}),this._fire(k.pointerleave,{evt:H,target:this,currentTarget:this}),this[it+"targetShape"]=null):ht&&(this._fire(k.pointerleave,{evt:H,target:this,currentTarget:this}),this._fire(k.pointerout,{evt:H,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(H){const k=Z(H.type),it=B(H.type);if(!k)return;this.setPointersPositions(H);let rt=!1;this._changedPointerPositions.forEach(ht=>{const pt=this.getIntersection(ht);if(g.DD.justDragged=!1,b.Konva["_"+it+"ListenClick"]=!0,!pt||!pt.isListening()){this[it+"ClickStartShape"]=void 0;return}b.Konva.capturePointerEventsEnabled&&pt.setPointerCapture(ht.id),this[it+"ClickStartShape"]=pt,pt._fireAndBubble(k.pointerdown,{evt:H,pointerId:ht.id}),rt=!0;const vt=H.type.indexOf("touch")>=0;pt.preventDefault()&&H.cancelable&&vt&&H.preventDefault()}),rt||this._fire(k.pointerdown,{evt:H,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(H){const k=Z(H.type),it=B(H.type);if(!k||(b.Konva.isDragging()&&g.DD.node.preventDefault()&&H.cancelable&&H.preventDefault(),this.setPointersPositions(H),!(!(b.Konva.isDragging()||b.Konva.isTransforming())||b.Konva.hitOnDragEnabled)))return;const ht={};let pt=!1;const vt=this._getTargetShape(it);this._changedPointerPositions.forEach(Ot=>{const ft=f.getCapturedShape(Ot.id)||this.getIntersection(Ot),Ht=Ot.id,Dt={evt:H,pointerId:Ht},Vt=vt!==ft;if(Vt&&vt&&(vt._fireAndBubble(k.pointerout,{...Dt},ft),vt._fireAndBubble(k.pointerleave,{...Dt},ft)),ft){if(ht[ft._id])return;ht[ft._id]=!0}ft&&ft.isListening()?(pt=!0,Vt&&(ft._fireAndBubble(k.pointerover,{...Dt},vt),ft._fireAndBubble(k.pointerenter,{...Dt},vt),this[it+"targetShape"]=ft),ft._fireAndBubble(k.pointermove,{...Dt})):vt&&(this._fire(k.pointerover,{evt:H,target:this,currentTarget:this,pointerId:Ht}),this[it+"targetShape"]=null)}),pt||this._fire(k.pointermove,{evt:H,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(H){const k=Z(H.type),it=B(H.type);if(!k)return;this.setPointersPositions(H);const rt=this[it+"ClickStartShape"],ht=this[it+"ClickEndShape"],pt={};let vt=!1;this._changedPointerPositions.forEach(Ot=>{const ft=f.getCapturedShape(Ot.id)||this.getIntersection(Ot);if(ft){if(ft.releaseCapture(Ot.id),pt[ft._id])return;pt[ft._id]=!0}const Ht=Ot.id,Dt={evt:H,pointerId:Ht};let Vt=!1;b.Konva["_"+it+"InDblClickWindow"]?(Vt=!0,clearTimeout(this[it+"DblTimeout"])):g.DD.justDragged||(b.Konva["_"+it+"InDblClickWindow"]=!0,clearTimeout(this[it+"DblTimeout"])),this[it+"DblTimeout"]=setTimeout(function(){b.Konva["_"+it+"InDblClickWindow"]=!1},b.Konva.dblClickWindow),ft&&ft.isListening()?(vt=!0,this[it+"ClickEndShape"]=ft,ft._fireAndBubble(k.pointerup,{...Dt}),b.Konva["_"+it+"ListenClick"]&&rt&&rt===ft&&(ft._fireAndBubble(k.pointerclick,{...Dt}),Vt&&ht&&ht===ft&&ft._fireAndBubble(k.pointerdblclick,{...Dt}))):(this[it+"ClickEndShape"]=null,b.Konva["_"+it+"ListenClick"]&&this._fire(k.pointerclick,{evt:H,target:this,currentTarget:this,pointerId:Ht}),Vt&&this._fire(k.pointerdblclick,{evt:H,target:this,currentTarget:this,pointerId:Ht}))}),vt||this._fire(k.pointerup,{evt:H,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),b.Konva["_"+it+"ListenClick"]=!1,H.cancelable&&it!=="touch"&&it!=="pointer"&&H.preventDefault()}_contextmenu(H){this.setPointersPositions(H);const k=this.getIntersection(this.getPointerPosition());k&&k.isListening()?k._fireAndBubble(P,{evt:H}):this._fire(P,{evt:H,target:this,currentTarget:this})}_wheel(H){this.setPointersPositions(H);const k=this.getIntersection(this.getPointerPosition());k&&k.isListening()?k._fireAndBubble(C,{evt:H}):this._fire(C,{evt:H,target:this,currentTarget:this})}_pointercancel(H){this.setPointersPositions(H);const k=f.getCapturedShape(H.pointerId)||this.getIntersection(this.getPointerPosition());k&&k._fireAndBubble(E,f.createEvent(H)),f.releaseCapture(H.pointerId)}_lostpointercapture(H){f.releaseCapture(H.pointerId)}setPointersPositions(H){const k=this._getContentPosition();let it=null,rt=null;H=H||window.event,H.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(H.touches,ht=>{this._pointerPositions.push({id:ht.identifier,x:(ht.clientX-k.left)/k.scaleX,y:(ht.clientY-k.top)/k.scaleY})}),Array.prototype.forEach.call(H.changedTouches||H.touches,ht=>{this._changedPointerPositions.push({id:ht.identifier,x:(ht.clientX-k.left)/k.scaleX,y:(ht.clientY-k.top)/k.scaleY})})):(it=(H.clientX-k.left)/k.scaleX,rt=(H.clientY-k.top)/k.scaleY,this.pointerPos={x:it,y:rt},this._pointerPositions=[{x:it,y:rt,id:r.Util._getFirstPointerId(H)}],this._changedPointerPositions=[{x:it,y:rt,id:r.Util._getFirstPointerId(H)}])}_setPointerPosition(H){r.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(H)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const H=this.content.getBoundingClientRect();return{top:H.top,left:H.left,scaleX:H.width/this.content.clientWidth||1,scaleY:H.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new _.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new _.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!b.Konva.isBrowser)return;const H=this.container();if(!H)throw"Stage has no container. A container is required.";H.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),H.appendChild(this.content),this._resizeDOM()}cache(){return r.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(H){H.batchDraw()}),this}}h.Stage=lt,lt.prototype.nodeType=p,(0,d._registerNode)(lt),z.Factory.addGetterSetter(lt,"container"),b.Konva.isBrowser&&document.addEventListener("visibilitychange",()=>{h.stages.forEach(I=>{I.batchDraw()})})}(Rr)),Rr}var ri={},Or={},Yc;function oe(){return Yc||(Yc=1,function(h){Object.defineProperty(h,"__esModule",{value:!0}),h.Shape=h.shapes=void 0;const r=bt(),z=Yt(),U=Tt(),b=Qt(),_=xt(),g=bt(),d=Qh(),f="hasShadow",p="shadowRGBA",m="patternImage",T="linearGradient",v="radialGradient";let u;function o(){return u||(u=z.Util.createCanvasElement().getContext("2d"),u)}h.shapes={};function S(A){const R=this.attrs.fillRule;R?A.fill(R):A.fill()}function x(A){A.stroke()}function D(A){const R=this.attrs.fillRule;R?A.fill(R):A.fill()}function c(A){A.stroke()}function s(){this._clearCache(f)}function y(){this._clearCache(p)}function E(){this._clearCache(m)}function G(){this._clearCache(T)}function w(){this._clearCache(v)}class N extends b.Node{constructor(R){super(R);let q;for(;q=z.Util.getRandomColor(),!(q&&!(q in h.shapes)););this.colorKey=q,h.shapes[q]=this}getContext(){return z.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return z.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(f,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(m,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const q=o().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(q&&q.setTransform){const P=new z.Transform;P.translate(this.fillPatternX(),this.fillPatternY()),P.rotate(r.Konva.getAngle(this.fillPatternRotation())),P.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),P.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const K=P.getMatrix(),Q=typeof DOMMatrix>"u"?{a:K[0],b:K[1],c:K[2],d:K[3],e:K[4],f:K[5]}:new DOMMatrix(K);q.setTransform(Q)}return q}}_getLinearGradient(){return this._getCache(T,this.__getLinearGradient)}__getLinearGradient(){const R=this.fillLinearGradientColorStops();if(R){const q=o(),P=this.fillLinearGradientStartPoint(),K=this.fillLinearGradientEndPoint(),Q=q.createLinearGradient(P.x,P.y,K.x,K.y);for(let Y=0;Y<R.length;Y+=2)Q.addColorStop(R[Y],R[Y+1]);return Q}}_getRadialGradient(){return this._getCache(v,this.__getRadialGradient)}__getRadialGradient(){const R=this.fillRadialGradientColorStops();if(R){const q=o(),P=this.fillRadialGradientStartPoint(),K=this.fillRadialGradientEndPoint(),Q=q.createRadialGradient(P.x,P.y,this.fillRadialGradientStartRadius(),K.x,K.y,this.fillRadialGradientEndRadius());for(let Y=0;Y<R.length;Y+=2)Q.addColorStop(R[Y],R[Y+1]);return Q}}getShadowRGBA(){return this._getCache(p,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const R=z.Util.colorToRGBA(this.shadowColor());if(R)return"rgba("+R.r+","+R.g+","+R.b+","+R.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const R=this.hitStrokeWidth();return R==="auto"?this.hasStroke():this.strokeEnabled()&&!!R}intersects(R){const q=this.getStage();if(!q)return!1;const P=q.bufferHitCanvas;return P.getContext().clear(),this.drawHit(P,void 0,!0),P.context.getImageData(Math.round(R.x),Math.round(R.y),1,1).data[3]>0}destroy(){return b.Node.prototype.destroy.call(this),delete h.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(R){var q;if(!((q=this.attrs.perfectDrawEnabled)!==null&&q!==void 0?q:!0))return!1;const K=R||this.hasFill(),Q=this.hasStroke(),Y=this.getAbsoluteOpacity()!==1;if(K&&Q&&Y)return!0;const at=this.hasShadow(),C=this.shadowForStrokeEnabled();return!!(K&&Q&&at&&C)}setStrokeHitEnabled(R){z.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),R?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const R=this.size();return{x:this._centroid?-R.width/2:0,y:this._centroid?-R.height/2:0,width:R.width,height:R.height}}getClientRect(R={}){let q=!1,P=this.getParent();for(;P;){if(P.isCached()){q=!0;break}P=P.getParent()}const K=R.skipTransform,Q=R.relativeTo||q&&this.getStage()||void 0,Y=this.getSelfRect(),C=!R.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,O=Y.width+C,V=Y.height+C,L=!R.skipShadow&&this.hasShadow(),B=L?this.shadowOffsetX():0,Z=L?this.shadowOffsetY():0,F=O+Math.abs(B),tt=V+Math.abs(Z),lt=L&&this.shadowBlur()||0,I=F+lt*2,H=tt+lt*2,k={width:I,height:H,x:-(C/2+lt)+Math.min(B,0)+Y.x,y:-(C/2+lt)+Math.min(Z,0)+Y.y};return K?k:this._transformedRect(k,Q)}drawScene(R,q,P){const K=this.getLayer(),Q=R||K.getCanvas(),Y=Q.getContext(),at=this._getCanvasCache(),C=this.getSceneFunc(),O=this.hasShadow();let V;const L=q===this;if(!this.isVisible()&&!L)return this;if(at){Y.save();const B=this.getAbsoluteTransform(q).getMatrix();return Y.transform(B[0],B[1],B[2],B[3],B[4],B[5]),this._drawCachedSceneCanvas(Y),Y.restore(),this}if(!C)return this;if(Y.save(),this._useBufferCanvas()){V=this.getStage();const B=P||V.bufferCanvas,Z=B.getContext();Z.clear(),Z.save(),Z._applyLineJoin(this);const F=this.getAbsoluteTransform(q).getMatrix();Z.transform(F[0],F[1],F[2],F[3],F[4],F[5]),C.call(this,Z,this),Z.restore();const tt=B.pixelRatio;O&&Y._applyShadow(this),Y._applyOpacity(this),Y._applyGlobalCompositeOperation(this),Y.drawImage(B._canvas,B.x||0,B.y||0,B.width/tt,B.height/tt)}else{if(Y._applyLineJoin(this),!L){const B=this.getAbsoluteTransform(q).getMatrix();Y.transform(B[0],B[1],B[2],B[3],B[4],B[5]),Y._applyOpacity(this),Y._applyGlobalCompositeOperation(this)}O&&Y._applyShadow(this),C.call(this,Y,this)}return Y.restore(),this}drawHit(R,q,P=!1){if(!this.shouldDrawHit(q,P))return this;const K=this.getLayer(),Q=R||K.hitCanvas,Y=Q&&Q.getContext(),at=this.hitFunc()||this.sceneFunc(),C=this._getCanvasCache(),O=C&&C.hit;if(this.colorKey||z.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),O){Y.save();const L=this.getAbsoluteTransform(q).getMatrix();return Y.transform(L[0],L[1],L[2],L[3],L[4],L[5]),this._drawCachedHitCanvas(Y),Y.restore(),this}if(!at)return this;if(Y.save(),Y._applyLineJoin(this),!(this===q)){const L=this.getAbsoluteTransform(q).getMatrix();Y.transform(L[0],L[1],L[2],L[3],L[4],L[5])}return at.call(this,Y,this),Y.restore(),this}drawHitFromCache(R=0){const q=this._getCanvasCache(),P=this._getCachedSceneCanvas(),K=q.hit,Q=K.getContext(),Y=K.getWidth(),at=K.getHeight();Q.clear(),Q.drawImage(P._canvas,0,0,Y,at);try{const C=Q.getImageData(0,0,Y,at),O=C.data,V=O.length,L=z.Util._hexToRgb(this.colorKey);for(let B=0;B<V;B+=4)O[B+3]>R?(O[B]=L.r,O[B+1]=L.g,O[B+2]=L.b,O[B+3]=255):O[B+3]=0;Q.putImageData(C,0,0)}catch(C){z.Util.error("Unable to draw hit graph from cached scene canvas. "+C.message)}return this}hasPointerCapture(R){return d.hasPointerCapture(R,this)}setPointerCapture(R){d.setPointerCapture(R,this)}releaseCapture(R){d.releaseCapture(R,this)}}h.Shape=N,N.prototype._fillFunc=S,N.prototype._strokeFunc=x,N.prototype._fillFuncHit=D,N.prototype._strokeFuncHit=c,N.prototype._centroid=!1,N.prototype.nodeType="Shape",(0,g._registerNode)(N),N.prototype.eventListeners={},N.prototype.on.call(N.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",s),N.prototype.on.call(N.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",y),N.prototype.on.call(N.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",E),N.prototype.on.call(N.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",G),N.prototype.on.call(N.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",w),U.Factory.addGetterSetter(N,"stroke",void 0,(0,_.getStringOrGradientValidator)()),U.Factory.addGetterSetter(N,"strokeWidth",2,(0,_.getNumberValidator)()),U.Factory.addGetterSetter(N,"fillAfterStrokeEnabled",!1),U.Factory.addGetterSetter(N,"hitStrokeWidth","auto",(0,_.getNumberOrAutoValidator)()),U.Factory.addGetterSetter(N,"strokeHitEnabled",!0,(0,_.getBooleanValidator)()),U.Factory.addGetterSetter(N,"perfectDrawEnabled",!0,(0,_.getBooleanValidator)()),U.Factory.addGetterSetter(N,"shadowForStrokeEnabled",!0,(0,_.getBooleanValidator)()),U.Factory.addGetterSetter(N,"lineJoin"),U.Factory.addGetterSetter(N,"lineCap"),U.Factory.addGetterSetter(N,"sceneFunc"),U.Factory.addGetterSetter(N,"hitFunc"),U.Factory.addGetterSetter(N,"dash"),U.Factory.addGetterSetter(N,"dashOffset",0,(0,_.getNumberValidator)()),U.Factory.addGetterSetter(N,"shadowColor",void 0,(0,_.getStringValidator)()),U.Factory.addGetterSetter(N,"shadowBlur",0,(0,_.getNumberValidator)()),U.Factory.addGetterSetter(N,"shadowOpacity",1,(0,_.getNumberValidator)()),U.Factory.addComponentsGetterSetter(N,"shadowOffset",["x","y"]),U.Factory.addGetterSetter(N,"shadowOffsetX",0,(0,_.getNumberValidator)()),U.Factory.addGetterSetter(N,"shadowOffsetY",0,(0,_.getNumberValidator)()),U.Factory.addGetterSetter(N,"fillPatternImage"),U.Factory.addGetterSetter(N,"fill",void 0,(0,_.getStringOrGradientValidator)()),U.Factory.addGetterSetter(N,"fillPatternX",0,(0,_.getNumberValidator)()),U.Factory.addGetterSetter(N,"fillPatternY",0,(0,_.getNumberValidator)()),U.Factory.addGetterSetter(N,"fillLinearGradientColorStops"),U.Factory.addGetterSetter(N,"strokeLinearGradientColorStops"),U.Factory.addGetterSetter(N,"fillRadialGradientStartRadius",0),U.Factory.addGetterSetter(N,"fillRadialGradientEndRadius",0),U.Factory.addGetterSetter(N,"fillRadialGradientColorStops"),U.Factory.addGetterSetter(N,"fillPatternRepeat","repeat"),U.Factory.addGetterSetter(N,"fillEnabled",!0),U.Factory.addGetterSetter(N,"strokeEnabled",!0),U.Factory.addGetterSetter(N,"shadowEnabled",!0),U.Factory.addGetterSetter(N,"dashEnabled",!0),U.Factory.addGetterSetter(N,"strokeScaleEnabled",!0),U.Factory.addGetterSetter(N,"fillPriority","color"),U.Factory.addComponentsGetterSetter(N,"fillPatternOffset",["x","y"]),U.Factory.addGetterSetter(N,"fillPatternOffsetX",0,(0,_.getNumberValidator)()),U.Factory.addGetterSetter(N,"fillPatternOffsetY",0,(0,_.getNumberValidator)()),U.Factory.addComponentsGetterSetter(N,"fillPatternScale",["x","y"]),U.Factory.addGetterSetter(N,"fillPatternScaleX",1,(0,_.getNumberValidator)()),U.Factory.addGetterSetter(N,"fillPatternScaleY",1,(0,_.getNumberValidator)()),U.Factory.addComponentsGetterSetter(N,"fillLinearGradientStartPoint",["x","y"]),U.Factory.addComponentsGetterSetter(N,"strokeLinearGradientStartPoint",["x","y"]),U.Factory.addGetterSetter(N,"fillLinearGradientStartPointX",0),U.Factory.addGetterSetter(N,"strokeLinearGradientStartPointX",0),U.Factory.addGetterSetter(N,"fillLinearGradientStartPointY",0),U.Factory.addGetterSetter(N,"strokeLinearGradientStartPointY",0),U.Factory.addComponentsGetterSetter(N,"fillLinearGradientEndPoint",["x","y"]),U.Factory.addComponentsGetterSetter(N,"strokeLinearGradientEndPoint",["x","y"]),U.Factory.addGetterSetter(N,"fillLinearGradientEndPointX",0),U.Factory.addGetterSetter(N,"strokeLinearGradientEndPointX",0),U.Factory.addGetterSetter(N,"fillLinearGradientEndPointY",0),U.Factory.addGetterSetter(N,"strokeLinearGradientEndPointY",0),U.Factory.addComponentsGetterSetter(N,"fillRadialGradientStartPoint",["x","y"]),U.Factory.addGetterSetter(N,"fillRadialGradientStartPointX",0),U.Factory.addGetterSetter(N,"fillRadialGradientStartPointY",0),U.Factory.addComponentsGetterSetter(N,"fillRadialGradientEndPoint",["x","y"]),U.Factory.addGetterSetter(N,"fillRadialGradientEndPointX",0),U.Factory.addGetterSetter(N,"fillRadialGradientEndPointY",0),U.Factory.addGetterSetter(N,"fillPatternRotation",0),U.Factory.addGetterSetter(N,"fillRule",void 0,(0,_.getStringValidator)()),U.Factory.backCompat(N,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})}(Or)),Or}var Kc;function Zh(){if(Kc)return ri;Kc=1,Object.defineProperty(ri,"__esModule",{value:!0}),ri.Layer=void 0;const h=Yt(),r=Pl(),z=Qt(),U=Tt(),b=wl(),_=xt(),g=oe(),d=bt(),f="#",p="beforeDraw",m="draw",T=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],v=T.length;class u extends r.Container{constructor(S){super(S),this.canvas=new b.SceneCanvas,this.hitCanvas=new b.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(S){return this.getContext().clear(S),this.getHitCanvas().getContext().clear(S),this}setZIndex(S){super.setZIndex(S);const x=this.getStage();return x&&x.content&&(x.content.removeChild(this.getNativeCanvasElement()),S<x.children.length-1?x.content.insertBefore(this.getNativeCanvasElement(),x.children[S+1].getCanvas()._canvas):x.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){z.Node.prototype.moveToTop.call(this);const S=this.getStage();return S&&S.content&&(S.content.removeChild(this.getNativeCanvasElement()),S.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!z.Node.prototype.moveUp.call(this))return!1;const x=this.getStage();return!x||!x.content?!1:(x.content.removeChild(this.getNativeCanvasElement()),this.index<x.children.length-1?x.content.insertBefore(this.getNativeCanvasElement(),x.children[this.index+1].getCanvas()._canvas):x.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(z.Node.prototype.moveDown.call(this)){const S=this.getStage();if(S){const x=S.children;S.content&&(S.content.removeChild(this.getNativeCanvasElement()),S.content.insertBefore(this.getNativeCanvasElement(),x[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(z.Node.prototype.moveToBottom.call(this)){const S=this.getStage();if(S){const x=S.children;S.content&&(S.content.removeChild(this.getNativeCanvasElement()),S.content.insertBefore(this.getNativeCanvasElement(),x[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const S=this.getNativeCanvasElement();return z.Node.prototype.remove.call(this),S&&S.parentNode&&h.Util._isInDocument(S)&&S.parentNode.removeChild(S),this}getStage(){return this.parent}setSize({width:S,height:x}){return this.canvas.setSize(S,x),this.hitCanvas.setSize(S,x),this._setSmoothEnabled(),this}_validateAdd(S){const x=S.getType();x!=="Group"&&x!=="Shape"&&h.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(S){return S=S||{},S.width=S.width||this.getWidth(),S.height=S.height||this.getHeight(),S.x=S.x!==void 0?S.x:this.x(),S.y=S.y!==void 0?S.y:this.y(),z.Node.prototype._toKonvaCanvas.call(this,S)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){h.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){h.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,h.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(S){if(!this.isListening()||!this.isVisible())return null;let x=1,D=!1;for(;;){for(let c=0;c<v;c++){const s=T[c],y=this._getIntersection({x:S.x+s.x*x,y:S.y+s.y*x}),E=y.shape;if(E)return E;if(D=!!y.antialiased,!y.antialiased)break}if(D)x+=1;else return null}}_getIntersection(S){const x=this.hitCanvas.pixelRatio,D=this.hitCanvas.context.getImageData(Math.round(S.x*x),Math.round(S.y*x),1,1).data,c=D[3];if(c===255){const s=h.Util._rgbToHex(D[0],D[1],D[2]),y=g.shapes[f+s];return y?{shape:y}:{antialiased:!0}}else if(c>0)return{antialiased:!0};return{}}drawScene(S,x,D){const c=this.getLayer(),s=S||c&&c.getCanvas();return this._fire(p,{node:this}),this.clearBeforeDraw()&&s.getContext().clear(),r.Container.prototype.drawScene.call(this,s,x,D),this._fire(m,{node:this}),this}drawHit(S,x){const D=this.getLayer(),c=S||D&&D.hitCanvas;return D&&D.clearBeforeDraw()&&D.getHitCanvas().getContext().clear(),r.Container.prototype.drawHit.call(this,c,x),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(S){h.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(S)}getHitGraphEnabled(S){return h.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const S=this.parent;!!this.hitCanvas._canvas.parentNode?S.content.removeChild(this.hitCanvas._canvas):S.content.appendChild(this.hitCanvas._canvas)}destroy(){return h.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}return ri.Layer=u,u.prototype.nodeType="Layer",(0,d._registerNode)(u),U.Factory.addGetterSetter(u,"imageSmoothingEnabled",!0),U.Factory.addGetterSetter(u,"clearBeforeDraw",!0),U.Factory.addGetterSetter(u,"hitGraphEnabled",!0,(0,_.getBooleanValidator)()),ri}var oi={},Xc;function g1(){if(Xc)return oi;Xc=1,Object.defineProperty(oi,"__esModule",{value:!0}),oi.FastLayer=void 0;const h=Yt(),r=Zh(),z=bt();let U=class extends r.Layer{constructor(_){super(_),this.listening(!1),h.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}};return oi.FastLayer=U,U.prototype.nodeType="FastLayer",(0,z._registerNode)(U),oi}var ui={},Qc;function jr(){if(Qc)return ui;Qc=1,Object.defineProperty(ui,"__esModule",{value:!0}),ui.Group=void 0;const h=Yt(),r=Pl(),z=bt();let U=class extends r.Container{_validateAdd(_){const g=_.getType();g!=="Group"&&g!=="Shape"&&h.Util.throw("You may only add groups and shapes to groups.")}};return ui.Group=U,U.prototype.nodeType="Group",(0,z._registerNode)(U),ui}var ci={},Zc;function wr(){if(Zc)return ci;Zc=1,Object.defineProperty(ci,"__esModule",{value:!0}),ci.Animation=void 0;const h=bt(),r=Yt(),z=function(){return h.glob.performance&&h.glob.performance.now?function(){return h.glob.performance.now()}:function(){return new Date().getTime()}}();let U=class An{constructor(_,g){this.id=An.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:z(),frameRate:0},this.func=_,this.setLayers(g)}setLayers(_){let g=[];return _&&(g=Array.isArray(_)?_:[_]),this.layers=g,this}getLayers(){return this.layers}addLayer(_){const g=this.layers,d=g.length;for(let f=0;f<d;f++)if(g[f]._id===_._id)return!1;return this.layers.push(_),!0}isRunning(){const g=An.animations,d=g.length;for(let f=0;f<d;f++)if(g[f].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=z(),An._addAnimation(this),this}stop(){return An._removeAnimation(this),this}_updateFrameObject(_){this.frame.timeDiff=_-this.frame.lastTime,this.frame.lastTime=_,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(_){this.animations.push(_),this._handleAnimation()}static _removeAnimation(_){const g=_.id,d=this.animations,f=d.length;for(let p=0;p<f;p++)if(d[p].id===g){this.animations.splice(p,1);break}}static _runFrames(){const _={},g=this.animations;for(let d=0;d<g.length;d++){const f=g[d],p=f.layers,m=f.func;f._updateFrameObject(z());const T=p.length;let v;if(m?v=m.call(f,f.frame)!==!1:v=!0,!!v)for(let u=0;u<T;u++){const o=p[u];o._id!==void 0&&(_[o._id]=o)}}for(const d in _)_.hasOwnProperty(d)&&_[d].batchDraw()}static _animationLoop(){const _=An;_.animations.length?(_._runFrames(),r.Util.requestAnimFrame(_._animationLoop)):_.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,r.Util.requestAnimFrame(this._animationLoop))}};return ci.Animation=U,U.animations=[],U.animIdCounter=0,U.animRunning=!1,ci}var Dr={},kc;function m1(){return kc||(kc=1,function(h){Object.defineProperty(h,"__esModule",{value:!0}),h.Easings=h.Tween=void 0;const r=Yt(),z=wr(),U=Qt(),b=bt(),_={node:1,duration:1,easing:1,onFinish:1,yoyo:1},g=1,d=2,f=3,p=["fill","stroke","shadowColor"];let m=0;class T{constructor(o,S,x,D,c,s,y){this.prop=o,this.propFunc=S,this.begin=D,this._pos=D,this.duration=s,this._change=0,this.prevPos=0,this.yoyo=y,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=x,this._change=c-this.begin,this.pause()}fire(o){const S=this[o];S&&S()}setTime(o){o>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():o<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=o,this.update())}getTime(){return this._time}setPosition(o){this.prevPos=this._pos,this.propFunc(o),this._pos=o}getPosition(o){return o===void 0&&(o=this._time),this.func(o,this.begin,this._change,this.duration)}play(){this.state=d,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=f,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(o){this.pause(),this._time=o,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const o=this.getTimer()-this._startTime;this.state===d?this.setTime(o):this.state===f&&this.setTime(this.duration-o)}pause(){this.state=g,this.fire("onPause")}getTimer(){return new Date().getTime()}}class v{constructor(o){const S=this,x=o.node,D=x._id,c=o.easing||h.Easings.Linear,s=!!o.yoyo;let y,E;typeof o.duration>"u"?y=.3:o.duration===0?y=.001:y=o.duration,this.node=x,this._id=m++;const G=x.getLayer()||(x instanceof b.Konva.Stage?x.getLayers():null);G||r.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new z.Animation(function(){S.tween.onEnterFrame()},G),this.tween=new T(E,function(w){S._tweenFunc(w)},c,0,1,y*1e3,s),this._addListeners(),v.attrs[D]||(v.attrs[D]={}),v.attrs[D][this._id]||(v.attrs[D][this._id]={}),v.tweens[D]||(v.tweens[D]={});for(E in o)_[E]===void 0&&this._addAttr(E,o[E]);this.reset(),this.onFinish=o.onFinish,this.onReset=o.onReset,this.onUpdate=o.onUpdate}_addAttr(o,S){const x=this.node,D=x._id;let c,s,y,E,G;const w=v.tweens[D][o];w&&delete v.attrs[D][w][o];let N=x.getAttr(o);if(r.Util._isArray(S))if(c=[],s=Math.max(S.length,N.length),o==="points"&&S.length!==N.length&&(S.length>N.length?(E=N,N=r.Util._prepareArrayForTween(N,S,x.closed())):(y=S,S=r.Util._prepareArrayForTween(S,N,x.closed()))),o.indexOf("fill")===0)for(let A=0;A<s;A++)if(A%2===0)c.push(S[A]-N[A]);else{const R=r.Util.colorToRGBA(N[A]);G=r.Util.colorToRGBA(S[A]),N[A]=R,c.push({r:G.r-R.r,g:G.g-R.g,b:G.b-R.b,a:G.a-R.a})}else for(let A=0;A<s;A++)c.push(S[A]-N[A]);else p.indexOf(o)!==-1?(N=r.Util.colorToRGBA(N),G=r.Util.colorToRGBA(S),c={r:G.r-N.r,g:G.g-N.g,b:G.b-N.b,a:G.a-N.a}):c=S-N;v.attrs[D][this._id][o]={start:N,diff:c,end:S,trueEnd:y,trueStart:E},v.tweens[D][o]=this._id}_tweenFunc(o){const S=this.node,x=v.attrs[S._id][this._id];let D,c,s,y,E,G,w,N;for(D in x){if(c=x[D],s=c.start,y=c.diff,N=c.end,r.Util._isArray(s))if(E=[],w=Math.max(s.length,N.length),D.indexOf("fill")===0)for(G=0;G<w;G++)G%2===0?E.push((s[G]||0)+y[G]*o):E.push("rgba("+Math.round(s[G].r+y[G].r*o)+","+Math.round(s[G].g+y[G].g*o)+","+Math.round(s[G].b+y[G].b*o)+","+(s[G].a+y[G].a*o)+")");else for(G=0;G<w;G++)E.push((s[G]||0)+y[G]*o);else p.indexOf(D)!==-1?E="rgba("+Math.round(s.r+y.r*o)+","+Math.round(s.g+y.g*o)+","+Math.round(s.b+y.b*o)+","+(s.a+y.a*o)+")":E=s+y*o;S.setAttr(D,E)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const o=this.node,S=v.attrs[o._id][this._id];S.points&&S.points.trueEnd&&o.setAttr("points",S.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const o=this.node,S=v.attrs[o._id][this._id];S.points&&S.points.trueStart&&o.points(S.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(o){return this.tween.seek(o*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const o=this.node._id,S=this._id,x=v.tweens[o];this.pause(),this.anim&&this.anim.stop();for(const D in x)delete v.tweens[o][D];delete v.attrs[o][S],v.tweens[o]&&(Object.keys(v.tweens[o]).length===0&&delete v.tweens[o],Object.keys(v.attrs[o]).length===0&&delete v.attrs[o])}}h.Tween=v,v.attrs={},v.tweens={},U.Node.prototype.to=function(u){const o=u.onFinish;u.node=this,u.onFinish=function(){this.destroy(),o&&o()},new v(u).play()},h.Easings={BackEaseIn(u,o,S,x){return S*(u/=x)*u*((1.70158+1)*u-1.70158)+o},BackEaseOut(u,o,S,x){return S*((u=u/x-1)*u*((1.70158+1)*u+1.70158)+1)+o},BackEaseInOut(u,o,S,x){let D=1.70158;return(u/=x/2)<1?S/2*(u*u*(((D*=1.525)+1)*u-D))+o:S/2*((u-=2)*u*(((D*=1.525)+1)*u+D)+2)+o},ElasticEaseIn(u,o,S,x,D,c){let s=0;return u===0?o:(u/=x)===1?o+S:(c||(c=x*.3),!D||D<Math.abs(S)?(D=S,s=c/4):s=c/(2*Math.PI)*Math.asin(S/D),-(D*Math.pow(2,10*(u-=1))*Math.sin((u*x-s)*(2*Math.PI)/c))+o)},ElasticEaseOut(u,o,S,x,D,c){let s=0;return u===0?o:(u/=x)===1?o+S:(c||(c=x*.3),!D||D<Math.abs(S)?(D=S,s=c/4):s=c/(2*Math.PI)*Math.asin(S/D),D*Math.pow(2,-10*u)*Math.sin((u*x-s)*(2*Math.PI)/c)+S+o)},ElasticEaseInOut(u,o,S,x,D,c){let s=0;return u===0?o:(u/=x/2)===2?o+S:(c||(c=x*(.3*1.5)),!D||D<Math.abs(S)?(D=S,s=c/4):s=c/(2*Math.PI)*Math.asin(S/D),u<1?-.5*(D*Math.pow(2,10*(u-=1))*Math.sin((u*x-s)*(2*Math.PI)/c))+o:D*Math.pow(2,-10*(u-=1))*Math.sin((u*x-s)*(2*Math.PI)/c)*.5+S+o)},BounceEaseOut(u,o,S,x){return(u/=x)<1/2.75?S*(7.5625*u*u)+o:u<2/2.75?S*(7.5625*(u-=1.5/2.75)*u+.75)+o:u<2.5/2.75?S*(7.5625*(u-=2.25/2.75)*u+.9375)+o:S*(7.5625*(u-=2.625/2.75)*u+.984375)+o},BounceEaseIn(u,o,S,x){return S-h.Easings.BounceEaseOut(x-u,0,S,x)+o},BounceEaseInOut(u,o,S,x){return u<x/2?h.Easings.BounceEaseIn(u*2,0,S,x)*.5+o:h.Easings.BounceEaseOut(u*2-x,0,S,x)*.5+S*.5+o},EaseIn(u,o,S,x){return S*(u/=x)*u+o},EaseOut(u,o,S,x){return-S*(u/=x)*(u-2)+o},EaseInOut(u,o,S,x){return(u/=x/2)<1?S/2*u*u+o:-S/2*(--u*(u-2)-1)+o},StrongEaseIn(u,o,S,x){return S*(u/=x)*u*u*u*u+o},StrongEaseOut(u,o,S,x){return S*((u=u/x-1)*u*u*u*u+1)+o},StrongEaseInOut(u,o,S,x){return(u/=x/2)<1?S/2*u*u*u*u*u+o:S/2*((u-=2)*u*u*u*u+2)+o},Linear(u,o,S,x){return S*u/x+o}}}(Dr)),Dr}var Jc;function Vr(){return Jc||(Jc=1,function(h){Object.defineProperty(h,"__esModule",{value:!0}),h.Konva=void 0;const r=bt(),z=Yt(),U=Qt(),b=Pl(),_=f1(),g=Zh(),d=g1(),f=jr(),p=qr(),m=oe(),T=wr(),v=m1(),u=Xh(),o=wl();h.Konva=z.Util._assign(r.Konva,{Util:z.Util,Transform:z.Transform,Node:U.Node,Container:b.Container,Stage:_.Stage,stages:_.stages,Layer:g.Layer,FastLayer:d.FastLayer,Group:f.Group,DD:p.DD,Shape:m.Shape,shapes:m.shapes,Animation:T.Animation,Tween:v.Tween,Easings:v.Easings,Context:u.Context,Canvas:o.Canvas}),h.default=h.Konva}(Tr)),Tr}var hi={},Wc;function p1(){if(Wc)return hi;Wc=1,Object.defineProperty(hi,"__esModule",{value:!0}),hi.Arc=void 0;const h=Tt(),r=oe(),z=bt(),U=xt(),b=bt();let _=class extends r.Shape{_sceneFunc(d){const f=z.Konva.getAngle(this.angle()),p=this.clockwise();d.beginPath(),d.arc(0,0,this.outerRadius(),0,f,p),d.arc(0,0,this.innerRadius(),f,0,!p),d.closePath(),d.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(d){this.outerRadius(d/2)}setHeight(d){this.outerRadius(d/2)}getSelfRect(){const d=this.innerRadius(),f=this.outerRadius(),p=this.clockwise(),m=z.Konva.getAngle(p?360-this.angle():this.angle()),T=Math.cos(Math.min(m,Math.PI)),v=1,u=Math.sin(Math.min(Math.max(Math.PI,m),3*Math.PI/2)),o=Math.sin(Math.min(m,Math.PI/2)),S=T*(T>0?d:f),x=v*f,D=u*(u>0?d:f),c=o*(o>0?f:d);return{x:S,y:p?-1*c:D,width:x-S,height:c-D}}};return hi.Arc=_,_.prototype._centroid=!0,_.prototype.className="Arc",_.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"],(0,b._registerNode)(_),h.Factory.addGetterSetter(_,"innerRadius",0,(0,U.getNumberValidator)()),h.Factory.addGetterSetter(_,"outerRadius",0,(0,U.getNumberValidator)()),h.Factory.addGetterSetter(_,"angle",0,(0,U.getNumberValidator)()),h.Factory.addGetterSetter(_,"clockwise",!1,(0,U.getBooleanValidator)()),hi}var di={},fi={},Ic;function kh(){if(Ic)return fi;Ic=1,Object.defineProperty(fi,"__esModule",{value:!0}),fi.Line=void 0;const h=Tt(),r=bt(),z=oe(),U=xt();function b(d,f,p,m,T,v,u){const o=Math.sqrt(Math.pow(p-d,2)+Math.pow(m-f,2)),S=Math.sqrt(Math.pow(T-p,2)+Math.pow(v-m,2)),x=u*o/(o+S),D=u*S/(o+S),c=p-x*(T-d),s=m-x*(v-f),y=p+D*(T-d),E=m+D*(v-f);return[c,s,y,E]}function _(d,f){const p=d.length,m=[];for(let T=2;T<p-2;T+=2){const v=b(d[T-2],d[T-1],d[T],d[T+1],d[T+2],d[T+3],f);isNaN(v[0])||(m.push(v[0]),m.push(v[1]),m.push(d[T]),m.push(d[T+1]),m.push(v[2]),m.push(v[3]))}return m}class g extends z.Shape{constructor(f){super(f),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(f){const p=this.points(),m=p.length,T=this.tension(),v=this.closed(),u=this.bezier();if(!m)return;let o=0;if(f.beginPath(),f.moveTo(p[0],p[1]),T!==0&&m>4){const S=this.getTensionPoints(),x=S.length;for(o=v?0:4,v||f.quadraticCurveTo(S[0],S[1],S[2],S[3]);o<x-2;)f.bezierCurveTo(S[o++],S[o++],S[o++],S[o++],S[o++],S[o++]);v||f.quadraticCurveTo(S[x-2],S[x-1],p[m-2],p[m-1])}else if(u)for(o=2;o<m;)f.bezierCurveTo(p[o++],p[o++],p[o++],p[o++],p[o++],p[o++]);else for(o=2;o<m;o+=2)f.lineTo(p[o],p[o+1]);v?(f.closePath(),f.fillStrokeShape(this)):f.strokeShape(this)}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():_(this.points(),this.tension())}_getTensionPointsClosed(){const f=this.points(),p=f.length,m=this.tension(),T=b(f[p-2],f[p-1],f[0],f[1],f[2],f[3],m),v=b(f[p-4],f[p-3],f[p-2],f[p-1],f[0],f[1],m),u=_(f,m);return[T[2],T[3]].concat(u).concat([v[0],v[1],f[p-2],f[p-1],v[2],v[3],T[0],T[1],f[0],f[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let f=this.points();if(f.length<4)return{x:f[0]||0,y:f[1]||0,width:0,height:0};this.tension()!==0?f=[f[0],f[1],...this._getTensionPoints(),f[f.length-2],f[f.length-1]]:f=this.points();let p=f[0],m=f[0],T=f[1],v=f[1],u,o;for(let S=0;S<f.length/2;S++)u=f[S*2],o=f[S*2+1],p=Math.min(p,u),m=Math.max(m,u),T=Math.min(T,o),v=Math.max(v,o);return{x:p,y:T,width:m-p,height:v-T}}}return fi.Line=g,g.prototype.className="Line",g.prototype._attrsAffectingSize=["points","bezier","tension"],(0,r._registerNode)(g),h.Factory.addGetterSetter(g,"closed",!1),h.Factory.addGetterSetter(g,"bezier",!1),h.Factory.addGetterSetter(g,"tension",0,(0,U.getNumberValidator)()),h.Factory.addGetterSetter(g,"points",[],(0,U.getNumberArrayValidator)()),fi}var gi={},Gr={},$c;function v1(){return $c||($c=1,function(h){Object.defineProperty(h,"__esModule",{value:!0}),h.t2length=h.getQuadraticArcLength=h.getCubicArcLength=h.binomialCoefficients=h.cValues=h.tValues=void 0,h.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],h.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],h.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const r=(g,d,f)=>{let p,m;const v=f/2;p=0;for(let u=0;u<20;u++)m=v*h.tValues[20][u]+v,p+=h.cValues[20][u]*U(g,d,m);return v*p};h.getCubicArcLength=r;const z=(g,d,f)=>{f===void 0&&(f=1);const p=g[0]-2*g[1]+g[2],m=d[0]-2*d[1]+d[2],T=2*g[1]-2*g[0],v=2*d[1]-2*d[0],u=4*(p*p+m*m),o=4*(p*T+m*v),S=T*T+v*v;if(u===0)return f*Math.sqrt(Math.pow(g[2]-g[0],2)+Math.pow(d[2]-d[0],2));const x=o/(2*u),D=S/u,c=f+x,s=D-x*x,y=c*c+s>0?Math.sqrt(c*c+s):0,E=x*x+s>0?Math.sqrt(x*x+s):0,G=x+Math.sqrt(x*x+s)!==0?s*Math.log(Math.abs((c+y)/(x+E))):0;return Math.sqrt(u)/2*(c*y-x*E+G)};h.getQuadraticArcLength=z;function U(g,d,f){const p=b(1,f,g),m=b(1,f,d),T=p*p+m*m;return Math.sqrt(T)}const b=(g,d,f)=>{const p=f.length-1;let m,T;if(p===0)return 0;if(g===0){T=0;for(let v=0;v<=p;v++)T+=h.binomialCoefficients[p][v]*Math.pow(1-d,p-v)*Math.pow(d,v)*f[v];return T}else{m=new Array(p);for(let v=0;v<p;v++)m[v]=p*(f[v+1]-f[v]);return b(g-1,d,m)}},_=(g,d,f)=>{let p=1,m=g/d,T=(g-f(m))/d,v=0;for(;p>.001;){const u=f(m+T),o=Math.abs(g-u)/d;if(o<p)p=o,m+=T;else{const S=f(m-T),x=Math.abs(g-S)/d;x<p?(p=x,m-=T):T/=2}if(v++,v>500)break}return m};h.t2length=_}(Gr)),Gr}var th;function Pr(){if(th)return gi;th=1,Object.defineProperty(gi,"__esModule",{value:!0}),gi.Path=void 0;const h=Tt(),r=bt(),z=oe(),U=v1();let b=class Te extends z.Shape{constructor(g){super(g),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=Te.parsePathData(this.data()),this.pathLength=Te.getPathLength(this.dataArray)}_sceneFunc(g){const d=this.dataArray;g.beginPath();let f=!1;for(let p=0;p<d.length;p++){const m=d[p].command,T=d[p].points;switch(m){case"L":g.lineTo(T[0],T[1]);break;case"M":g.moveTo(T[0],T[1]);break;case"C":g.bezierCurveTo(T[0],T[1],T[2],T[3],T[4],T[5]);break;case"Q":g.quadraticCurveTo(T[0],T[1],T[2],T[3]);break;case"A":const v=T[0],u=T[1],o=T[2],S=T[3],x=T[4],D=T[5],c=T[6],s=T[7],y=o>S?o:S,E=o>S?1:o/S,G=o>S?S/o:1;g.translate(v,u),g.rotate(c),g.scale(E,G),g.arc(0,0,y,x,x+D,1-s),g.scale(1/E,1/G),g.rotate(-c),g.translate(-v,-u);break;case"z":f=!0,g.closePath();break}}!f&&!this.hasFill()?g.strokeShape(this):g.fillStrokeShape(this)}getSelfRect(){let g=[];this.dataArray.forEach(function(u){if(u.command==="A"){const o=u.points[4],S=u.points[5],x=u.points[4]+S;let D=Math.PI/180;if(Math.abs(o-x)<D&&(D=Math.abs(o-x)),S<0)for(let c=o-D;c>x;c-=D){const s=Te.getPointOnEllipticalArc(u.points[0],u.points[1],u.points[2],u.points[3],c,0);g.push(s.x,s.y)}else for(let c=o+D;c<x;c+=D){const s=Te.getPointOnEllipticalArc(u.points[0],u.points[1],u.points[2],u.points[3],c,0);g.push(s.x,s.y)}}else if(u.command==="C")for(let o=0;o<=1;o+=.01){const S=Te.getPointOnCubicBezier(o,u.start.x,u.start.y,u.points[0],u.points[1],u.points[2],u.points[3],u.points[4],u.points[5]);g.push(S.x,S.y)}else g=g.concat(u.points)});let d=g[0],f=g[0],p=g[1],m=g[1],T,v;for(let u=0;u<g.length/2;u++)T=g[u*2],v=g[u*2+1],isNaN(T)||(d=Math.min(d,T),f=Math.max(f,T)),isNaN(v)||(p=Math.min(p,v),m=Math.max(m,v));return{x:d,y:p,width:f-d,height:m-p}}getLength(){return this.pathLength}getPointAtLength(g){return Te.getPointAtLengthOfDataArray(g,this.dataArray)}static getLineLength(g,d,f,p){return Math.sqrt((f-g)*(f-g)+(p-d)*(p-d))}static getPathLength(g){let d=0;for(let f=0;f<g.length;++f)d+=g[f].pathLength;return d}static getPointAtLengthOfDataArray(g,d){let f,p=0,m=d.length;if(!m)return null;for(;p<m&&g>d[p].pathLength;)g-=d[p].pathLength,++p;if(p===m)return f=d[p-1].points.slice(-2),{x:f[0],y:f[1]};if(g<.01)return d[p].command==="M"?(f=d[p].points.slice(0,2),{x:f[0],y:f[1]}):{x:d[p].start.x,y:d[p].start.y};const T=d[p],v=T.points;switch(T.command){case"L":return Te.getPointOnLine(g,T.start.x,T.start.y,v[0],v[1]);case"C":return Te.getPointOnCubicBezier((0,U.t2length)(g,Te.getPathLength(d),y=>(0,U.getCubicArcLength)([T.start.x,v[0],v[2],v[4]],[T.start.y,v[1],v[3],v[5]],y)),T.start.x,T.start.y,v[0],v[1],v[2],v[3],v[4],v[5]);case"Q":return Te.getPointOnQuadraticBezier((0,U.t2length)(g,Te.getPathLength(d),y=>(0,U.getQuadraticArcLength)([T.start.x,v[0],v[2]],[T.start.y,v[1],v[3]],y)),T.start.x,T.start.y,v[0],v[1],v[2],v[3]);case"A":const u=v[0],o=v[1],S=v[2],x=v[3],D=v[5],c=v[6];let s=v[4];return s+=D*g/T.pathLength,Te.getPointOnEllipticalArc(u,o,S,x,s,c)}return null}static getPointOnLine(g,d,f,p,m,T,v){T=T??d,v=v??f;const u=this.getLineLength(d,f,p,m);if(u<1e-10)return{x:d,y:f};if(p===d)return{x:T,y:v+(m>f?g:-g)};const o=(m-f)/(p-d),S=Math.sqrt(g*g/(1+o*o))*(p<d?-1:1),x=o*S;if(Math.abs(v-f-o*(T-d))<1e-10)return{x:T+S,y:v+x};const D=((T-d)*(p-d)+(v-f)*(m-f))/(u*u),c=d+D*(p-d),s=f+D*(m-f),y=this.getLineLength(T,v,c,s),E=Math.sqrt(g*g-y*y),G=Math.sqrt(E*E/(1+o*o))*(p<d?-1:1),w=o*G;return{x:c+G,y:s+w}}static getPointOnCubicBezier(g,d,f,p,m,T,v,u,o){function S(E){return E*E*E}function x(E){return 3*E*E*(1-E)}function D(E){return 3*E*(1-E)*(1-E)}function c(E){return(1-E)*(1-E)*(1-E)}const s=u*S(g)+T*x(g)+p*D(g)+d*c(g),y=o*S(g)+v*x(g)+m*D(g)+f*c(g);return{x:s,y}}static getPointOnQuadraticBezier(g,d,f,p,m,T,v){function u(c){return c*c}function o(c){return 2*c*(1-c)}function S(c){return(1-c)*(1-c)}const x=T*u(g)+p*o(g)+d*S(g),D=v*u(g)+m*o(g)+f*S(g);return{x,y:D}}static getPointOnEllipticalArc(g,d,f,p,m,T){const v=Math.cos(T),u=Math.sin(T),o={x:f*Math.cos(m),y:p*Math.sin(m)};return{x:g+(o.x*v-o.y*u),y:d+(o.x*u+o.y*v)}}static parsePathData(g){if(!g)return[];let d=g;const f=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];d=d.replace(new RegExp(" ","g"),",");for(let x=0;x<f.length;x++)d=d.replace(new RegExp(f[x],"g"),"|"+f[x]);const p=d.split("|"),m=[],T=[];let v=0,u=0;const o=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let S;for(let x=1;x<p.length;x++){let D=p[x],c=D.charAt(0);for(D=D.slice(1),T.length=0;S=o.exec(D);)T.push(S[0]);const s=[];for(let y=0,E=T.length;y<E;y++){if(T[y]==="00"){s.push(0,0);continue}const G=parseFloat(T[y]);isNaN(G)?s.push(0):s.push(G)}for(;s.length>0&&!isNaN(s[0]);){let y="",E=[];const G=v,w=u;let N,A,R,q,P,K,Q,Y,at,C;switch(c){case"l":v+=s.shift(),u+=s.shift(),y="L",E.push(v,u);break;case"L":v=s.shift(),u=s.shift(),E.push(v,u);break;case"m":const O=s.shift(),V=s.shift();if(v+=O,u+=V,y="M",m.length>2&&m[m.length-1].command==="z"){for(let L=m.length-2;L>=0;L--)if(m[L].command==="M"){v=m[L].points[0]+O,u=m[L].points[1]+V;break}}E.push(v,u),c="l";break;case"M":v=s.shift(),u=s.shift(),y="M",E.push(v,u),c="L";break;case"h":v+=s.shift(),y="L",E.push(v,u);break;case"H":v=s.shift(),y="L",E.push(v,u);break;case"v":u+=s.shift(),y="L",E.push(v,u);break;case"V":u=s.shift(),y="L",E.push(v,u);break;case"C":E.push(s.shift(),s.shift(),s.shift(),s.shift()),v=s.shift(),u=s.shift(),E.push(v,u);break;case"c":E.push(v+s.shift(),u+s.shift(),v+s.shift(),u+s.shift()),v+=s.shift(),u+=s.shift(),y="C",E.push(v,u);break;case"S":A=v,R=u,N=m[m.length-1],N.command==="C"&&(A=v+(v-N.points[2]),R=u+(u-N.points[3])),E.push(A,R,s.shift(),s.shift()),v=s.shift(),u=s.shift(),y="C",E.push(v,u);break;case"s":A=v,R=u,N=m[m.length-1],N.command==="C"&&(A=v+(v-N.points[2]),R=u+(u-N.points[3])),E.push(A,R,v+s.shift(),u+s.shift()),v+=s.shift(),u+=s.shift(),y="C",E.push(v,u);break;case"Q":E.push(s.shift(),s.shift()),v=s.shift(),u=s.shift(),E.push(v,u);break;case"q":E.push(v+s.shift(),u+s.shift()),v+=s.shift(),u+=s.shift(),y="Q",E.push(v,u);break;case"T":A=v,R=u,N=m[m.length-1],N.command==="Q"&&(A=v+(v-N.points[0]),R=u+(u-N.points[1])),v=s.shift(),u=s.shift(),y="Q",E.push(A,R,v,u);break;case"t":A=v,R=u,N=m[m.length-1],N.command==="Q"&&(A=v+(v-N.points[0]),R=u+(u-N.points[1])),v+=s.shift(),u+=s.shift(),y="Q",E.push(A,R,v,u);break;case"A":q=s.shift(),P=s.shift(),K=s.shift(),Q=s.shift(),Y=s.shift(),at=v,C=u,v=s.shift(),u=s.shift(),y="A",E=this.convertEndpointToCenterParameterization(at,C,v,u,Q,Y,q,P,K);break;case"a":q=s.shift(),P=s.shift(),K=s.shift(),Q=s.shift(),Y=s.shift(),at=v,C=u,v+=s.shift(),u+=s.shift(),y="A",E=this.convertEndpointToCenterParameterization(at,C,v,u,Q,Y,q,P,K);break}m.push({command:y||c,points:E,start:{x:G,y:w},pathLength:this.calcLength(G,w,y||c,E)})}(c==="z"||c==="Z")&&m.push({command:"z",points:[],start:void 0,pathLength:0})}return m}static calcLength(g,d,f,p){let m,T,v,u;const o=Te;switch(f){case"L":return o.getLineLength(g,d,p[0],p[1]);case"C":return(0,U.getCubicArcLength)([g,p[0],p[2],p[4]],[d,p[1],p[3],p[5]],1);case"Q":return(0,U.getQuadraticArcLength)([g,p[0],p[2]],[d,p[1],p[3]],1);case"A":m=0;const S=p[4],x=p[5],D=p[4]+x;let c=Math.PI/180;if(Math.abs(S-D)<c&&(c=Math.abs(S-D)),T=o.getPointOnEllipticalArc(p[0],p[1],p[2],p[3],S,0),x<0)for(u=S-c;u>D;u-=c)v=o.getPointOnEllipticalArc(p[0],p[1],p[2],p[3],u,0),m+=o.getLineLength(T.x,T.y,v.x,v.y),T=v;else for(u=S+c;u<D;u+=c)v=o.getPointOnEllipticalArc(p[0],p[1],p[2],p[3],u,0),m+=o.getLineLength(T.x,T.y,v.x,v.y),T=v;return v=o.getPointOnEllipticalArc(p[0],p[1],p[2],p[3],D,0),m+=o.getLineLength(T.x,T.y,v.x,v.y),m}return 0}static convertEndpointToCenterParameterization(g,d,f,p,m,T,v,u,o){const S=o*(Math.PI/180),x=Math.cos(S)*(g-f)/2+Math.sin(S)*(d-p)/2,D=-1*Math.sin(S)*(g-f)/2+Math.cos(S)*(d-p)/2,c=x*x/(v*v)+D*D/(u*u);c>1&&(v*=Math.sqrt(c),u*=Math.sqrt(c));let s=Math.sqrt((v*v*(u*u)-v*v*(D*D)-u*u*(x*x))/(v*v*(D*D)+u*u*(x*x)));m===T&&(s*=-1),isNaN(s)&&(s=0);const y=s*v*D/u,E=s*-u*x/v,G=(g+f)/2+Math.cos(S)*y-Math.sin(S)*E,w=(d+p)/2+Math.sin(S)*y+Math.cos(S)*E,N=function(Y){return Math.sqrt(Y[0]*Y[0]+Y[1]*Y[1])},A=function(Y,at){return(Y[0]*at[0]+Y[1]*at[1])/(N(Y)*N(at))},R=function(Y,at){return(Y[0]*at[1]<Y[1]*at[0]?-1:1)*Math.acos(A(Y,at))},q=R([1,0],[(x-y)/v,(D-E)/u]),P=[(x-y)/v,(D-E)/u],K=[(-1*x-y)/v,(-1*D-E)/u];let Q=R(P,K);return A(P,K)<=-1&&(Q=Math.PI),A(P,K)>=1&&(Q=0),T===0&&Q>0&&(Q=Q-2*Math.PI),T===1&&Q<0&&(Q=Q+2*Math.PI),[G,w,v,u,q,Q,S,T]}};return gi.Path=b,b.prototype.className="Path",b.prototype._attrsAffectingSize=["data"],(0,r._registerNode)(b),h.Factory.addGetterSetter(b,"data"),gi}var eh;function y1(){if(eh)return di;eh=1,Object.defineProperty(di,"__esModule",{value:!0}),di.Arrow=void 0;const h=Tt(),r=kh(),z=xt(),U=bt(),b=Pr();let _=class extends r.Line{_sceneFunc(d){super._sceneFunc(d);const f=Math.PI*2,p=this.points();let m=p;const T=this.tension()!==0&&p.length>4;T&&(m=this.getTensionPoints());const v=this.pointerLength(),u=p.length;let o,S;if(T){const c=[m[m.length-4],m[m.length-3],m[m.length-2],m[m.length-1],p[u-2],p[u-1]],s=b.Path.calcLength(m[m.length-4],m[m.length-3],"C",c),y=b.Path.getPointOnQuadraticBezier(Math.min(1,1-v/s),c[0],c[1],c[2],c[3],c[4],c[5]);o=p[u-2]-y.x,S=p[u-1]-y.y}else o=p[u-2]-p[u-4],S=p[u-1]-p[u-3];const x=(Math.atan2(S,o)+f)%f,D=this.pointerWidth();this.pointerAtEnding()&&(d.save(),d.beginPath(),d.translate(p[u-2],p[u-1]),d.rotate(x),d.moveTo(0,0),d.lineTo(-v,D/2),d.lineTo(-v,-D/2),d.closePath(),d.restore(),this.__fillStroke(d)),this.pointerAtBeginning()&&(d.save(),d.beginPath(),d.translate(p[0],p[1]),T?(o=(m[0]+m[2])/2-p[0],S=(m[1]+m[3])/2-p[1]):(o=p[2]-p[0],S=p[3]-p[1]),d.rotate((Math.atan2(-S,-o)+f)%f),d.moveTo(0,0),d.lineTo(-v,D/2),d.lineTo(-v,-D/2),d.closePath(),d.restore(),this.__fillStroke(d))}__fillStroke(d){const f=this.dashEnabled();f&&(this.attrs.dashEnabled=!1,d.setLineDash([])),d.fillStrokeShape(this),f&&(this.attrs.dashEnabled=!0)}getSelfRect(){const d=super.getSelfRect(),f=this.pointerWidth()/2;return{x:d.x,y:d.y-f,width:d.width,height:d.height+f*2}}};return di.Arrow=_,_.prototype.className="Arrow",(0,U._registerNode)(_),h.Factory.addGetterSetter(_,"pointerLength",10,(0,z.getNumberValidator)()),h.Factory.addGetterSetter(_,"pointerWidth",10,(0,z.getNumberValidator)()),h.Factory.addGetterSetter(_,"pointerAtBeginning",!1),h.Factory.addGetterSetter(_,"pointerAtEnding",!0),di}var mi={},ah;function _1(){if(ah)return mi;ah=1,Object.defineProperty(mi,"__esModule",{value:!0}),mi.Circle=void 0;const h=Tt(),r=oe(),z=xt(),U=bt();let b=class extends r.Shape{_sceneFunc(g){g.beginPath(),g.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),g.closePath(),g.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(g){this.radius()!==g/2&&this.radius(g/2)}setHeight(g){this.radius()!==g/2&&this.radius(g/2)}};return mi.Circle=b,b.prototype._centroid=!0,b.prototype.className="Circle",b.prototype._attrsAffectingSize=["radius"],(0,U._registerNode)(b),h.Factory.addGetterSetter(b,"radius",0,(0,z.getNumberValidator)()),mi}var pi={},nh;function S1(){if(nh)return pi;nh=1,Object.defineProperty(pi,"__esModule",{value:!0}),pi.Ellipse=void 0;const h=Tt(),r=oe(),z=xt(),U=bt();let b=class extends r.Shape{_sceneFunc(g){const d=this.radiusX(),f=this.radiusY();g.beginPath(),g.save(),d!==f&&g.scale(1,f/d),g.arc(0,0,d,0,Math.PI*2,!1),g.restore(),g.closePath(),g.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(g){this.radiusX(g/2)}setHeight(g){this.radiusY(g/2)}};return pi.Ellipse=b,b.prototype.className="Ellipse",b.prototype._centroid=!0,b.prototype._attrsAffectingSize=["radiusX","radiusY"],(0,U._registerNode)(b),h.Factory.addComponentsGetterSetter(b,"radius",["x","y"]),h.Factory.addGetterSetter(b,"radiusX",0,(0,z.getNumberValidator)()),h.Factory.addGetterSetter(b,"radiusY",0,(0,z.getNumberValidator)()),pi}var vi={},ih;function b1(){if(ih)return vi;ih=1,Object.defineProperty(vi,"__esModule",{value:!0}),vi.Image=void 0;const h=Yt(),r=Tt(),z=oe(),U=bt(),b=xt();let _=class Jh extends z.Shape{constructor(d){super(d),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",f=>{this._removeImageLoad(f.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const d=this.image();d&&d.complete||d&&d.readyState===4||d&&d.addEventListener&&d.addEventListener("load",this._loadListener)}_removeImageLoad(d){d&&d.removeEventListener&&d.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const d=!!this.cornerRadius(),f=this.hasShadow();return d&&f?!0:super._useBufferCanvas(!0)}_sceneFunc(d){const f=this.getWidth(),p=this.getHeight(),m=this.cornerRadius(),T=this.attrs.image;let v;if(T){const u=this.attrs.cropWidth,o=this.attrs.cropHeight;u&&o?v=[T,this.cropX(),this.cropY(),u,o,0,0,f,p]:v=[T,0,0,f,p]}(this.hasFill()||this.hasStroke()||m)&&(d.beginPath(),m?h.Util.drawRoundedRectPath(d,f,p,m):d.rect(0,0,f,p),d.closePath(),d.fillStrokeShape(this)),T&&(m&&d.clip(),d.drawImage.apply(d,v))}_hitFunc(d){const f=this.width(),p=this.height(),m=this.cornerRadius();d.beginPath(),m?h.Util.drawRoundedRectPath(d,f,p,m):d.rect(0,0,f,p),d.closePath(),d.fillStrokeShape(this)}getWidth(){var d,f;return(d=this.attrs.width)!==null&&d!==void 0?d:(f=this.image())===null||f===void 0?void 0:f.width}getHeight(){var d,f;return(d=this.attrs.height)!==null&&d!==void 0?d:(f=this.image())===null||f===void 0?void 0:f.height}static fromURL(d,f,p=null){const m=h.Util.createImageElement();m.onload=function(){const T=new Jh({image:m});f(T)},m.onerror=p,m.crossOrigin="Anonymous",m.src=d}};return vi.Image=_,_.prototype.className="Image",(0,U._registerNode)(_),r.Factory.addGetterSetter(_,"cornerRadius",0,(0,b.getNumberOrArrayOfNumbersValidator)(4)),r.Factory.addGetterSetter(_,"image"),r.Factory.addComponentsGetterSetter(_,"crop",["x","y","width","height"]),r.Factory.addGetterSetter(_,"cropX",0,(0,b.getNumberValidator)()),r.Factory.addGetterSetter(_,"cropY",0,(0,b.getNumberValidator)()),r.Factory.addGetterSetter(_,"cropWidth",0,(0,b.getNumberValidator)()),r.Factory.addGetterSetter(_,"cropHeight",0,(0,b.getNumberValidator)()),vi}var Za={},lh;function C1(){if(lh)return Za;lh=1,Object.defineProperty(Za,"__esModule",{value:!0}),Za.Tag=Za.Label=void 0;const h=Tt(),r=oe(),z=jr(),U=xt(),b=bt(),_=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],g="Change.konva",d="none",f="up",p="right",m="down",T="left",v=_.length;let u=class extends z.Group{constructor(x){super(x),this.on("add.konva",function(D){this._addListeners(D.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(x){let D=this,c;const s=function(){D._sync()};for(c=0;c<v;c++)x.on(_[c]+g,s)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let x=this.getText(),D=this.getTag(),c,s,y,E,G,w,N;if(x&&D){switch(c=x.width(),s=x.height(),y=D.pointerDirection(),E=D.pointerWidth(),N=D.pointerHeight(),G=0,w=0,y){case f:G=c/2,w=-1*N;break;case p:G=c+E,w=s/2;break;case m:G=c/2,w=s+N;break;case T:G=-1*E,w=s/2;break}D.setAttrs({x:-1*G,y:-1*w,width:c,height:s}),x.setAttrs({x:-1*G,y:-1*w})}}};Za.Label=u,u.prototype.className="Label",(0,b._registerNode)(u);class o extends r.Shape{_sceneFunc(x){const D=this.width(),c=this.height(),s=this.pointerDirection(),y=this.pointerWidth(),E=this.pointerHeight(),G=this.cornerRadius();let w=0,N=0,A=0,R=0;typeof G=="number"?w=N=A=R=Math.min(G,D/2,c/2):(w=Math.min(G[0]||0,D/2,c/2),N=Math.min(G[1]||0,D/2,c/2),R=Math.min(G[2]||0,D/2,c/2),A=Math.min(G[3]||0,D/2,c/2)),x.beginPath(),x.moveTo(w,0),s===f&&(x.lineTo((D-y)/2,0),x.lineTo(D/2,-1*E),x.lineTo((D+y)/2,0)),x.lineTo(D-N,0),x.arc(D-N,N,N,Math.PI*3/2,0,!1),s===p&&(x.lineTo(D,(c-E)/2),x.lineTo(D+y,c/2),x.lineTo(D,(c+E)/2)),x.lineTo(D,c-R),x.arc(D-R,c-R,R,0,Math.PI/2,!1),s===m&&(x.lineTo((D+y)/2,c),x.lineTo(D/2,c+E),x.lineTo((D-y)/2,c)),x.lineTo(A,c),x.arc(A,c-A,A,Math.PI/2,Math.PI,!1),s===T&&(x.lineTo(0,(c+E)/2),x.lineTo(-1*y,c/2),x.lineTo(0,(c-E)/2)),x.lineTo(0,w),x.arc(w,w,w,Math.PI,Math.PI*3/2,!1),x.closePath(),x.fillStrokeShape(this)}getSelfRect(){let x=0,D=0,c=this.pointerWidth(),s=this.pointerHeight(),y=this.pointerDirection(),E=this.width(),G=this.height();return y===f?(D-=s,G+=s):y===m?G+=s:y===T?(x-=c*1.5,E+=c):y===p&&(E+=c*1.5),{x,y:D,width:E,height:G}}}return Za.Tag=o,o.prototype.className="Tag",(0,b._registerNode)(o),h.Factory.addGetterSetter(o,"pointerDirection",d),h.Factory.addGetterSetter(o,"pointerWidth",0,(0,U.getNumberValidator)()),h.Factory.addGetterSetter(o,"pointerHeight",0,(0,U.getNumberValidator)()),h.Factory.addGetterSetter(o,"cornerRadius",0,(0,U.getNumberOrArrayOfNumbersValidator)(4)),Za}var yi={},sh;function Wh(){if(sh)return yi;sh=1,Object.defineProperty(yi,"__esModule",{value:!0}),yi.Rect=void 0;const h=Tt(),r=oe(),z=bt(),U=Yt(),b=xt();let _=class extends r.Shape{_sceneFunc(d){const f=this.cornerRadius(),p=this.width(),m=this.height();d.beginPath(),f?U.Util.drawRoundedRectPath(d,p,m,f):d.rect(0,0,p,m),d.closePath(),d.fillStrokeShape(this)}};return yi.Rect=_,_.prototype.className="Rect",(0,z._registerNode)(_),h.Factory.addGetterSetter(_,"cornerRadius",0,(0,b.getNumberOrArrayOfNumbersValidator)(4)),yi}var _i={},rh;function E1(){if(rh)return _i;rh=1,Object.defineProperty(_i,"__esModule",{value:!0}),_i.RegularPolygon=void 0;const h=Tt(),r=oe(),z=xt(),U=bt();let b=class extends r.Shape{_sceneFunc(g){const d=this._getPoints();g.beginPath(),g.moveTo(d[0].x,d[0].y);for(let f=1;f<d.length;f++)g.lineTo(d[f].x,d[f].y);g.closePath(),g.fillStrokeShape(this)}_getPoints(){const g=this.attrs.sides,d=this.attrs.radius||0,f=[];for(let p=0;p<g;p++)f.push({x:d*Math.sin(p*2*Math.PI/g),y:-1*d*Math.cos(p*2*Math.PI/g)});return f}getSelfRect(){const g=this._getPoints();let d=g[0].x,f=g[0].y,p=g[0].x,m=g[0].y;return g.forEach(T=>{d=Math.min(d,T.x),f=Math.max(f,T.x),p=Math.min(p,T.y),m=Math.max(m,T.y)}),{x:d,y:p,width:f-d,height:m-p}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(g){this.radius(g/2)}setHeight(g){this.radius(g/2)}};return _i.RegularPolygon=b,b.prototype.className="RegularPolygon",b.prototype._centroid=!0,b.prototype._attrsAffectingSize=["radius"],(0,U._registerNode)(b),h.Factory.addGetterSetter(b,"radius",0,(0,z.getNumberValidator)()),h.Factory.addGetterSetter(b,"sides",0,(0,z.getNumberValidator)()),_i}var Si={},oh;function T1(){if(oh)return Si;oh=1,Object.defineProperty(Si,"__esModule",{value:!0}),Si.Ring=void 0;const h=Tt(),r=oe(),z=xt(),U=bt(),b=Math.PI*2;let _=class extends r.Shape{_sceneFunc(d){d.beginPath(),d.arc(0,0,this.innerRadius(),0,b,!1),d.moveTo(this.outerRadius(),0),d.arc(0,0,this.outerRadius(),b,0,!0),d.closePath(),d.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(d){this.outerRadius(d/2)}setHeight(d){this.outerRadius(d/2)}};return Si.Ring=_,_.prototype.className="Ring",_.prototype._centroid=!0,_.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,U._registerNode)(_),h.Factory.addGetterSetter(_,"innerRadius",0,(0,z.getNumberValidator)()),h.Factory.addGetterSetter(_,"outerRadius",0,(0,z.getNumberValidator)()),Si}var bi={},uh;function x1(){if(uh)return bi;uh=1,Object.defineProperty(bi,"__esModule",{value:!0}),bi.Sprite=void 0;const h=Tt(),r=oe(),z=wr(),U=xt(),b=bt();let _=class extends r.Shape{constructor(d){super(d),this._updated=!0,this.anim=new z.Animation(()=>{const f=this._updated;return this._updated=!1,f}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(d){const f=this.animation(),p=this.frameIndex(),m=p*4,T=this.animations()[f],v=this.frameOffsets(),u=T[m+0],o=T[m+1],S=T[m+2],x=T[m+3],D=this.image();if((this.hasFill()||this.hasStroke())&&(d.beginPath(),d.rect(0,0,S,x),d.closePath(),d.fillStrokeShape(this)),D)if(v){const c=v[f],s=p*2;d.drawImage(D,u,o,S,x,c[s+0],c[s+1],S,x)}else d.drawImage(D,u,o,S,x,0,0,S,x)}_hitFunc(d){const f=this.animation(),p=this.frameIndex(),m=p*4,T=this.animations()[f],v=this.frameOffsets(),u=T[m+2],o=T[m+3];if(d.beginPath(),v){const S=v[f],x=p*2;d.rect(S[x+0],S[x+1],u,o)}else d.rect(0,0,u,o);d.closePath(),d.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const d=this;this.interval=setInterval(function(){d._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const d=this.getLayer();this.anim.setLayers(d),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const d=this.frameIndex(),f=this.animation(),p=this.animations(),m=p[f],T=m.length/4;d<T-1?this.frameIndex(d+1):this.frameIndex(0)}};return bi.Sprite=_,_.prototype.className="Sprite",(0,b._registerNode)(_),h.Factory.addGetterSetter(_,"animation"),h.Factory.addGetterSetter(_,"animations"),h.Factory.addGetterSetter(_,"frameOffsets"),h.Factory.addGetterSetter(_,"image"),h.Factory.addGetterSetter(_,"frameIndex",0,(0,U.getNumberValidator)()),h.Factory.addGetterSetter(_,"frameRate",17,(0,U.getNumberValidator)()),h.Factory.backCompat(_,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),bi}var Ci={},ch;function N1(){if(ch)return Ci;ch=1,Object.defineProperty(Ci,"__esModule",{value:!0}),Ci.Star=void 0;const h=Tt(),r=oe(),z=xt(),U=bt();let b=class extends r.Shape{_sceneFunc(g){const d=this.innerRadius(),f=this.outerRadius(),p=this.numPoints();g.beginPath(),g.moveTo(0,0-f);for(let m=1;m<p*2;m++){const T=m%2===0?f:d,v=T*Math.sin(m*Math.PI/p),u=-1*T*Math.cos(m*Math.PI/p);g.lineTo(v,u)}g.closePath(),g.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(g){this.outerRadius(g/2)}setHeight(g){this.outerRadius(g/2)}};return Ci.Star=b,b.prototype.className="Star",b.prototype._centroid=!0,b.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,U._registerNode)(b),h.Factory.addGetterSetter(b,"numPoints",5,(0,z.getNumberValidator)()),h.Factory.addGetterSetter(b,"innerRadius",0,(0,z.getNumberValidator)()),h.Factory.addGetterSetter(b,"outerRadius",0,(0,z.getNumberValidator)()),Ci}var Nn={},hh;function Ih(){if(hh)return Nn;hh=1,Object.defineProperty(Nn,"__esModule",{value:!0}),Nn.Text=void 0,Nn.stringToArray=g;const h=Yt(),r=Tt(),z=oe(),U=bt(),b=xt(),_=bt();function g(Z){return[...Z].reduce((F,tt,lt,I)=>{if(new RegExp("\\p{Emoji}","u").test(tt)){const H=I[lt+1];H&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(H)?(F.push(tt+H),I[lt+1]=""):F.push(tt)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(tt+(I[lt+1]||""))?F.push(tt+I[lt+1]):lt>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(tt)?F[F.length-1]+=tt:tt&&F.push(tt);return F},[])}const d="auto",f="center",p="inherit",m="justify",T="Change.konva",v="2d",u="-",o="left",S="text",x="Text",D="top",c="bottom",s="middle",y="normal",E="px ",G=" ",w="right",N="rtl",A="word",R="char",q="none",P="",K=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],Q=K.length;function Y(Z){return Z.split(",").map(F=>{F=F.trim();const tt=F.indexOf(" ")>=0,lt=F.indexOf('"')>=0||F.indexOf("'")>=0;return tt&&!lt&&(F=`"${F}"`),F}).join(", ")}let at;function C(){return at||(at=h.Util.createCanvasElement().getContext(v),at)}function O(Z){Z.fillText(this._partialText,this._partialTextX,this._partialTextY)}function V(Z){Z.setAttr("miterLimit",2),Z.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function L(Z){return Z=Z||{},!Z.fillLinearGradientColorStops&&!Z.fillRadialGradientColorStops&&!Z.fillPatternImage&&(Z.fill=Z.fill||"black"),Z}class B extends z.Shape{constructor(F){super(L(F)),this._partialTextX=0,this._partialTextY=0;for(let tt=0;tt<Q;tt++)this.on(K[tt]+T,this._setTextData);this._setTextData()}_sceneFunc(F){const tt=this.textArr,lt=tt.length;if(!this.text())return;let I=this.padding(),H=this.fontSize(),k=this.lineHeight()*H,it=this.verticalAlign(),rt=this.direction(),ht=0,pt=this.align(),vt=this.getWidth(),Ot=this.letterSpacing(),ft=this.fill(),Ht=this.textDecoration(),Dt=Ht.indexOf("underline")!==-1,Vt=Ht.indexOf("line-through")!==-1,He;rt=rt===p?F.direction:rt;let ue=k/2,xe=s;if(U.Konva._fixTextRendering){const yt=this.measureSize("M");xe="alphabetic",ue=(yt.fontBoundingBoxAscent-yt.fontBoundingBoxDescent)/2+k/2}for(rt===N&&F.setAttr("direction",rt),F.setAttr("font",this._getContextFont()),F.setAttr("textBaseline",xe),F.setAttr("textAlign",o),it===s?ht=(this.getHeight()-lt*k-I*2)/2:it===c&&(ht=this.getHeight()-lt*k-I*2),F.translate(I,ht+I),He=0;He<lt;He++){let yt=0,me=0;const Ne=tt[He],Ye=Ne.text,Zt=Ne.width,It=Ne.lastInParagraph;if(F.save(),pt===w?yt+=vt-Zt-I*2:pt===f&&(yt+=(vt-Zt-I*2)/2),Dt){F.save(),F.beginPath();const ne=U.Konva._fixTextRendering?Math.round(H/4):Math.round(H/2),Ae=yt,ce=ue+me+ne;F.moveTo(Ae,ce);const he=pt===m&&!It?vt-I*2:Zt;F.lineTo(Ae+Math.round(he),ce),F.lineWidth=H/15;const fa=this._getLinearGradient();F.strokeStyle=fa||ft,F.stroke(),F.restore()}if(Vt){F.save(),F.beginPath();const ne=U.Konva._fixTextRendering?-Math.round(H/4):0;F.moveTo(yt,ue+me+ne);const Ae=pt===m&&!It?vt-I*2:Zt;F.lineTo(yt+Math.round(Ae),ue+me+ne),F.lineWidth=H/15;const ce=this._getLinearGradient();F.strokeStyle=ce||ft,F.stroke(),F.restore()}if(rt!==N&&(Ot!==0||pt===m)){const ne=Ye.split(" ").length-1,Ae=g(Ye);for(let ce=0;ce<Ae.length;ce++){const he=Ae[ce];he===" "&&!It&&pt===m&&(yt+=(vt-I*2-Zt)/ne),this._partialTextX=yt,this._partialTextY=ue+me,this._partialText=he,F.fillStrokeShape(this),yt+=this.measureSize(he).width+Ot}}else Ot!==0&&F.setAttr("letterSpacing",`${Ot}px`),this._partialTextX=yt,this._partialTextY=ue+me,this._partialText=Ye,F.fillStrokeShape(this);F.restore(),lt>1&&(ue+=k)}}_hitFunc(F){const tt=this.getWidth(),lt=this.getHeight();F.beginPath(),F.rect(0,0,tt,lt),F.closePath(),F.fillStrokeShape(this)}setText(F){const tt=h.Util._isString(F)?F:F==null?"":F+"";return this._setAttr(S,tt),this}getWidth(){return this.attrs.width===d||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===d||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return h.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(F){var tt,lt,I,H,k,it,rt,ht,pt,vt,Ot;let ft=C(),Ht=this.fontSize(),Dt;ft.save(),ft.font=this._getContextFont(),Dt=ft.measureText(F),ft.restore();const Vt=Ht/100;return{actualBoundingBoxAscent:(tt=Dt.actualBoundingBoxAscent)!==null&&tt!==void 0?tt:71.58203125*Vt,actualBoundingBoxDescent:(lt=Dt.actualBoundingBoxDescent)!==null&&lt!==void 0?lt:0,actualBoundingBoxLeft:(I=Dt.actualBoundingBoxLeft)!==null&&I!==void 0?I:-7.421875*Vt,actualBoundingBoxRight:(H=Dt.actualBoundingBoxRight)!==null&&H!==void 0?H:75.732421875*Vt,alphabeticBaseline:(k=Dt.alphabeticBaseline)!==null&&k!==void 0?k:0,emHeightAscent:(it=Dt.emHeightAscent)!==null&&it!==void 0?it:100*Vt,emHeightDescent:(rt=Dt.emHeightDescent)!==null&&rt!==void 0?rt:-20*Vt,fontBoundingBoxAscent:(ht=Dt.fontBoundingBoxAscent)!==null&&ht!==void 0?ht:91*Vt,fontBoundingBoxDescent:(pt=Dt.fontBoundingBoxDescent)!==null&&pt!==void 0?pt:21*Vt,hangingBaseline:(vt=Dt.hangingBaseline)!==null&&vt!==void 0?vt:72.80000305175781*Vt,ideographicBaseline:(Ot=Dt.ideographicBaseline)!==null&&Ot!==void 0?Ot:-21*Vt,width:Dt.width,height:Ht}}_getContextFont(){return this.fontStyle()+G+this.fontVariant()+G+(this.fontSize()+E)+Y(this.fontFamily())}_addTextLine(F){this.align()===m&&(F=F.trim());const lt=this._getTextWidth(F);return this.textArr.push({text:F,width:lt,lastInParagraph:!1})}_getTextWidth(F){const tt=this.letterSpacing(),lt=F.length;return C().measureText(F).width+tt*lt}_setTextData(){let F=this.text().split(`
`),tt=+this.fontSize(),lt=0,I=this.lineHeight()*tt,H=this.attrs.width,k=this.attrs.height,it=H!==d&&H!==void 0,rt=k!==d&&k!==void 0,ht=this.padding(),pt=H-ht*2,vt=k-ht*2,Ot=0,ft=this.wrap(),Ht=ft!==q,Dt=ft!==R&&Ht,Vt=this.ellipsis();this.textArr=[],C().font=this._getContextFont();const He=Vt?this._getTextWidth(P):0;for(let ue=0,xe=F.length;ue<xe;++ue){let yt=F[ue],me=this._getTextWidth(yt);if(it&&me>pt)for(;yt.length>0;){let Ne=0,Ye=g(yt).length,Zt="",It=0;for(;Ne<Ye;){const ne=Ne+Ye>>>1,Ae=g(yt),ce=Ae.slice(0,ne+1).join(""),he=this._getTextWidth(ce);(Vt&&rt&&Ot+I>vt?he+He:he)<=pt?(Ne=ne+1,Zt=ce,It=he):Ye=ne}if(Zt){if(Dt){const ce=g(yt),he=g(Zt),fa=ce[he.length],Rn=fa===G||fa===u;let ka;if(Rn&&It<=pt)ka=he.length;else{const On=he.lastIndexOf(G),Kl=he.lastIndexOf(u);ka=Math.max(On,Kl)+1}ka>0&&(Ne=ka,Zt=ce.slice(0,Ne).join(""),It=this._getTextWidth(Zt))}if(Zt=Zt.trimRight(),this._addTextLine(Zt),lt=Math.max(lt,It),Ot+=I,this._shouldHandleEllipsis(Ot)){this._tryToAddEllipsisToLastLine();break}if(yt=g(yt).slice(Ne).join("").trimLeft(),yt.length>0&&(me=this._getTextWidth(yt),me<=pt)){this._addTextLine(yt),Ot+=I,lt=Math.max(lt,me);break}}else break}else this._addTextLine(yt),Ot+=I,lt=Math.max(lt,me),this._shouldHandleEllipsis(Ot)&&ue<xe-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),rt&&Ot+I>vt)break}this.textHeight=tt,this.textWidth=lt}_shouldHandleEllipsis(F){const tt=+this.fontSize(),lt=this.lineHeight()*tt,I=this.attrs.height,H=I!==d&&I!==void 0,k=this.padding(),it=I-k*2;return!(this.wrap()!==q)||H&&F+lt>it}_tryToAddEllipsisToLastLine(){const F=this.attrs.width,tt=F!==d&&F!==void 0,lt=this.padding(),I=F-lt*2,H=this.ellipsis(),k=this.textArr[this.textArr.length-1];!k||!H||(tt&&(this._getTextWidth(k.text+P)<I||(k.text=k.text.slice(0,k.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(k.text+P))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const F=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,tt=this.hasShadow();return F&&tt?!0:super._useBufferCanvas()}}return Nn.Text=B,B.prototype._fillFunc=O,B.prototype._strokeFunc=V,B.prototype.className=x,B.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],(0,_._registerNode)(B),r.Factory.overWriteSetter(B,"width",(0,b.getNumberOrAutoValidator)()),r.Factory.overWriteSetter(B,"height",(0,b.getNumberOrAutoValidator)()),r.Factory.addGetterSetter(B,"direction",p),r.Factory.addGetterSetter(B,"fontFamily","Arial"),r.Factory.addGetterSetter(B,"fontSize",12,(0,b.getNumberValidator)()),r.Factory.addGetterSetter(B,"fontStyle",y),r.Factory.addGetterSetter(B,"fontVariant",y),r.Factory.addGetterSetter(B,"padding",0,(0,b.getNumberValidator)()),r.Factory.addGetterSetter(B,"align",o),r.Factory.addGetterSetter(B,"verticalAlign",D),r.Factory.addGetterSetter(B,"lineHeight",1,(0,b.getNumberValidator)()),r.Factory.addGetterSetter(B,"wrap",A),r.Factory.addGetterSetter(B,"ellipsis",!1,(0,b.getBooleanValidator)()),r.Factory.addGetterSetter(B,"letterSpacing",0,(0,b.getNumberValidator)()),r.Factory.addGetterSetter(B,"text","",(0,b.getStringValidator)()),r.Factory.addGetterSetter(B,"textDecoration",""),Nn}var Ei={},dh;function A1(){if(dh)return Ei;dh=1,Object.defineProperty(Ei,"__esModule",{value:!0}),Ei.TextPath=void 0;const h=Yt(),r=Tt(),z=oe(),U=Pr(),b=Ih(),_=xt(),g=bt(),d="",f="normal";function p(v){v.fillText(this.partialText,0,0)}function m(v){v.strokeText(this.partialText,0,0)}let T=class extends z.Shape{constructor(u){super(u),this.dummyCanvas=h.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return U.Path.getPathLength(this.dataArray)}_getPointAtLength(u){if(!this.attrs.data)return null;const o=this.pathLength;return u-1>o?null:U.Path.getPointAtLengthOfDataArray(u,this.dataArray)}_readDataAttribute(){this.dataArray=U.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(u){u.setAttr("font",this._getContextFont()),u.setAttr("textBaseline",this.textBaseline()),u.setAttr("textAlign","left"),u.save();const o=this.textDecoration(),S=this.fill(),x=this.fontSize(),D=this.glyphInfo;o==="underline"&&u.beginPath();for(let c=0;c<D.length;c++){u.save();const s=D[c].p0;u.translate(s.x,s.y),u.rotate(D[c].rotation),this.partialText=D[c].text,u.fillStrokeShape(this),o==="underline"&&(c===0&&u.moveTo(0,x/2+1),u.lineTo(x,x/2+1)),u.restore()}o==="underline"&&(u.strokeStyle=S,u.lineWidth=x/20,u.stroke()),u.restore()}_hitFunc(u){u.beginPath();const o=this.glyphInfo;if(o.length>=1){const S=o[0].p0;u.moveTo(S.x,S.y)}for(let S=0;S<o.length;S++){const x=o[S].p1;u.lineTo(x.x,x.y)}u.setAttr("lineWidth",this.fontSize()),u.setAttr("strokeStyle",this.colorKey),u.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return h.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(u){return b.Text.prototype.setText.call(this,u)}_getContextFont(){return b.Text.prototype._getContextFont.call(this)}_getTextSize(u){const S=this.dummyCanvas.getContext("2d");S.save(),S.font=this._getContextFont();const x=S.measureText(u);return S.restore(),{width:x.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:u,height:o}=this._getTextSize(this.attrs.text);if(this.textWidth=u,this.textHeight=o,this.glyphInfo=[],!this.attrs.data)return null;const S=this.letterSpacing(),x=this.align(),D=this.kerningFunc(),c=Math.max(this.textWidth+((this.attrs.text||"").length-1)*S,0);let s=0;x==="center"&&(s=Math.max(0,this.pathLength/2-c/2)),x==="right"&&(s=Math.max(0,this.pathLength-c));const y=(0,b.stringToArray)(this.text());let E=s;for(let G=0;G<y.length;G++){const w=this._getPointAtLength(E);if(!w)return;let N=this._getTextSize(y[G]).width+S;if(y[G]===" "&&x==="justify"){const Q=this.text().split(" ").length-1;N+=(this.pathLength-c)/Q}const A=this._getPointAtLength(E+N);if(!A)return;const R=U.Path.getLineLength(w.x,w.y,A.x,A.y);let q=0;if(D)try{q=D(y[G-1],y[G])*this.fontSize()}catch{q=0}w.x+=q,A.x+=q,this.textWidth+=q;const P=U.Path.getPointOnLine(q+R/2,w.x,w.y,A.x,A.y),K=Math.atan2(A.y-w.y,A.x-w.x);this.glyphInfo.push({transposeX:P.x,transposeY:P.y,text:y[G],rotation:K,p0:w,p1:A}),E+=N}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const u=[];this.glyphInfo.forEach(function(E){u.push(E.p0.x),u.push(E.p0.y),u.push(E.p1.x),u.push(E.p1.y)});let o=u[0]||0,S=u[0]||0,x=u[1]||0,D=u[1]||0,c,s;for(let E=0;E<u.length/2;E++)c=u[E*2],s=u[E*2+1],o=Math.min(o,c),S=Math.max(S,c),x=Math.min(x,s),D=Math.max(D,s);const y=this.fontSize();return{x:o-y/2,y:x-y/2,width:S-o+y,height:D-x+y}}destroy(){return h.Util.releaseCanvas(this.dummyCanvas),super.destroy()}};return Ei.TextPath=T,T.prototype._fillFunc=p,T.prototype._strokeFunc=m,T.prototype._fillFuncHit=p,T.prototype._strokeFuncHit=m,T.prototype.className="TextPath",T.prototype._attrsAffectingSize=["text","fontSize","data"],(0,g._registerNode)(T),r.Factory.addGetterSetter(T,"data"),r.Factory.addGetterSetter(T,"fontFamily","Arial"),r.Factory.addGetterSetter(T,"fontSize",12,(0,_.getNumberValidator)()),r.Factory.addGetterSetter(T,"fontStyle",f),r.Factory.addGetterSetter(T,"align","left"),r.Factory.addGetterSetter(T,"letterSpacing",0,(0,_.getNumberValidator)()),r.Factory.addGetterSetter(T,"textBaseline","middle"),r.Factory.addGetterSetter(T,"fontVariant",f),r.Factory.addGetterSetter(T,"text",d),r.Factory.addGetterSetter(T,"textDecoration",""),r.Factory.addGetterSetter(T,"kerningFunc",void 0),Ei}var Ti={},fh;function M1(){if(fh)return Ti;fh=1,Object.defineProperty(Ti,"__esModule",{value:!0}),Ti.Transformer=void 0;const h=Yt(),r=Tt(),z=Qt(),U=oe(),b=Wh(),_=jr(),g=bt(),d=xt(),f=bt(),p="tr-konva",m=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(N=>N+`.${p}`).join(" "),T="nodesRect",v=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],u={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},o="ontouchstart"in g.Konva._global;function S(N,A,R){if(N==="rotater")return R;A+=h.Util.degToRad(u[N]||0);const q=(h.Util.radToDeg(A)%360+360)%360;return h.Util._inRange(q,315+22.5,360)||h.Util._inRange(q,0,22.5)?"ns-resize":h.Util._inRange(q,45-22.5,45+22.5)?"nesw-resize":h.Util._inRange(q,90-22.5,90+22.5)?"ew-resize":h.Util._inRange(q,135-22.5,135+22.5)?"nwse-resize":h.Util._inRange(q,180-22.5,180+22.5)?"ns-resize":h.Util._inRange(q,225-22.5,225+22.5)?"nesw-resize":h.Util._inRange(q,270-22.5,270+22.5)?"ew-resize":h.Util._inRange(q,315-22.5,315+22.5)?"nwse-resize":(h.Util.error("Transformer has unknown angle for cursor detection: "+q),"pointer")}const x=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function D(N){return{x:N.x+N.width/2*Math.cos(N.rotation)+N.height/2*Math.sin(-N.rotation),y:N.y+N.height/2*Math.cos(N.rotation)+N.width/2*Math.sin(N.rotation)}}function c(N,A,R){const q=R.x+(N.x-R.x)*Math.cos(A)-(N.y-R.y)*Math.sin(A),P=R.y+(N.x-R.x)*Math.sin(A)+(N.y-R.y)*Math.cos(A);return{...N,rotation:N.rotation+A,x:q,y:P}}function s(N,A){const R=D(N);return c(N,A,R)}function y(N,A,R){let q=A;for(let P=0;P<N.length;P++){const K=g.Konva.getAngle(N[P]),Q=Math.abs(K-A)%(Math.PI*2);Math.min(Q,Math.PI*2-Q)<R&&(q=K)}return q}let E=0,G=class extends _.Group{constructor(A){super(A),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(m,this.update),this.getNode()&&this.update()}attachTo(A){return this.setNode(A),this}setNode(A){return h.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([A])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return p+this._id}setNodes(A=[]){this._nodes&&this._nodes.length&&this.detach();const R=A.filter(P=>P.isAncestorOf(this)?(h.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=A=R,A.length===1&&this.useSingleNodeRotation()?this.rotation(A[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(P=>{const K=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(P._attrsAffectingSize.length){const Q=P._attrsAffectingSize.map(Y=>Y+"Change."+this._getEventNamespace()).join(" ");P.on(Q,K)}P.on(v.map(Q=>Q+`.${this._getEventNamespace()}`).join(" "),K),P.on(`absoluteTransformChange.${this._getEventNamespace()}`,K),this._proxyDrag(P)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(A){let R;A.on(`dragstart.${this._getEventNamespace()}`,q=>{R=A.getAbsolutePosition(),!this.isDragging()&&A!==this.findOne(".back")&&this.startDrag(q,!1)}),A.on(`dragmove.${this._getEventNamespace()}`,q=>{if(!R)return;const P=A.getAbsolutePosition(),K=P.x-R.x,Q=P.y-R.y;this.nodes().forEach(Y=>{if(Y===A||Y.isDragging())return;const at=Y.getAbsolutePosition();Y.setAbsolutePosition({x:at.x+K,y:at.y+Q}),Y.startDrag(q)}),R=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(A=>{A.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(T),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(T,this.__getNodeRect)}__getNodeShape(A,R=this.rotation(),q){const P=A.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),K=A.getAbsoluteScale(q),Q=A.getAbsolutePosition(q),Y=P.x*K.x-A.offsetX()*K.x,at=P.y*K.y-A.offsetY()*K.y,C=(g.Konva.getAngle(A.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),O={x:Q.x+Y*Math.cos(C)+at*Math.sin(-C),y:Q.y+at*Math.cos(C)+Y*Math.sin(C),width:P.width*K.x,height:P.height*K.y,rotation:C};return c(O,-g.Konva.getAngle(R),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const R=[];this.nodes().map(C=>{const O=C.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),V=[{x:O.x,y:O.y},{x:O.x+O.width,y:O.y},{x:O.x+O.width,y:O.y+O.height},{x:O.x,y:O.y+O.height}],L=C.getAbsoluteTransform();V.forEach(function(B){const Z=L.point(B);R.push(Z)})});const q=new h.Transform;q.rotate(-g.Konva.getAngle(this.rotation()));let P=1/0,K=1/0,Q=-1/0,Y=-1/0;R.forEach(function(C){const O=q.point(C);P===void 0&&(P=Q=O.x,K=Y=O.y),P=Math.min(P,O.x),K=Math.min(K,O.y),Q=Math.max(Q,O.x),Y=Math.max(Y,O.y)}),q.invert();const at=q.point({x:P,y:K});return{x:at.x,y:at.y,width:Q-P,height:Y-K,rotation:g.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),x.forEach(A=>{this._createAnchor(A)}),this._createAnchor("rotater")}_createAnchor(A){const R=new b.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:A+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:o?10:"auto"}),q=this;R.on("mousedown touchstart",function(P){q._handleMouseDown(P)}),R.on("dragstart",P=>{R.stopDrag(),P.cancelBubble=!0}),R.on("dragend",P=>{P.cancelBubble=!0}),R.on("mouseenter",()=>{const P=g.Konva.getAngle(this.rotation()),K=this.rotateAnchorCursor(),Q=S(A,P,K);R.getStage().content&&(R.getStage().content.style.cursor=Q),this._cursorChange=!0}),R.on("mouseout",()=>{R.getStage().content&&(R.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(R)}_createBack(){const A=new U.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(R,q){const P=q.getParent(),K=P.padding();R.beginPath(),R.rect(-K,-K,q.width()+K*2,q.height()+K*2),R.moveTo(q.width()/2,-K),P.rotateEnabled()&&P.rotateLineVisible()&&R.lineTo(q.width()/2,-P.rotateAnchorOffset()*h.Util._sign(q.height())-K),R.fillStrokeShape(q)},hitFunc:(R,q)=>{if(!this.shouldOverdrawWholeArea())return;const P=this.padding();R.beginPath(),R.rect(-P,-P,q.width()+P*2,q.height()+P*2),R.fillStrokeShape(q)}});this.add(A),this._proxyDrag(A),A.on("dragstart",R=>{R.cancelBubble=!0}),A.on("dragmove",R=>{R.cancelBubble=!0}),A.on("dragend",R=>{R.cancelBubble=!0}),this.on("dragmove",R=>{this.update()})}_handleMouseDown(A){if(this._transforming)return;this._movingAnchorName=A.target.name().split(" ")[0];const R=this._getNodeRect(),q=R.width,P=R.height,K=Math.sqrt(Math.pow(q,2)+Math.pow(P,2));this.sin=Math.abs(P/K),this.cos=Math.abs(q/K),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const Q=A.target.getAbsolutePosition(),Y=A.target.getStage().getPointerPosition();this._anchorDragOffset={x:Y.x-Q.x,y:Y.y-Q.y},E++,this._fire("transformstart",{evt:A.evt,target:this.getNode()}),this._nodes.forEach(at=>{at._fire("transformstart",{evt:A.evt,target:at})})}_handleMouseMove(A){let R,q,P;const K=this.findOne("."+this._movingAnchorName),Q=K.getStage();Q.setPointersPositions(A);const Y=Q.getPointerPosition();let at={x:Y.x-this._anchorDragOffset.x,y:Y.y-this._anchorDragOffset.y};const C=K.getAbsolutePosition();this.anchorDragBoundFunc()&&(at=this.anchorDragBoundFunc()(C,at,A)),K.setAbsolutePosition(at);const O=K.getAbsolutePosition();if(C.x===O.x&&C.y===O.y)return;if(this._movingAnchorName==="rotater"){const I=this._getNodeRect();R=K.x()-I.width/2,q=-K.y()+I.height/2;let H=Math.atan2(-q,R)+Math.PI/2;I.height<0&&(H-=Math.PI);const it=g.Konva.getAngle(this.rotation())+H,rt=g.Konva.getAngle(this.rotationSnapTolerance()),pt=y(this.rotationSnaps(),it,rt)-I.rotation,vt=s(I,pt);this._fitNodesInto(vt,A);return}const V=this.shiftBehavior();let L;V==="inverted"?L=this.keepRatio()&&!A.shiftKey:V==="none"?L=this.keepRatio():L=this.keepRatio()||A.shiftKey;let B=this.centeredScaling()||A.altKey;if(this._movingAnchorName==="top-left"){if(L){const I=B?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};P=Math.sqrt(Math.pow(I.x-K.x(),2)+Math.pow(I.y-K.y(),2));const H=this.findOne(".top-left").x()>I.x?-1:1,k=this.findOne(".top-left").y()>I.y?-1:1;R=P*this.cos*H,q=P*this.sin*k,this.findOne(".top-left").x(I.x-R),this.findOne(".top-left").y(I.y-q)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(K.y());else if(this._movingAnchorName==="top-right"){if(L){const I=B?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};P=Math.sqrt(Math.pow(K.x()-I.x,2)+Math.pow(I.y-K.y(),2));const H=this.findOne(".top-right").x()<I.x?-1:1,k=this.findOne(".top-right").y()>I.y?-1:1;R=P*this.cos*H,q=P*this.sin*k,this.findOne(".top-right").x(I.x+R),this.findOne(".top-right").y(I.y-q)}var Z=K.position();this.findOne(".top-left").y(Z.y),this.findOne(".bottom-right").x(Z.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(K.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(K.x());else if(this._movingAnchorName==="bottom-left"){if(L){const I=B?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};P=Math.sqrt(Math.pow(I.x-K.x(),2)+Math.pow(K.y()-I.y,2));const H=I.x<K.x()?-1:1,k=K.y()<I.y?-1:1;R=P*this.cos*H,q=P*this.sin*k,K.x(I.x-R),K.y(I.y+q)}Z=K.position(),this.findOne(".top-left").x(Z.x),this.findOne(".bottom-right").y(Z.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(K.y());else if(this._movingAnchorName==="bottom-right"){if(L){const I=B?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};P=Math.sqrt(Math.pow(K.x()-I.x,2)+Math.pow(K.y()-I.y,2));const H=this.findOne(".bottom-right").x()<I.x?-1:1,k=this.findOne(".bottom-right").y()<I.y?-1:1;R=P*this.cos*H,q=P*this.sin*k,this.findOne(".bottom-right").x(I.x+R),this.findOne(".bottom-right").y(I.y+q)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(B=this.centeredScaling()||A.altKey,B){const I=this.findOne(".top-left"),H=this.findOne(".bottom-right"),k=I.x(),it=I.y(),rt=this.getWidth()-H.x(),ht=this.getHeight()-H.y();H.move({x:-k,y:-it}),I.move({x:rt,y:ht})}const F=this.findOne(".top-left").getAbsolutePosition();R=F.x,q=F.y;const tt=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),lt=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:R,y:q,width:tt,height:lt,rotation:g.Konva.getAngle(this.rotation())},A)}_handleMouseUp(A){this._removeEvents(A)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(A){var R;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const q=this.getNode();E--,this._fire("transformend",{evt:A,target:q}),(R=this.getLayer())===null||R===void 0||R.batchDraw(),q&&this._nodes.forEach(P=>{var K;P._fire("transformend",{evt:A,target:P}),(K=P.getLayer())===null||K===void 0||K.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(A,R){const q=this._getNodeRect(),P=1;if(h.Util._inRange(A.width,-this.padding()*2-P,P)){this.update();return}if(h.Util._inRange(A.height,-this.padding()*2-P,P)){this.update();return}const K=new h.Transform;if(K.rotate(g.Konva.getAngle(this.rotation())),this._movingAnchorName&&A.width<0&&this._movingAnchorName.indexOf("left")>=0){const L=K.point({x:-this.padding()*2,y:0});A.x+=L.x,A.y+=L.y,A.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=L.x,this._anchorDragOffset.y-=L.y}else if(this._movingAnchorName&&A.width<0&&this._movingAnchorName.indexOf("right")>=0){const L=K.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=L.x,this._anchorDragOffset.y-=L.y,A.width+=this.padding()*2}if(this._movingAnchorName&&A.height<0&&this._movingAnchorName.indexOf("top")>=0){const L=K.point({x:0,y:-this.padding()*2});A.x+=L.x,A.y+=L.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=L.x,this._anchorDragOffset.y-=L.y,A.height+=this.padding()*2}else if(this._movingAnchorName&&A.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const L=K.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=L.x,this._anchorDragOffset.y-=L.y,A.height+=this.padding()*2}if(this.boundBoxFunc()){const L=this.boundBoxFunc()(q,A);L?A=L:h.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const Q=1e7,Y=new h.Transform;Y.translate(q.x,q.y),Y.rotate(q.rotation),Y.scale(q.width/Q,q.height/Q);const at=new h.Transform,C=A.width/Q,O=A.height/Q;this.flipEnabled()===!1?(at.translate(A.x,A.y),at.rotate(A.rotation),at.translate(A.width<0?A.width:0,A.height<0?A.height:0),at.scale(Math.abs(C),Math.abs(O))):(at.translate(A.x,A.y),at.rotate(A.rotation),at.scale(C,O));const V=at.multiply(Y.invert());this._nodes.forEach(L=>{var B;const Z=L.getParent().getAbsoluteTransform(),F=L.getTransform().copy();F.translate(L.offsetX(),L.offsetY());const tt=new h.Transform;tt.multiply(Z.copy().invert()).multiply(V).multiply(Z).multiply(F);const lt=tt.decompose();L.setAttrs(lt),(B=L.getLayer())===null||B===void 0||B.batchDraw()}),this.rotation(h.Util._getRotation(A.rotation)),this._nodes.forEach(L=>{this._fire("transform",{evt:R,target:L}),L._fire("transform",{evt:R,target:L})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(A,R){this.findOne(A).setAttrs(R)}update(){var A;const R=this._getNodeRect();this.rotation(h.Util._getRotation(R.rotation));const q=R.width,P=R.height,K=this.enabledAnchors(),Q=this.resizeEnabled(),Y=this.padding(),at=this.anchorSize(),C=this.find("._anchor");C.forEach(V=>{V.setAttrs({width:at,height:at,offsetX:at/2,offsetY:at/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:at/2+Y,offsetY:at/2+Y,visible:Q&&K.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:q/2,y:0,offsetY:at/2+Y,visible:Q&&K.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:q,y:0,offsetX:at/2-Y,offsetY:at/2+Y,visible:Q&&K.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:P/2,offsetX:at/2+Y,visible:Q&&K.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:q,y:P/2,offsetX:at/2-Y,visible:Q&&K.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:P,offsetX:at/2+Y,offsetY:at/2-Y,visible:Q&&K.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:q/2,y:P,offsetY:at/2-Y,visible:Q&&K.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:q,y:P,offsetX:at/2-Y,offsetY:at/2-Y,visible:Q&&K.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:q/2,y:-this.rotateAnchorOffset()*h.Util._sign(P)-Y,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:q,height:P,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const O=this.anchorStyleFunc();O&&C.forEach(V=>{O(V)}),(A=this.getLayer())===null||A===void 0||A.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const A=this.findOne("."+this._movingAnchorName);A&&A.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),_.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return z.Node.prototype.toObject.call(this)}clone(A){return z.Node.prototype.clone.call(this,A)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}};Ti.Transformer=G,G.isTransforming=()=>E>0;function w(N){return N instanceof Array||h.Util.warn("enabledAnchors value should be an array"),N instanceof Array&&N.forEach(function(A){x.indexOf(A)===-1&&h.Util.warn("Unknown anchor name: "+A+". Available names are: "+x.join(", "))}),N||[]}return G.prototype.className="Transformer",(0,f._registerNode)(G),r.Factory.addGetterSetter(G,"enabledAnchors",x,w),r.Factory.addGetterSetter(G,"flipEnabled",!0,(0,d.getBooleanValidator)()),r.Factory.addGetterSetter(G,"resizeEnabled",!0),r.Factory.addGetterSetter(G,"anchorSize",10,(0,d.getNumberValidator)()),r.Factory.addGetterSetter(G,"rotateEnabled",!0),r.Factory.addGetterSetter(G,"rotateLineVisible",!0),r.Factory.addGetterSetter(G,"rotationSnaps",[]),r.Factory.addGetterSetter(G,"rotateAnchorOffset",50,(0,d.getNumberValidator)()),r.Factory.addGetterSetter(G,"rotateAnchorCursor","crosshair"),r.Factory.addGetterSetter(G,"rotationSnapTolerance",5,(0,d.getNumberValidator)()),r.Factory.addGetterSetter(G,"borderEnabled",!0),r.Factory.addGetterSetter(G,"anchorStroke","rgb(0, 161, 255)"),r.Factory.addGetterSetter(G,"anchorStrokeWidth",1,(0,d.getNumberValidator)()),r.Factory.addGetterSetter(G,"anchorFill","white"),r.Factory.addGetterSetter(G,"anchorCornerRadius",0,(0,d.getNumberValidator)()),r.Factory.addGetterSetter(G,"borderStroke","rgb(0, 161, 255)"),r.Factory.addGetterSetter(G,"borderStrokeWidth",1,(0,d.getNumberValidator)()),r.Factory.addGetterSetter(G,"borderDash"),r.Factory.addGetterSetter(G,"keepRatio",!0),r.Factory.addGetterSetter(G,"shiftBehavior","default"),r.Factory.addGetterSetter(G,"centeredScaling",!1),r.Factory.addGetterSetter(G,"ignoreStroke",!1),r.Factory.addGetterSetter(G,"padding",0,(0,d.getNumberValidator)()),r.Factory.addGetterSetter(G,"nodes"),r.Factory.addGetterSetter(G,"node"),r.Factory.addGetterSetter(G,"boundBoxFunc"),r.Factory.addGetterSetter(G,"anchorDragBoundFunc"),r.Factory.addGetterSetter(G,"anchorStyleFunc"),r.Factory.addGetterSetter(G,"shouldOverdrawWholeArea",!1),r.Factory.addGetterSetter(G,"useSingleNodeRotation",!0),r.Factory.backCompat(G,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"}),Ti}var xi={},gh;function R1(){if(gh)return xi;gh=1,Object.defineProperty(xi,"__esModule",{value:!0}),xi.Wedge=void 0;const h=Tt(),r=oe(),z=bt(),U=xt(),b=bt();let _=class extends r.Shape{_sceneFunc(d){d.beginPath(),d.arc(0,0,this.radius(),0,z.Konva.getAngle(this.angle()),this.clockwise()),d.lineTo(0,0),d.closePath(),d.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(d){this.radius(d/2)}setHeight(d){this.radius(d/2)}};return xi.Wedge=_,_.prototype.className="Wedge",_.prototype._centroid=!0,_.prototype._attrsAffectingSize=["radius"],(0,b._registerNode)(_),h.Factory.addGetterSetter(_,"radius",0,(0,U.getNumberValidator)()),h.Factory.addGetterSetter(_,"angle",0,(0,U.getNumberValidator)()),h.Factory.addGetterSetter(_,"clockwise",!1),h.Factory.backCompat(_,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),xi}var Ni={},mh;function O1(){if(mh)return Ni;mh=1,Object.defineProperty(Ni,"__esModule",{value:!0}),Ni.Blur=void 0;const h=Tt(),r=Qt(),z=xt();function U(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const b=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],_=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function g(f,p){const m=f.data,T=f.width,v=f.height;let u,o,S,x,D,c,s,y,E,G,w,N,A,R,q,P,K,Q,Y,at;const C=p+p+1,O=T-1,V=v-1,L=p+1,B=L*(L+1)/2,Z=new U,F=b[p],tt=_[p];let lt=null,I=Z,H=null,k=null;for(let it=1;it<C;it++)I=I.next=new U,it===L&&(lt=I);I.next=Z,S=o=0;for(let it=0;it<v;it++){N=A=R=q=x=D=c=s=0,y=L*(P=m[o]),E=L*(K=m[o+1]),G=L*(Q=m[o+2]),w=L*(Y=m[o+3]),x+=B*P,D+=B*K,c+=B*Q,s+=B*Y,I=Z;for(let rt=0;rt<L;rt++)I.r=P,I.g=K,I.b=Q,I.a=Y,I=I.next;for(let rt=1;rt<L;rt++)u=o+((O<rt?O:rt)<<2),x+=(I.r=P=m[u])*(at=L-rt),D+=(I.g=K=m[u+1])*at,c+=(I.b=Q=m[u+2])*at,s+=(I.a=Y=m[u+3])*at,N+=P,A+=K,R+=Q,q+=Y,I=I.next;H=Z,k=lt;for(let rt=0;rt<T;rt++)m[o+3]=Y=s*F>>tt,Y!==0?(Y=255/Y,m[o]=(x*F>>tt)*Y,m[o+1]=(D*F>>tt)*Y,m[o+2]=(c*F>>tt)*Y):m[o]=m[o+1]=m[o+2]=0,x-=y,D-=E,c-=G,s-=w,y-=H.r,E-=H.g,G-=H.b,w-=H.a,u=S+((u=rt+p+1)<O?u:O)<<2,N+=H.r=m[u],A+=H.g=m[u+1],R+=H.b=m[u+2],q+=H.a=m[u+3],x+=N,D+=A,c+=R,s+=q,H=H.next,y+=P=k.r,E+=K=k.g,G+=Q=k.b,w+=Y=k.a,N-=P,A-=K,R-=Q,q-=Y,k=k.next,o+=4;S+=T}for(let it=0;it<T;it++){A=R=q=N=D=c=s=x=0,o=it<<2,y=L*(P=m[o]),E=L*(K=m[o+1]),G=L*(Q=m[o+2]),w=L*(Y=m[o+3]),x+=B*P,D+=B*K,c+=B*Q,s+=B*Y,I=Z;for(let ht=0;ht<L;ht++)I.r=P,I.g=K,I.b=Q,I.a=Y,I=I.next;let rt=T;for(let ht=1;ht<=p;ht++)o=rt+it<<2,x+=(I.r=P=m[o])*(at=L-ht),D+=(I.g=K=m[o+1])*at,c+=(I.b=Q=m[o+2])*at,s+=(I.a=Y=m[o+3])*at,N+=P,A+=K,R+=Q,q+=Y,I=I.next,ht<V&&(rt+=T);o=it,H=Z,k=lt;for(let ht=0;ht<v;ht++)u=o<<2,m[u+3]=Y=s*F>>tt,Y>0?(Y=255/Y,m[u]=(x*F>>tt)*Y,m[u+1]=(D*F>>tt)*Y,m[u+2]=(c*F>>tt)*Y):m[u]=m[u+1]=m[u+2]=0,x-=y,D-=E,c-=G,s-=w,y-=H.r,E-=H.g,G-=H.b,w-=H.a,u=it+((u=ht+L)<V?u:V)*T<<2,x+=N+=H.r=m[u],D+=A+=H.g=m[u+1],c+=R+=H.b=m[u+2],s+=q+=H.a=m[u+3],H=H.next,y+=P=k.r,E+=K=k.g,G+=Q=k.b,w+=Y=k.a,N-=P,A-=K,R-=Q,q-=Y,k=k.next,o+=T}}const d=function(p){const m=Math.round(this.blurRadius());m>0&&g(p,m)};return Ni.Blur=d,h.Factory.addGetterSetter(r.Node,"blurRadius",0,(0,z.getNumberValidator)(),h.Factory.afterSetFilter),Ni}var Ai={},ph;function D1(){if(ph)return Ai;ph=1,Object.defineProperty(Ai,"__esModule",{value:!0}),Ai.Brighten=void 0;const h=Tt(),r=Qt(),z=xt(),U=function(b){const _=this.brightness()*255,g=b.data,d=g.length;for(let f=0;f<d;f+=4)g[f]+=_,g[f+1]+=_,g[f+2]+=_};return Ai.Brighten=U,h.Factory.addGetterSetter(r.Node,"brightness",0,(0,z.getNumberValidator)(),h.Factory.afterSetFilter),Ai}var Mi={},vh;function G1(){if(vh)return Mi;vh=1,Object.defineProperty(Mi,"__esModule",{value:!0}),Mi.Contrast=void 0;const h=Tt(),r=Qt(),z=xt(),U=function(b){const _=Math.pow((this.contrast()+100)/100,2),g=b.data,d=g.length;let f=150,p=150,m=150;for(let T=0;T<d;T+=4)f=g[T],p=g[T+1],m=g[T+2],f/=255,f-=.5,f*=_,f+=.5,f*=255,p/=255,p-=.5,p*=_,p+=.5,p*=255,m/=255,m-=.5,m*=_,m+=.5,m*=255,f=f<0?0:f>255?255:f,p=p<0?0:p>255?255:p,m=m<0?0:m>255?255:m,g[T]=f,g[T+1]=p,g[T+2]=m};return Mi.Contrast=U,h.Factory.addGetterSetter(r.Node,"contrast",0,(0,z.getNumberValidator)(),h.Factory.afterSetFilter),Mi}var Ri={},yh;function U1(){if(yh)return Ri;yh=1,Object.defineProperty(Ri,"__esModule",{value:!0}),Ri.Emboss=void 0;const h=Tt(),r=Qt(),z=Yt(),U=xt(),b=function(_){const g=this.embossStrength()*10,d=this.embossWhiteLevel()*255,f=this.embossDirection(),p=this.embossBlend(),m=_.data,T=_.width,v=_.height,u=T*4;let o=0,S=0,x=v;switch(f){case"top-left":o=-1,S=-1;break;case"top":o=-1,S=0;break;case"top-right":o=-1,S=1;break;case"right":o=0,S=1;break;case"bottom-right":o=1,S=1;break;case"bottom":o=1,S=0;break;case"bottom-left":o=1,S=-1;break;case"left":o=0,S=-1;break;default:z.Util.error("Unknown emboss direction: "+f)}do{const D=(x-1)*u;let c=o;x+c<1&&(c=0),x+c>v&&(c=0);const s=(x-1+c)*T*4;let y=T;do{const E=D+(y-1)*4;let G=S;y+G<1&&(G=0),y+G>T&&(G=0);const w=s+(y-1+G)*4,N=m[E]-m[w],A=m[E+1]-m[w+1],R=m[E+2]-m[w+2];let q=N;const P=q>0?q:-q,K=A>0?A:-A,Q=R>0?R:-R;if(K>P&&(q=A),Q>P&&(q=R),q*=g,p){const Y=m[E]+q,at=m[E+1]+q,C=m[E+2]+q;m[E]=Y>255?255:Y<0?0:Y,m[E+1]=at>255?255:at<0?0:at,m[E+2]=C>255?255:C<0?0:C}else{let Y=d-q;Y<0?Y=0:Y>255&&(Y=255),m[E]=m[E+1]=m[E+2]=Y}}while(--y)}while(--x)};return Ri.Emboss=b,h.Factory.addGetterSetter(r.Node,"embossStrength",.5,(0,U.getNumberValidator)(),h.Factory.afterSetFilter),h.Factory.addGetterSetter(r.Node,"embossWhiteLevel",.5,(0,U.getNumberValidator)(),h.Factory.afterSetFilter),h.Factory.addGetterSetter(r.Node,"embossDirection","top-left",void 0,h.Factory.afterSetFilter),h.Factory.addGetterSetter(r.Node,"embossBlend",!1,void 0,h.Factory.afterSetFilter),Ri}var Oi={},_h;function z1(){if(_h)return Oi;_h=1,Object.defineProperty(Oi,"__esModule",{value:!0}),Oi.Enhance=void 0;const h=Tt(),r=Qt(),z=xt();function U(_,g,d,f,p){const m=d-g,T=p-f;if(m===0)return f+T/2;if(T===0)return f;let v=(_-g)/m;return v=T*v+f,v}const b=function(_){const g=_.data,d=g.length;let f=g[0],p=f,m,T=g[1],v=T,u,o=g[2],S=o,x;const D=this.enhance();if(D===0)return;for(let N=0;N<d;N+=4)m=g[N+0],m<f?f=m:m>p&&(p=m),u=g[N+1],u<T?T=u:u>v&&(v=u),x=g[N+2],x<o?o=x:x>S&&(S=x);p===f&&(p=255,f=0),v===T&&(v=255,T=0),S===o&&(S=255,o=0);let c,s,y,E,G,w;if(D>0)c=p+D*(255-p),s=f-D*(f-0),y=v+D*(255-v),E=T-D*(T-0),G=S+D*(255-S),w=o-D*(o-0);else{const N=(p+f)*.5;c=p+D*(p-N),s=f+D*(f-N);const A=(v+T)*.5;y=v+D*(v-A),E=T+D*(T-A);const R=(S+o)*.5;G=S+D*(S-R),w=o+D*(o-R)}for(let N=0;N<d;N+=4)g[N+0]=U(g[N+0],f,p,s,c),g[N+1]=U(g[N+1],T,v,E,y),g[N+2]=U(g[N+2],o,S,w,G)};return Oi.Enhance=b,h.Factory.addGetterSetter(r.Node,"enhance",0,(0,z.getNumberValidator)(),h.Factory.afterSetFilter),Oi}var Di={},Sh;function B1(){if(Sh)return Di;Sh=1,Object.defineProperty(Di,"__esModule",{value:!0}),Di.Grayscale=void 0;const h=function(r){const z=r.data,U=z.length;for(let b=0;b<U;b+=4){const _=.34*z[b]+.5*z[b+1]+.16*z[b+2];z[b]=_,z[b+1]=_,z[b+2]=_}};return Di.Grayscale=h,Di}var Gi={},bh;function H1(){if(bh)return Gi;bh=1,Object.defineProperty(Gi,"__esModule",{value:!0}),Gi.HSL=void 0;const h=Tt(),r=Qt(),z=xt();h.Factory.addGetterSetter(r.Node,"hue",0,(0,z.getNumberValidator)(),h.Factory.afterSetFilter),h.Factory.addGetterSetter(r.Node,"saturation",0,(0,z.getNumberValidator)(),h.Factory.afterSetFilter),h.Factory.addGetterSetter(r.Node,"luminance",0,(0,z.getNumberValidator)(),h.Factory.afterSetFilter);const U=function(b){const _=b.data,g=_.length,d=1,f=Math.pow(2,this.saturation()),p=Math.abs(this.hue()+360)%360,m=this.luminance()*127,T=d*f*Math.cos(p*Math.PI/180),v=d*f*Math.sin(p*Math.PI/180),u=.299*d+.701*T+.167*v,o=.587*d-.587*T+.33*v,S=.114*d-.114*T-.497*v,x=.299*d-.299*T-.328*v,D=.587*d+.413*T+.035*v,c=.114*d-.114*T+.293*v,s=.299*d-.3*T+1.25*v,y=.587*d-.586*T-1.05*v,E=.114*d+.886*T-.2*v;let G,w,N,A;for(let R=0;R<g;R+=4)G=_[R+0],w=_[R+1],N=_[R+2],A=_[R+3],_[R+0]=u*G+o*w+S*N+m,_[R+1]=x*G+D*w+c*N+m,_[R+2]=s*G+y*w+E*N+m,_[R+3]=A};return Gi.HSL=U,Gi}var Ui={},Ch;function L1(){if(Ch)return Ui;Ch=1,Object.defineProperty(Ui,"__esModule",{value:!0}),Ui.HSV=void 0;const h=Tt(),r=Qt(),z=xt(),U=function(b){const _=b.data,g=_.length,d=Math.pow(2,this.value()),f=Math.pow(2,this.saturation()),p=Math.abs(this.hue()+360)%360,m=d*f*Math.cos(p*Math.PI/180),T=d*f*Math.sin(p*Math.PI/180),v=.299*d+.701*m+.167*T,u=.587*d-.587*m+.33*T,o=.114*d-.114*m-.497*T,S=.299*d-.299*m-.328*T,x=.587*d+.413*m+.035*T,D=.114*d-.114*m+.293*T,c=.299*d-.3*m+1.25*T,s=.587*d-.586*m-1.05*T,y=.114*d+.886*m-.2*T;for(let E=0;E<g;E+=4){const G=_[E+0],w=_[E+1],N=_[E+2],A=_[E+3];_[E+0]=v*G+u*w+o*N,_[E+1]=S*G+x*w+D*N,_[E+2]=c*G+s*w+y*N,_[E+3]=A}};return Ui.HSV=U,h.Factory.addGetterSetter(r.Node,"hue",0,(0,z.getNumberValidator)(),h.Factory.afterSetFilter),h.Factory.addGetterSetter(r.Node,"saturation",0,(0,z.getNumberValidator)(),h.Factory.afterSetFilter),h.Factory.addGetterSetter(r.Node,"value",0,(0,z.getNumberValidator)(),h.Factory.afterSetFilter),Ui}var zi={},Eh;function V1(){if(Eh)return zi;Eh=1,Object.defineProperty(zi,"__esModule",{value:!0}),zi.Invert=void 0;const h=function(r){const z=r.data,U=z.length;for(let b=0;b<U;b+=4)z[b]=255-z[b],z[b+1]=255-z[b+1],z[b+2]=255-z[b+2]};return zi.Invert=h,zi}var Bi={},Th;function q1(){if(Th)return Bi;Th=1,Object.defineProperty(Bi,"__esModule",{value:!0}),Bi.Kaleidoscope=void 0;const h=Tt(),r=Qt(),z=Yt(),U=xt(),b=function(d,f,p){const m=d.data,T=f.data,v=d.width,u=d.height,o=p.polarCenterX||v/2,S=p.polarCenterY||u/2;let x=Math.sqrt(o*o+S*S),D=v-o,c=u-S;const s=Math.sqrt(D*D+c*c);x=s>x?s:x;const y=u,E=v,G=360/E*Math.PI/180;for(let w=0;w<E;w+=1){const N=Math.sin(w*G),A=Math.cos(w*G);for(let R=0;R<y;R+=1){D=Math.floor(o+x*R/y*A),c=Math.floor(S+x*R/y*N);let q=(c*v+D)*4;const P=m[q+0],K=m[q+1],Q=m[q+2],Y=m[q+3];q=(w+R*v)*4,T[q+0]=P,T[q+1]=K,T[q+2]=Q,T[q+3]=Y}}},_=function(d,f,p){const m=d.data,T=f.data,v=d.width,u=d.height,o=p.polarCenterX||v/2,S=p.polarCenterY||u/2;let x=Math.sqrt(o*o+S*S),D=v-o,c=u-S;const s=Math.sqrt(D*D+c*c);x=s>x?s:x;const y=u,E=v,G=0;let w,N;for(D=0;D<v;D+=1)for(c=0;c<u;c+=1){const A=D-o,R=c-S,q=Math.sqrt(A*A+R*R)*y/x;let P=(Math.atan2(R,A)*180/Math.PI+360+G)%360;P=P*E/360,w=Math.floor(P),N=Math.floor(q);let K=(N*v+w)*4;const Q=m[K+0],Y=m[K+1],at=m[K+2],C=m[K+3];K=(c*v+D)*4,T[K+0]=Q,T[K+1]=Y,T[K+2]=at,T[K+3]=C}},g=function(d){const f=d.width,p=d.height;let m,T,v,u,o,S,x,D,c,s,y=Math.round(this.kaleidoscopePower());const E=Math.round(this.kaleidoscopeAngle()),G=Math.floor(f*(E%360)/360);if(y<1)return;const w=z.Util.createCanvasElement();w.width=f,w.height=p;const N=w.getContext("2d").getImageData(0,0,f,p);z.Util.releaseCanvas(w),b(d,N,{polarCenterX:f/2,polarCenterY:p/2});let A=f/Math.pow(2,y);for(;A<=8;)A=A*2,y-=1;A=Math.ceil(A);let R=A,q=0,P=R,K=1;for(G+A>f&&(q=R,P=0,K=-1),T=0;T<p;T+=1)for(m=q;m!==P;m+=K)v=Math.round(m+G)%f,c=(f*T+v)*4,o=N.data[c+0],S=N.data[c+1],x=N.data[c+2],D=N.data[c+3],s=(f*T+m)*4,N.data[s+0]=o,N.data[s+1]=S,N.data[s+2]=x,N.data[s+3]=D;for(T=0;T<p;T+=1)for(R=Math.floor(A),u=0;u<y;u+=1){for(m=0;m<R+1;m+=1)c=(f*T+m)*4,o=N.data[c+0],S=N.data[c+1],x=N.data[c+2],D=N.data[c+3],s=(f*T+R*2-m-1)*4,N.data[s+0]=o,N.data[s+1]=S,N.data[s+2]=x,N.data[s+3]=D;R*=2}_(N,d,{})};return Bi.Kaleidoscope=g,h.Factory.addGetterSetter(r.Node,"kaleidoscopePower",2,(0,U.getNumberValidator)(),h.Factory.afterSetFilter),h.Factory.addGetterSetter(r.Node,"kaleidoscopeAngle",0,(0,U.getNumberValidator)(),h.Factory.afterSetFilter),Bi}var Hi={},xh;function j1(){if(xh)return Hi;xh=1,Object.defineProperty(Hi,"__esModule",{value:!0}),Hi.Mask=void 0;const h=Tt(),r=Qt(),z=xt();function U(v,u,o){let S=(o*v.width+u)*4;const x=[];return x.push(v.data[S++],v.data[S++],v.data[S++],v.data[S++]),x}function b(v,u){return Math.sqrt(Math.pow(v[0]-u[0],2)+Math.pow(v[1]-u[1],2)+Math.pow(v[2]-u[2],2))}function _(v){const u=[0,0,0];for(let o=0;o<v.length;o++)u[0]+=v[o][0],u[1]+=v[o][1],u[2]+=v[o][2];return u[0]/=v.length,u[1]/=v.length,u[2]/=v.length,u}function g(v,u){const o=U(v,0,0),S=U(v,v.width-1,0),x=U(v,0,v.height-1),D=U(v,v.width-1,v.height-1),c=u||10;if(b(o,S)<c&&b(S,D)<c&&b(D,x)<c&&b(x,o)<c){const s=_([S,o,D,x]),y=[];for(let E=0;E<v.width*v.height;E++){const G=b(s,[v.data[E*4],v.data[E*4+1],v.data[E*4+2]]);y[E]=G<c?0:255}return y}}function d(v,u){for(let o=0;o<v.width*v.height;o++)v.data[4*o+3]=u[o]}function f(v,u,o){const S=[1,1,1,1,0,1,1,1,1],x=Math.round(Math.sqrt(S.length)),D=Math.floor(x/2),c=[];for(let s=0;s<o;s++)for(let y=0;y<u;y++){const E=s*u+y;let G=0;for(let w=0;w<x;w++)for(let N=0;N<x;N++){const A=s+w-D,R=y+N-D;if(A>=0&&A<o&&R>=0&&R<u){const q=A*u+R,P=S[w*x+N];G+=v[q]*P}}c[E]=G===2040?255:0}return c}function p(v,u,o){const S=[1,1,1,1,1,1,1,1,1],x=Math.round(Math.sqrt(S.length)),D=Math.floor(x/2),c=[];for(let s=0;s<o;s++)for(let y=0;y<u;y++){const E=s*u+y;let G=0;for(let w=0;w<x;w++)for(let N=0;N<x;N++){const A=s+w-D,R=y+N-D;if(A>=0&&A<o&&R>=0&&R<u){const q=A*u+R,P=S[w*x+N];G+=v[q]*P}}c[E]=G>=1020?255:0}return c}function m(v,u,o){const S=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],x=Math.round(Math.sqrt(S.length)),D=Math.floor(x/2),c=[];for(let s=0;s<o;s++)for(let y=0;y<u;y++){const E=s*u+y;let G=0;for(let w=0;w<x;w++)for(let N=0;N<x;N++){const A=s+w-D,R=y+N-D;if(A>=0&&A<o&&R>=0&&R<u){const q=A*u+R,P=S[w*x+N];G+=v[q]*P}}c[E]=G}return c}const T=function(v){const u=this.threshold();let o=g(v,u);return o&&(o=f(o,v.width,v.height),o=p(o,v.width,v.height),o=m(o,v.width,v.height),d(v,o)),v};return Hi.Mask=T,h.Factory.addGetterSetter(r.Node,"threshold",0,(0,z.getNumberValidator)(),h.Factory.afterSetFilter),Hi}var Li={},Nh;function w1(){if(Nh)return Li;Nh=1,Object.defineProperty(Li,"__esModule",{value:!0}),Li.Noise=void 0;const h=Tt(),r=Qt(),z=xt(),U=function(b){const _=this.noise()*255,g=b.data,d=g.length,f=_/2;for(let p=0;p<d;p+=4)g[p+0]+=f-2*f*Math.random(),g[p+1]+=f-2*f*Math.random(),g[p+2]+=f-2*f*Math.random()};return Li.Noise=U,h.Factory.addGetterSetter(r.Node,"noise",.2,(0,z.getNumberValidator)(),h.Factory.afterSetFilter),Li}var Vi={},Ah;function P1(){if(Ah)return Vi;Ah=1,Object.defineProperty(Vi,"__esModule",{value:!0}),Vi.Pixelate=void 0;const h=Tt(),r=Yt(),z=Qt(),U=xt(),b=function(_){let g=Math.ceil(this.pixelSize()),d=_.width,f=_.height,p=Math.ceil(d/g),m=Math.ceil(f/g),T=_.data;if(g<=0){r.Util.error("pixelSize value can not be <= 0");return}for(let v=0;v<p;v+=1)for(let u=0;u<m;u+=1){let o=0,S=0,x=0,D=0;const c=v*g,s=c+g,y=u*g,E=y+g;let G=0;for(let w=c;w<s;w+=1)if(!(w>=d))for(let N=y;N<E;N+=1){if(N>=f)continue;const A=(d*N+w)*4;o+=T[A+0],S+=T[A+1],x+=T[A+2],D+=T[A+3],G+=1}o=o/G,S=S/G,x=x/G,D=D/G;for(let w=c;w<s;w+=1)if(!(w>=d))for(let N=y;N<E;N+=1){if(N>=f)continue;const A=(d*N+w)*4;T[A+0]=o,T[A+1]=S,T[A+2]=x,T[A+3]=D}}};return Vi.Pixelate=b,h.Factory.addGetterSetter(z.Node,"pixelSize",8,(0,U.getNumberValidator)(),h.Factory.afterSetFilter),Vi}var qi={},Mh;function F1(){if(Mh)return qi;Mh=1,Object.defineProperty(qi,"__esModule",{value:!0}),qi.Posterize=void 0;const h=Tt(),r=Qt(),z=xt(),U=function(b){const _=Math.round(this.levels()*254)+1,g=b.data,d=g.length,f=255/_;for(let p=0;p<d;p+=1)g[p]=Math.floor(g[p]/f)*f};return qi.Posterize=U,h.Factory.addGetterSetter(r.Node,"levels",.5,(0,z.getNumberValidator)(),h.Factory.afterSetFilter),qi}var ji={},Rh;function Y1(){if(Rh)return ji;Rh=1,Object.defineProperty(ji,"__esModule",{value:!0}),ji.RGB=void 0;const h=Tt(),r=Qt(),z=xt(),U=function(b){const _=b.data,g=_.length,d=this.red(),f=this.green(),p=this.blue();for(let m=0;m<g;m+=4){const T=(.34*_[m]+.5*_[m+1]+.16*_[m+2])/255;_[m]=T*d,_[m+1]=T*f,_[m+2]=T*p,_[m+3]=_[m+3]}};return ji.RGB=U,h.Factory.addGetterSetter(r.Node,"red",0,function(b){return this._filterUpToDate=!1,b>255?255:b<0?0:Math.round(b)}),h.Factory.addGetterSetter(r.Node,"green",0,function(b){return this._filterUpToDate=!1,b>255?255:b<0?0:Math.round(b)}),h.Factory.addGetterSetter(r.Node,"blue",0,z.RGBComponent,h.Factory.afterSetFilter),ji}var wi={},Oh;function K1(){if(Oh)return wi;Oh=1,Object.defineProperty(wi,"__esModule",{value:!0}),wi.RGBA=void 0;const h=Tt(),r=Qt(),z=xt(),U=function(b){const _=b.data,g=_.length,d=this.red(),f=this.green(),p=this.blue(),m=this.alpha();for(let T=0;T<g;T+=4){const v=1-m;_[T]=d*m+_[T]*v,_[T+1]=f*m+_[T+1]*v,_[T+2]=p*m+_[T+2]*v}};return wi.RGBA=U,h.Factory.addGetterSetter(r.Node,"red",0,function(b){return this._filterUpToDate=!1,b>255?255:b<0?0:Math.round(b)}),h.Factory.addGetterSetter(r.Node,"green",0,function(b){return this._filterUpToDate=!1,b>255?255:b<0?0:Math.round(b)}),h.Factory.addGetterSetter(r.Node,"blue",0,z.RGBComponent,h.Factory.afterSetFilter),h.Factory.addGetterSetter(r.Node,"alpha",1,function(b){return this._filterUpToDate=!1,b>1?1:b<0?0:b}),wi}var Pi={},Dh;function X1(){if(Dh)return Pi;Dh=1,Object.defineProperty(Pi,"__esModule",{value:!0}),Pi.Sepia=void 0;const h=function(r){const z=r.data,U=z.length;for(let b=0;b<U;b+=4){const _=z[b+0],g=z[b+1],d=z[b+2];z[b+0]=Math.min(255,_*.393+g*.769+d*.189),z[b+1]=Math.min(255,_*.349+g*.686+d*.168),z[b+2]=Math.min(255,_*.272+g*.534+d*.131)}};return Pi.Sepia=h,Pi}var Fi={},Gh;function Q1(){if(Gh)return Fi;Gh=1,Object.defineProperty(Fi,"__esModule",{value:!0}),Fi.Solarize=void 0;const h=function(r){const z=r.data,U=r.width,b=r.height,_=U*4;let g=b;do{const d=(g-1)*_;let f=U;do{const p=d+(f-1)*4;let m=z[p],T=z[p+1],v=z[p+2];m>127&&(m=255-m),T>127&&(T=255-T),v>127&&(v=255-v),z[p]=m,z[p+1]=T,z[p+2]=v}while(--f)}while(--g)};return Fi.Solarize=h,Fi}var Yi={},Uh;function Z1(){if(Uh)return Yi;Uh=1,Object.defineProperty(Yi,"__esModule",{value:!0}),Yi.Threshold=void 0;const h=Tt(),r=Qt(),z=xt(),U=function(b){const _=this.threshold()*255,g=b.data,d=g.length;for(let f=0;f<d;f+=1)g[f]=g[f]<_?0:255};return Yi.Threshold=U,h.Factory.addGetterSetter(r.Node,"threshold",.5,(0,z.getNumberValidator)(),h.Factory.afterSetFilter),Yi}var zh;function k1(){if(zh)return ii;zh=1,Object.defineProperty(ii,"__esModule",{value:!0}),ii.Konva=void 0;const h=Vr(),r=p1(),z=y1(),U=_1(),b=S1(),_=b1(),g=C1(),d=kh(),f=Pr(),p=Wh(),m=E1(),T=T1(),v=x1(),u=N1(),o=Ih(),S=A1(),x=M1(),D=R1(),c=O1(),s=D1(),y=G1(),E=U1(),G=z1(),w=B1(),N=H1(),A=L1(),R=V1(),q=q1(),P=j1(),K=w1(),Q=P1(),Y=F1(),at=Y1(),C=K1(),O=X1(),V=Q1(),L=Z1();return ii.Konva=h.Konva.Util._assign(h.Konva,{Arc:r.Arc,Arrow:z.Arrow,Circle:U.Circle,Ellipse:b.Ellipse,Image:_.Image,Label:g.Label,Tag:g.Tag,Line:d.Line,Path:f.Path,Rect:p.Rect,RegularPolygon:m.RegularPolygon,Ring:T.Ring,Sprite:v.Sprite,Star:u.Star,Text:o.Text,TextPath:S.TextPath,Transformer:x.Transformer,Wedge:D.Wedge,Filters:{Blur:c.Blur,Brighten:s.Brighten,Contrast:y.Contrast,Emboss:E.Emboss,Enhance:G.Enhance,Grayscale:w.Grayscale,HSL:N.HSL,HSV:A.HSV,Invert:R.Invert,Kaleidoscope:q.Kaleidoscope,Mask:P.Mask,Noise:K.Noise,Pixelate:Q.Pixelate,Posterize:Y.Posterize,RGB:at.RGB,RGBA:C.RGBA,Sepia:O.Sepia,Solarize:V.Solarize,Threshold:L.Threshold}}),ii}var J1=Vl.exports,Bh;function W1(){if(Bh)return Vl.exports;Bh=1,Object.defineProperty(J1,"__esModule",{value:!0});const h=k1();return Vl.exports=h.Konva,Vl.exports}W1();var Ll={exports:{}},Hh;function I1(){return Hh||(Hh=1,function(h,r){Object.defineProperty(r,"__esModule",{value:!0}),r.Konva=void 0;var z=Vr();Object.defineProperty(r,"Konva",{enumerable:!0,get:function(){return z.Konva}});const U=Vr();h.exports=U.Konva}(Ll,Ll.exports)),Ll.exports}var $1=I1();const ql=Yh($1);var Ur={exports:{}},zr={exports:{}};/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lh;function tf(){return Lh||(Lh=1,function(h){h.exports=function(r){function z(t,e,a,n){return new x0(t,e,a,n)}function U(){}function b(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)e+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function _(t){var e=t,a=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(a=e.return),t=e.return;while(t)}return e.tag===3?a:null}function g(t){if(_(t)!==t)throw Error(b(188))}function d(t){var e=t.alternate;if(!e){if(e=_(t),e===null)throw Error(b(188));return e!==t?null:t}for(var a=t,n=e;;){var i=a.return;if(i===null)break;var l=i.alternate;if(l===null){if(n=i.return,n!==null){a=n;continue}break}if(i.child===l.child){for(l=i.child;l;){if(l===a)return g(i),t;if(l===n)return g(i),e;l=l.sibling}throw Error(b(188))}if(a.return!==n.return)a=i,n=l;else{for(var M=!1,j=i.child;j;){if(j===a){M=!0,a=i,n=l;break}if(j===n){M=!0,n=i,a=l;break}j=j.sibling}if(!M){for(j=l.child;j;){if(j===a){M=!0,a=l,n=i;break}if(j===n){M=!0,n=l,a=i;break}j=j.sibling}if(!M)throw Error(b(189))}}if(a.alternate!==n)throw Error(b(190))}if(a.tag!==3)throw Error(b(188));return a.stateNode.current===a?t:e}function f(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=f(t),e!==null)return e;t=t.sibling}return null}function p(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(t.tag!==4&&(e=p(t),e!==null))return e;t=t.sibling}return null}function m(t){return t===null||typeof t!="object"?null:(t=Wu&&t[Wu]||t["@@iterator"],typeof t=="function"?t:null)}function T(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D0?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case an:return"Fragment";case Xs:return"Profiler";case ku:return"StrictMode";case Zs:return"Suspense";case ks:return"SuspenseList";case Ws:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case en:return"Portal";case Ca:return(t.displayName||"Context")+".Provider";case Ju:return(t._context.displayName||"Context")+".Consumer";case Qs:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Js:return e=t.displayName||null,e!==null?e:T(t.type)||"Memo";case Ea:e=t._payload,t=t._init;try{return T(t(e))}catch{}}return null}function v(t){return{current:t}}function u(t){0>sn||(t.current=ar[sn],ar[sn]=null,sn--)}function o(t,e){sn++,ar[sn]=t.current,t.current=e}function S(t){return t>>>=0,t===0?32:31-(Zd(t)/kd|0)|0}function x(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function D(t,e,a){var n=t.pendingLanes;if(n===0)return 0;var i=0,l=t.suspendedLanes,M=t.pingedLanes;t=t.warmLanes;var j=n&134217727;return j!==0?(n=j&~l,n!==0?i=x(n):(M&=j,M!==0?i=x(M):a||(a=j&~t,a!==0&&(i=x(a))))):(j=n&~l,j!==0?i=x(j):M!==0?i=x(M):a||(a=n&~t,a!==0&&(i=x(a)))),i===0?0:e!==0&&e!==i&&(e&l)===0&&(l=i&-i,a=e&-e,l>=a||l===32&&(a&4194048)!==0)?e:i}function c(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function s(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function y(){var t=pl;return pl<<=1,(pl&4194048)===0&&(pl=256),t}function E(){var t=vl;return vl<<=1,(vl&62914560)===0&&(vl=4194304),t}function G(t){for(var e=[],a=0;31>a;a++)e.push(t);return e}function w(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function N(t,e,a,n,i,l){var M=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var j=t.entanglements,W=t.expirationTimes,et=t.hiddenUpdates;for(a=M&~a;0<a;){var st=31-Ge(a),ut=1<<st;j[st]=0,W[st]=-1;var ct=et[st];if(ct!==null)for(et[st]=null,st=0;st<ct.length;st++){var _t=ct[st];_t!==null&&(_t.lane&=-536870913)}a&=~ut}n!==0&&A(t,n,0),l!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=l&~(M&~e))}function A(t,e,a){t.pendingLanes|=e,t.suspendedLanes&=~e;var n=31-Ge(e);t.entangledLanes|=e,t.entanglements[n]=t.entanglements[n]|1073741824|a&4194090}function R(t,e){var a=t.entangledLanes|=e;for(t=t.entanglements;a;){var n=31-Ge(a),i=1<<n;i&e|t[n]&e&&(t[n]|=e),a&=~i}}function q(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function P(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function K(t){if(typeof t1=="function"&&e1(t),Ue&&typeof Ue.setStrictMode=="function")try{Ue.setStrictMode(Qn,t)}catch{}}function Q(t){if(lr===void 0)try{throw Error()}catch(a){var e=a.stack.trim().match(/\n( *(at )?)/);lr=e&&e[1]||"",Cc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+lr+t+Cc}function Y(t,e){if(!t||sr)return"";sr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(e){var ut=function(){throw Error()};if(Object.defineProperty(ut.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ut,[])}catch(_t){var ct=_t}Reflect.construct(t,[],ut)}else{try{ut.call()}catch(_t){ct=_t}t.call(ut.prototype)}}else{try{throw Error()}catch(_t){ct=_t}(ut=t())&&typeof ut.catch=="function"&&ut.catch(function(){})}}catch(_t){if(_t&&ct&&typeof _t.stack=="string")return[_t.stack,ct.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var l=n.DetermineComponentFrameRoot(),M=l[0],j=l[1];if(M&&j){var W=M.split(`
`),et=j.split(`
`);for(i=n=0;n<W.length&&!W[n].includes("DetermineComponentFrameRoot");)n++;for(;i<et.length&&!et[i].includes("DetermineComponentFrameRoot");)i++;if(n===W.length||i===et.length)for(n=W.length-1,i=et.length-1;1<=n&&0<=i&&W[n]!==et[i];)i--;for(;1<=n&&0<=i;n--,i--)if(W[n]!==et[i]){if(n!==1||i!==1)do if(n--,i--,0>i||W[n]!==et[i]){var st=`
`+W[n].replace(" at new "," at ");return t.displayName&&st.includes("<anonymous>")&&(st=st.replace("<anonymous>",t.displayName)),st}while(1<=n&&0<=i);break}}}finally{sr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Q(a):""}function at(t){switch(t.tag){case 26:case 27:case 5:return Q(t.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 15:return Y(t.type,!1);case 11:return Y(t.type.render,!1);case 1:return Y(t.type,!0);case 31:return Q("Activity");default:return""}}function C(t){try{var e="";do e+=at(t),t=t.return;while(t);return e}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function O(t,e){if(typeof t=="object"&&t!==null){var a=Ec.get(t);return a!==void 0?a:(e={value:t,source:e,stack:C(e)},Ec.set(t,e),e)}return{value:t,source:e,stack:C(e)}}function V(t,e){on[un++]=Sl,on[un++]=_l,_l=t,Sl=e}function L(t,e,a){Ve[qe++]=la,Ve[qe++]=sa,Ve[qe++]=wa,wa=t;var n=la;t=sa;var i=32-Ge(n)-1;n&=~(1<<i),a+=1;var l=32-Ge(e)+i;if(30<l){var M=i-i%5;l=(n&(1<<M)-1).toString(32),n>>=M,i-=M,la=1<<32-Ge(e)+i|a<<i|n,sa=l+t}else la=1<<l|a<<i|n,sa=t}function B(t){t.return!==null&&(V(t,1),L(t,1,0))}function Z(t){for(;t===_l;)_l=on[--un],on[un]=null,Sl=on[--un],on[un]=null;for(;t===wa;)wa=Ve[--qe],Ve[qe]=null,sa=Ve[--qe],Ve[qe]=null,la=Ve[--qe],Ve[qe]=null}function F(t,e){o(xa,e),o(Zn,t),o(fe,null),t=z0(e),u(fe),o(fe,t)}function tt(){u(fe),u(Zn),u(xa)}function lt(t){t.memoizedState!==null&&o(bl,t);var e=fe.current,a=B0(e,t.type);e!==a&&(o(Zn,t),o(fe,a))}function I(t){Zn.current===t&&(u(fe),u(Zn)),bl.current===t&&(u(bl),na?ja._currentValue=nn:ja._currentValue2=nn)}function H(t){var e=Error(b(418,""));throw vt(O(e,t)),rr}function k(t,e){if(!Le)throw Error(b(175));Gd(t.stateNode,t.type,t.memoizedProps,e,t)||H(t)}function it(t){for(ye=t.return;ye;)switch(ye.tag){case 5:case 13:We=!1;return;case 27:case 3:We=!0;return;default:ye=ye.return}}function rt(t){if(!Le||t!==ye)return!1;if(!Gt)return it(t),Gt=!0,!1;var e=t.tag;if($t?e!==3&&e!==27&&(e!==5||cc(t.type)&&!ml(t.type,t.memoizedProps))&&te&&H(t):e!==3&&(e!==5||cc(t.type)&&!ml(t.type,t.memoizedProps))&&te&&H(t),it(t),e===13){if(!Le)throw Error(b(316));if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(b(317));te=Bd(t)}else te=$t&&e===27?Td(t.type,te):ye?uc(t.stateNode):null;return!0}function ht(){Le&&(te=ye=null,Gt=!1)}function pt(){var t=Pa;return t!==null&&(Ce===null?Ce=t:Ce.push.apply(Ce,t),Pa=null),t}function vt(t){Pa===null?Pa=[t]:Pa.push(t)}function Ot(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}function ft(t,e,a){na?(o(Cl,e._currentValue),e._currentValue=a):(o(Cl,e._currentValue2),e._currentValue2=a)}function Ht(t){var e=Cl.current;na?t._currentValue=e:t._currentValue2=e,u(Cl)}function Dt(t,e,a){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===a)break;t=t.return}}function Vt(t,e,a,n){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){var M=i.child;l=l.firstContext;t:for(;l!==null;){var j=l;l=i;for(var W=0;W<e.length;W++)if(j.context===e[W]){l.lanes|=a,j=l.alternate,j!==null&&(j.lanes|=a),Dt(l.return,a,t),n||(M=null);break t}l=j.next}}else if(i.tag===18){if(M=i.return,M===null)throw Error(b(341));M.lanes|=a,l=M.alternate,l!==null&&(l.lanes|=a),Dt(M,a,t),M=null}else M=i.child;if(M!==null)M.return=i;else for(M=i;M!==null;){if(M===t){M=null;break}if(i=M.sibling,i!==null){i.return=M.return,M=i;break}M=M.return}i=M}}function He(t,e,a,n){t=null;for(var i=e,l=!1;i!==null;){if(!l){if((i.flags&524288)!==0)l=!0;else if((i.flags&262144)!==0)break}if(i.tag===10){var M=i.alternate;if(M===null)throw Error(b(387));if(M=M.memoizedProps,M!==null){var j=i.type;ze(i.pendingProps.value,M.value)||(t!==null?t.push(j):t=[j])}}else if(i===bl.current){if(M=i.alternate,M===null)throw Error(b(387));M.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(ja):t=[ja])}i=i.return}t!==null&&Vt(e,t,a,n),e.flags|=262144}function ue(t){for(t=t.firstContext;t!==null;){var e=t.context;if(!ze(na?e._currentValue:e._currentValue2,t.memoizedValue))return!0;t=t.next}return!1}function xe(t){Fa=t,ra=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function yt(t){return Ne(Fa,t)}function me(t,e){return Fa===null&&xe(t),Ne(t,e)}function Ne(t,e){var a=na?e._currentValue:e._currentValue2;if(e={context:e,memoizedValue:a,next:null},ra===null){if(t===null)throw Error(b(308));ra=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else ra=ra.next=e;return a}function Ye(){return{controller:new a1,data:new Map,refCount:0}}function Zt(t){t.refCount--,t.refCount===0&&n1(i1,function(){t.controller.abort()})}function It(t){t!==cn&&t.next===null&&(cn===null?El=cn=t:cn=cn.next=t),Tl=!0,or||(or=!0,ka())}function ne(t,e){if(!ur&&Tl){ur=!0;do for(var a=!1,n=El;n!==null;){if(t!==0){var i=n.pendingLanes;if(i===0)var l=0;else{var M=n.suspendedLanes,j=n.pingedLanes;l=(1<<31-Ge(42|t)+1)-1,l&=i&~(M&~j),l=l&201326741?l&201326741|1:l?l|2:0}l!==0&&(a=!0,Rn(n,l))}else l=At,l=D(n,n===Lt?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==qa),(l&3)===0||c(n,l)||(a=!0,Rn(n,l));n=n.next}while(a);ur=!1}}function Ae(){ce()}function ce(){Tl=or=!1;var t=0;hn!==0&&(Y0()&&(t=hn),hn=0);for(var e=Qe(),a=null,n=El;n!==null;){var i=n.next,l=he(n,e);l===0?(n.next=null,a===null?El=i:a.next=i,i===null&&(cn=a)):(a=n,(t!==0||(l&3)!==0)&&(Tl=!0)),n=i}ne(t)}function he(t,e){for(var a=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,l=t.pendingLanes&-62914561;0<l;){var M=31-Ge(l),j=1<<M,W=i[M];W===-1?((j&a)===0||(j&n)!==0)&&(i[M]=s(j,e)):W<=e&&(t.expiredLanes|=j),l&=~j}if(e=Lt,a=At,a=D(t,t===e?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==qa),n=t.callbackNode,a===0||t===e&&(zt===2||zt===9)||t.cancelPendingCommit!==null)return n!==null&&n!==null&&nr(n),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||c(t,a)){if(e=a&-a,e===t.callbackPriority)return e;switch(n!==null&&nr(n),P(a)){case 2:case 8:a=Id;break;case 32:a=ir;break;case 268435456:a=$d;break;default:a=ir}return n=fa.bind(null,t),a=yl(a,n),t.callbackPriority=e,t.callbackNode=a,e}return n!==null&&n!==null&&nr(n),t.callbackPriority=2,t.callbackNode=null,2}function fa(t,e){if(ge!==0&&ge!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Fn()&&t.callbackNode!==a)return null;var n=At;return n=D(t,t===Lt?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==qa),n===0?null:(xu(t,n,e),he(t,Qe()),t.callbackNode!=null&&t.callbackNode===a?fa.bind(null,t):null)}function Rn(t,e){if(Fn())return null;xu(t,e,!0)}function ka(){J0?W0(function(){(Nt&6)!==0?yl(bc,Ae):ce()}):yl(bc,Ae)}function On(){return hn===0&&(hn=y()),hn}function Kl(t,e){if(kn===null){var a=kn=[];cr=0,dn=On(),fn={status:"pending",value:void 0,then:function(n){a.push(n)}}}return cr++,e.then(Yr,Yr),e}function Yr(){if(--cr===0&&kn!==null){fn!==null&&(fn.status="fulfilled");var t=kn;kn=null,dn=0,fn=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function l0(t,e){var a=[],n={status:"pending",value:null,reason:null,then:function(i){a.push(i)}};return t.then(function(){n.status="fulfilled",n.value=e;for(var i=0;i<a.length;i++)(0,a[i])(e)},function(i){for(n.status="rejected",n.reason=i,i=0;i<a.length;i++)(0,a[i])(void 0)}),n}function Xl(){var t=Ya.current;return t!==null?t:Lt.pooledCache}function Ki(t,e){e===null?o(Ya,Ya.current):o(Ya,e.pool)}function Kr(){var t=Xl();return t===null?null:{parent:na?Pt._currentValue:Pt._currentValue2,pool:t}}function Xi(t,e){if(ze(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var a=Object.keys(t),n=Object.keys(e);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var i=a[n];if(!l1.call(e,i)||!ze(t[i],e[i]))return!1}return!0}function Xr(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Qi(){}function Qr(t,e,a){switch(a=t[a],a===void 0?t.push(e):a!==e&&(e.then(Qi,Qi),e=a),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,kr(t),t;default:if(typeof e.status=="string")e.then(Qi,Qi);else{if(t=Lt,t!==null&&100<t.shellSuspendCounter)throw Error(b(482));t=e,t.status="pending",t.then(function(n){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=n}},function(n){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=n}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,kr(t),t}throw gn=e,Jn}}function Zr(){if(gn===null)throw Error(b(459));var t=gn;return gn=null,t}function kr(t){if(t===Jn||t===xl)throw Error(b(483))}function Zi(){for(var t=mn,e=dr=mn=0;e<t;){var a=je[e];je[e++]=null;var n=je[e];je[e++]=null;var i=je[e];je[e++]=null;var l=je[e];if(je[e++]=null,n!==null&&i!==null){var M=n.pending;M===null?i.next=i:(i.next=M.next,M.next=i),n.pending=i}l!==0&&Jr(a,i,l)}}function ki(t,e,a,n){je[mn++]=t,je[mn++]=e,je[mn++]=a,je[mn++]=n,dr|=n,t.lanes|=n,t=t.alternate,t!==null&&(t.lanes|=n)}function Ql(t,e,a,n){return ki(t,e,a,n),Ji(t)}function Ja(t,e){return ki(t,null,null,e),Ji(t)}function Jr(t,e,a){t.lanes|=a;var n=t.alternate;n!==null&&(n.lanes|=a);for(var i=!1,l=t.return;l!==null;)l.childLanes|=a,n=l.alternate,n!==null&&(n.childLanes|=a),l.tag===22&&(t=l.stateNode,t===null||t._visibility&1||(i=!0)),t=l,l=l.return;return t.tag===3?(l=t.stateNode,i&&e!==null&&(i=31-Ge(a),t=l.hiddenUpdates,n=t[i],n===null?t[i]=[e]:n.push(e),e.lane=a|536870912),l):null}function Ji(t){if(50<ai)throw ai=0,Er=null,Error(b(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}function Zl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kl(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ga(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ma(t,e,a){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,(Nt&2)!==0){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,e=Ji(t),Jr(t,null,a),e}return ki(t,n,e,a),Ji(t)}function Dn(t,e,a){if(e=e.updateQueue,e!==null&&(e=e.shared,(a&4194048)!==0)){var n=e.lanes;n&=t.pendingLanes,a|=n,e.lanes=a,R(t,a)}}function Jl(t,e){var a=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var i=null,l=null;if(a=a.firstBaseUpdate,a!==null){do{var M={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};l===null?i=l=M:l=l.next=M,a=a.next}while(a!==null);l===null?i=l=e:l=l.next=e}else i=l=e;a={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:l,shared:n.shared,callbacks:n.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=e:t.next=e,a.lastBaseUpdate=e}function Gn(){if(fr){var t=fn;if(t!==null)throw t}}function Un(t,e,a,n){fr=!1;var i=t.updateQueue;Na=!1;var l=i.firstBaseUpdate,M=i.lastBaseUpdate,j=i.shared.pending;if(j!==null){i.shared.pending=null;var W=j,et=W.next;W.next=null,M===null?l=et:M.next=et,M=W;var st=t.alternate;st!==null&&(st=st.updateQueue,j=st.lastBaseUpdate,j!==M&&(j===null?st.firstBaseUpdate=et:j.next=et,st.lastBaseUpdate=W))}if(l!==null){var ut=i.baseState;M=0,st=et=W=null,j=l;do{var ct=j.lane&-536870913,_t=ct!==j.lane;if(_t?(At&ct)===ct:(n&ct)===ct){ct!==0&&ct===dn&&(fr=!0),st!==null&&(st=st.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});t:{var Fe=t,ni=j;ct=e;var Qa=a;switch(ni.tag){case 1:if(Fe=ni.payload,typeof Fe=="function"){ut=Fe.call(Qa,ut,ct);break t}ut=Fe;break t;case 3:Fe.flags=Fe.flags&-65537|128;case 0:if(Fe=ni.payload,ct=typeof Fe=="function"?Fe.call(Qa,ut,ct):Fe,ct==null)break t;ut=Ks({},ut,ct);break t;case 2:Na=!0}}ct=j.callback,ct!==null&&(t.flags|=64,_t&&(t.flags|=8192),_t=i.callbacks,_t===null?i.callbacks=[ct]:_t.push(ct))}else _t={lane:ct,tag:j.tag,payload:j.payload,callback:j.callback,next:null},st===null?(et=st=_t,W=ut):st=st.next=_t,M|=ct;if(j=j.next,j===null){if(j=i.shared.pending,j===null)break;_t=j,j=_t.next,_t.next=null,i.lastBaseUpdate=_t,i.shared.pending=null}}while(!0);st===null&&(W=ut),i.baseState=W,i.firstBaseUpdate=et,i.lastBaseUpdate=st,l===null&&(i.shared.lanes=0),Ra|=M,t.lanes=M,t.memoizedState=ut}}function Wr(t,e){if(typeof t!="function")throw Error(b(191,t));t.call(e)}function Ir(t,e){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Wr(a[t],e)}function $r(t,e){t=ua,o(Al,t),o(pn,e),ua=t|e.baseLanes}function Wl(){o(Al,ua),o(pn,pn.current)}function Il(){ua=Al.current,u(pn),u(Al)}function Kt(){throw Error(b(321))}function $l(t,e){if(e===null)return!1;for(var a=0;a<e.length&&a<t.length;a++)if(!ze(t[a],e[a]))return!1;return!0}function ts(t,e,a,n,i,l){return Aa=l,St=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,gt.H=t===null||t.memoizedState===null?xc:Nc,Ka=!1,l=a(n,i),Ka=!1,vn&&(l=eo(e,a,n,i)),to(t),l}function to(t){gt.H=Ol;var e=Bt!==null&&Bt.next!==null;if(Aa=0,Jt=Bt=St=null,Ml=!1,Wn=0,yn=null,e)throw Error(b(300));t===null||le||(t=t.dependencies,t!==null&&ue(t)&&(le=!0))}function eo(t,e,a,n){St=t;var i=0;do{if(vn&&(yn=null),Wn=0,vn=!1,25<=i)throw Error(b(301));if(i+=1,Jt=Bt=null,t.updateQueue!=null){var l=t.updateQueue;l.lastEffect=null,l.events=null,l.stores=null,l.memoCache!=null&&(l.memoCache.index=0)}gt.H=r1,l=e(a,n)}while(vn);return l}function s0(){var t=gt.H,e=t.useState()[0];return e=typeof e.then=="function"?zn(e):e,t=t.useState()[0],(Bt!==null?Bt.memoizedState:null)!==t&&(St.flags|=1024),e}function es(){var t=Rl!==0;return Rl=0,t}function as(t,e,a){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a}function ns(t){if(Ml){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Ml=!1}Aa=0,Jt=Bt=St=null,vn=!1,Wn=Rl=0,yn=null}function _e(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?St.memoizedState=Jt=t:Jt=Jt.next=t,Jt}function kt(){if(Bt===null){var t=St.alternate;t=t!==null?t.memoizedState:null}else t=Bt.next;var e=Jt===null?St.memoizedState:Jt.next;if(e!==null)Jt=e,Bt=t;else{if(t===null)throw St.alternate===null?Error(b(467)):Error(b(310));Bt=t,t={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},Jt===null?St.memoizedState=Jt=t:Jt=Jt.next=t}return Jt}function is(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zn(t){var e=Wn;return Wn+=1,yn===null&&(yn=[]),t=Qr(yn,t,e),e=St,(Jt===null?e.memoizedState:Jt.next)===null&&(e=e.alternate,gt.H=e===null||e.memoizedState===null?xc:Nc),t}function Wi(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return zn(t);if(t.$$typeof===Ca)return yt(t)}throw Error(b(438,String(t)))}function ls(t){var e=null,a=St.updateQueue;if(a!==null&&(e=a.memoCache),e==null){var n=St.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(e={data:n.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),a===null&&(a=is(),St.updateQueue=a),a.memoCache=e,a=e.data[e.index],a===void 0)for(a=e.data[e.index]=Array(t),n=0;n<t;n++)a[n]=O0;return e.index++,a}function $e(t,e){return typeof e=="function"?e(t):e}function Ii(t){var e=kt();return ss(e,Bt,t)}function ss(t,e,a){var n=t.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=a;var i=t.baseQueue,l=n.pending;if(l!==null){if(i!==null){var M=i.next;i.next=l.next,l.next=M}e.baseQueue=i=l,n.pending=null}if(l=t.baseState,i===null)t.memoizedState=l;else{e=i.next;var j=M=null,W=null,et=e,st=!1;do{var ut=et.lane&-536870913;if(ut!==et.lane?(At&ut)===ut:(Aa&ut)===ut){var ct=et.revertLane;if(ct===0)W!==null&&(W=W.next={lane:0,revertLane:0,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null}),ut===dn&&(st=!0);else if((Aa&ct)===ct){et=et.next,ct===dn&&(st=!0);continue}else ut={lane:0,revertLane:et.revertLane,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null},W===null?(j=W=ut,M=l):W=W.next=ut,St.lanes|=ct,Ra|=ct;ut=et.action,Ka&&a(l,ut),l=et.hasEagerState?et.eagerState:a(l,ut)}else ct={lane:ut,revertLane:et.revertLane,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null},W===null?(j=W=ct,M=l):W=W.next=ct,St.lanes|=ut,Ra|=ut;et=et.next}while(et!==null&&et!==e);if(W===null?M=l:W.next=j,!ze(l,t.memoizedState)&&(le=!0,st&&(a=fn,a!==null)))throw a;t.memoizedState=l,t.baseState=M,t.baseQueue=W,n.lastRenderedState=l}return i===null&&(n.lanes=0),[t.memoizedState,n.dispatch]}function rs(t){var e=kt(),a=e.queue;if(a===null)throw Error(b(311));a.lastRenderedReducer=t;var n=a.dispatch,i=a.pending,l=e.memoizedState;if(i!==null){a.pending=null;var M=i=i.next;do l=t(l,M.action),M=M.next;while(M!==i);ze(l,e.memoizedState)||(le=!0),e.memoizedState=l,e.baseQueue===null&&(e.baseState=l),a.lastRenderedState=l}return[l,n]}function ao(t,e,a){var n=St,i=kt(),l=Gt;if(l){if(a===void 0)throw Error(b(407));a=a()}else a=e();var M=!ze((Bt||i).memoizedState,a);M&&(i.memoizedState=a,le=!0),i=i.queue;var j=lo.bind(null,n,i,t);if(Bn(2048,8,j,[t]),i.getSnapshot!==e||M||Jt!==null&&Jt.memoizedState.tag&1){if(n.flags|=2048,Wa(9,$i(),io.bind(null,n,i,a,e),null),Lt===null)throw Error(b(349));l||(Aa&124)!==0||no(n,e,a)}return a}function no(t,e,a){t.flags|=16384,t={getSnapshot:e,value:a},e=St.updateQueue,e===null?(e=is(),St.updateQueue=e,e.stores=[t]):(a=e.stores,a===null?e.stores=[t]:a.push(t))}function io(t,e,a,n){e.value=a,e.getSnapshot=n,so(e)&&ro(t)}function lo(t,e,a){return a(function(){so(e)&&ro(t)})}function so(t){var e=t.getSnapshot;t=t.value;try{var a=e();return!ze(t,a)}catch{return!0}}function ro(t){var e=Ja(t,2);e!==null&&Oe(e,t,2)}function os(t){var e=_e();if(typeof t=="function"){var a=t;if(t=a(),Ka){K(!0);try{a()}finally{K(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$e,lastRenderedState:t},e}function oo(t,e,a,n){return t.baseState=a,ss(t,Bt,typeof n=="function"?n:$e)}function r0(t,e,a,n,i){if(el(t))throw Error(b(485));if(t=e.action,t!==null){var l={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(M){l.listeners.push(M)}};gt.T!==null?a(!0):l.isTransition=!1,n(l),a=e.pending,a===null?(l.next=e.pending=l,uo(e,l)):(l.next=a.next,e.pending=a.next=l)}}function uo(t,e){var a=e.action,n=e.payload,i=t.state;if(e.isTransition){var l=gt.T,M={};gt.T=M;try{var j=a(i,n),W=gt.S;W!==null&&W(M,j),co(t,e,j)}catch(et){us(t,e,et)}finally{gt.T=l}}else try{l=a(i,n),co(t,e,l)}catch(et){us(t,e,et)}}function co(t,e,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(n){ho(t,e,n)},function(n){return us(t,e,n)}):ho(t,e,a)}function ho(t,e,a){e.status="fulfilled",e.value=a,fo(e),t.state=a,e=t.pending,e!==null&&(a=e.next,a===e?t.pending=null:(a=a.next,e.next=a,uo(t,a)))}function us(t,e,a){var n=t.pending;if(t.pending=null,n!==null){n=n.next;do e.status="rejected",e.reason=a,fo(e),e=e.next;while(e!==n)}t.action=null}function fo(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function go(t,e){return e}function mo(t,e){if(Gt){var a=Lt.formState;if(a!==null){t:{var n=St;if(Gt){if(te){var i=Cd(te,We);if(i){te=uc(i),n=Ed(i);break t}}H(n)}n=!1}n&&(e=a[0])}}a=_e(),a.memoizedState=a.baseState=e,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:go,lastRenderedState:e},a.queue=n,a=Uo.bind(null,St,n),n.dispatch=a,n=os(!1);var l=fs.bind(null,St,!1,n.queue);return n=_e(),i={state:e,dispatch:null,action:t,pending:null},n.queue=i,a=r0.bind(null,St,i,l,a),i.dispatch=a,n.memoizedState=t,[e,a,!1]}function po(t){var e=kt();return vo(e,Bt,t)}function vo(t,e,a){if(e=ss(t,e,go)[0],t=Ii($e)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var n=zn(e)}catch(M){throw M===Jn?xl:M}else n=e;e=kt();var i=e.queue,l=i.dispatch;return a!==e.memoizedState&&(St.flags|=2048,Wa(9,$i(),o0.bind(null,i,a),null)),[n,l,t]}function o0(t,e){t.action=e}function yo(t){var e=kt(),a=Bt;if(a!==null)return vo(e,a,t);kt(),e=e.memoizedState,a=kt();var n=a.queue.dispatch;return a.memoizedState=t,[e,n,!1]}function Wa(t,e,a,n){return t={tag:t,create:a,deps:n,inst:e,next:null},e=St.updateQueue,e===null&&(e=is(),St.updateQueue=e),a=e.lastEffect,a===null?e.lastEffect=t.next=t:(n=a.next,a.next=t,t.next=n,e.lastEffect=t),t}function $i(){return{destroy:void 0,resource:void 0}}function _o(){return kt().memoizedState}function tl(t,e,a,n){var i=_e();n=n===void 0?null:n,St.flags|=t,i.memoizedState=Wa(1|e,$i(),a,n)}function Bn(t,e,a,n){var i=kt();n=n===void 0?null:n;var l=i.memoizedState.inst;Bt!==null&&n!==null&&$l(n,Bt.memoizedState.deps)?i.memoizedState=Wa(e,l,a,n):(St.flags|=t,i.memoizedState=Wa(1|e,l,a,n))}function So(t,e){tl(8390656,8,t,e)}function bo(t,e){Bn(2048,8,t,e)}function Co(t,e){return Bn(4,2,t,e)}function Eo(t,e){return Bn(4,4,t,e)}function To(t,e){if(typeof e=="function"){t=t();var a=e(t);return function(){typeof a=="function"?a():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function xo(t,e,a){a=a!=null?a.concat([t]):null,Bn(4,4,To.bind(null,e,t),a)}function cs(){}function No(t,e){var a=kt();e=e===void 0?null:e;var n=a.memoizedState;return e!==null&&$l(e,n[1])?n[0]:(a.memoizedState=[t,e],t)}function Ao(t,e){var a=kt();e=e===void 0?null:e;var n=a.memoizedState;if(e!==null&&$l(e,n[1]))return n[0];if(n=t(),Ka){K(!0);try{t()}finally{K(!1)}}return a.memoizedState=[n,e],n}function hs(t,e,a){return a===void 0||(Aa&1073741824)!==0?t.memoizedState=e:(t.memoizedState=a,t=Tu(),St.lanes|=t,Ra|=t,a)}function Mo(t,e,a,n){return ze(a,e)?a:pn.current!==null?(t=hs(t,a,n),ze(t,e)||(le=!0),t):(Aa&42)===0?(le=!0,t.memoizedState=a):(t=Tu(),St.lanes|=t,Ra|=t,e)}function Ro(t,e,a,n,i){var l=ia();ie(l!==0&&8>l?l:8);var M=gt.T,j={};gt.T=j,fs(t,!1,e,a);try{var W=i(),et=gt.S;if(et!==null&&et(j,W),W!==null&&typeof W=="object"&&typeof W.then=="function"){var st=l0(W,n);Hn(t,e,st,Re(t))}else Hn(t,e,n,Re(t))}catch(ut){Hn(t,e,{then:function(){},status:"rejected",reason:ut},Re())}finally{ie(l),gt.T=M}}function Oo(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:nn,baseState:nn,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$e,lastRenderedState:nn},next:null};var a={};return e.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$e,lastRenderedState:a},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function ds(){return yt(ja)}function Do(){return kt().memoizedState}function Go(){return kt().memoizedState}function u0(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var a=Re();t=ga(a);var n=ma(e,t,a);n!==null&&(Oe(n,e,a),Dn(n,e,a)),e={cache:Ye()},t.payload=e;return}e=e.return}}function c0(t,e,a){var n=Re();a={lane:n,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},el(t)?zo(e,a):(a=Ql(t,e,a,n),a!==null&&(Oe(a,t,n),Bo(a,e,n)))}function Uo(t,e,a){var n=Re();Hn(t,e,a,n)}function Hn(t,e,a,n){var i={lane:n,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(el(t))zo(e,i);else{var l=t.alternate;if(t.lanes===0&&(l===null||l.lanes===0)&&(l=e.lastRenderedReducer,l!==null))try{var M=e.lastRenderedState,j=l(M,a);if(i.hasEagerState=!0,i.eagerState=j,ze(j,M))return ki(t,e,i,0),Lt===null&&Zi(),!1}catch{}finally{}if(a=Ql(t,e,i,n),a!==null)return Oe(a,t,n),Bo(a,e,n),!0}return!1}function fs(t,e,a,n){if(n={lane:2,revertLane:On(),action:n,hasEagerState:!1,eagerState:null,next:null},el(t)){if(e)throw Error(b(479))}else e=Ql(t,a,n,2),e!==null&&Oe(e,t,2)}function el(t){var e=t.alternate;return t===St||e!==null&&e===St}function zo(t,e){vn=Ml=!0;var a=t.pending;a===null?e.next=e:(e.next=a.next,a.next=e),t.pending=e}function Bo(t,e,a){if((a&4194048)!==0){var n=e.lanes;n&=t.pendingLanes,a|=n,e.lanes=a,R(t,a)}}function al(t){var e=In;return In+=1,_n===null&&(_n=[]),Qr(_n,t,e)}function Ln(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function nl(t,e){throw e.$$typeof===M0?Error(b(525)):(t=Object.prototype.toString.call(e),Error(b(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Ho(t){var e=t._init;return e(t._payload)}function Lo(t){function e(J,X){if(t){var $=J.deletions;$===null?(J.deletions=[X],J.flags|=16):$.push(X)}}function a(J,X){if(!t)return null;for(;X!==null;)e(J,X),X=X.sibling;return null}function n(J){for(var X=new Map;J!==null;)J.key!==null?X.set(J.key,J):X.set(J.index,J),J=J.sibling;return X}function i(J,X){return J=aa(J,X),J.index=0,J.sibling=null,J}function l(J,X,$){return J.index=$,t?($=J.alternate,$!==null?($=$.index,$<X?(J.flags|=67108866,X):$):(J.flags|=67108866,X)):(J.flags|=1048576,X)}function M(J){return t&&J.alternate===null&&(J.flags|=67108866),J}function j(J,X,$,nt){return X===null||X.tag!==6?(X=Ps($,J.mode,nt),X.return=J,X):(X=i(X,$),X.return=J,X)}function W(J,X,$,nt){var dt=$.type;return dt===an?st(J,X,$.props.children,nt,$.key):X!==null&&(X.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===Ea&&Ho(dt)===X.type)?(X=i(X,$.props),Ln(X,$),X.return=J,X):(X=dl($.type,$.key,$.props,null,J.mode,nt),Ln(X,$),X.return=J,X)}function et(J,X,$,nt){return X===null||X.tag!==4||X.stateNode.containerInfo!==$.containerInfo||X.stateNode.implementation!==$.implementation?(X=Fs($,J.mode,nt),X.return=J,X):(X=i(X,$.children||[]),X.return=J,X)}function st(J,X,$,nt,dt){return X===null||X.tag!==7?(X=Va($,J.mode,nt,dt),X.return=J,X):(X=i(X,$),X.return=J,X)}function ut(J,X,$){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=Ps(""+X,J.mode,$),X.return=J,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case fl:return $=dl(X.type,X.key,X.props,null,J.mode,$),Ln($,X),$.return=J,$;case en:return X=Fs(X,J.mode,$),X.return=J,X;case Ea:var nt=X._init;return X=nt(X._payload),ut(J,X,$)}if(gl(X)||m(X))return X=Va(X,J.mode,$,null),X.return=J,X;if(typeof X.then=="function")return ut(J,al(X),$);if(X.$$typeof===Ca)return ut(J,me(J,X),$);nl(J,X)}return null}function ct(J,X,$,nt){var dt=X!==null?X.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return dt!==null?null:j(J,X,""+$,nt);if(typeof $=="object"&&$!==null){switch($.$$typeof){case fl:return $.key===dt?W(J,X,$,nt):null;case en:return $.key===dt?et(J,X,$,nt):null;case Ea:return dt=$._init,$=dt($._payload),ct(J,X,$,nt)}if(gl($)||m($))return dt!==null?null:st(J,X,$,nt,null);if(typeof $.then=="function")return ct(J,X,al($),nt);if($.$$typeof===Ca)return ct(J,X,me(J,$),nt);nl(J,$)}return null}function _t(J,X,$,nt,dt){if(typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint")return J=J.get($)||null,j(X,J,""+nt,dt);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case fl:return J=J.get(nt.key===null?$:nt.key)||null,W(X,J,nt,dt);case en:return J=J.get(nt.key===null?$:nt.key)||null,et(X,J,nt,dt);case Ea:var qt=nt._init;return nt=qt(nt._payload),_t(J,X,$,nt,dt)}if(gl(nt)||m(nt))return J=J.get($)||null,st(X,J,nt,dt,null);if(typeof nt.then=="function")return _t(J,X,$,al(nt),dt);if(nt.$$typeof===Ca)return _t(J,X,$,me(X,nt),dt);nl(X,nt)}return null}function Fe(J,X,$,nt){for(var dt=null,qt=null,mt=X,Mt=X=0,re=null;mt!==null&&Mt<$.length;Mt++){mt.index>Mt?(re=mt,mt=null):re=mt.sibling;var Rt=ct(J,mt,$[Mt],nt);if(Rt===null){mt===null&&(mt=re);break}t&&mt&&Rt.alternate===null&&e(J,mt),X=l(Rt,X,Mt),qt===null?dt=Rt:qt.sibling=Rt,qt=Rt,mt=re}if(Mt===$.length)return a(J,mt),Gt&&V(J,Mt),dt;if(mt===null){for(;Mt<$.length;Mt++)mt=ut(J,$[Mt],nt),mt!==null&&(X=l(mt,X,Mt),qt===null?dt=mt:qt.sibling=mt,qt=mt);return Gt&&V(J,Mt),dt}for(mt=n(mt);Mt<$.length;Mt++)re=_t(mt,J,Mt,$[Mt],nt),re!==null&&(t&&re.alternate!==null&&mt.delete(re.key===null?Mt:re.key),X=l(re,X,Mt),qt===null?dt=re:qt.sibling=re,qt=re);return t&&mt.forEach(function(Ga){return e(J,Ga)}),Gt&&V(J,Mt),dt}function ni(J,X,$,nt){if($==null)throw Error(b(151));for(var dt=null,qt=null,mt=X,Mt=X=0,re=null,Rt=$.next();mt!==null&&!Rt.done;Mt++,Rt=$.next()){mt.index>Mt?(re=mt,mt=null):re=mt.sibling;var Ga=ct(J,mt,Rt.value,nt);if(Ga===null){mt===null&&(mt=re);break}t&&mt&&Ga.alternate===null&&e(J,mt),X=l(Ga,X,Mt),qt===null?dt=Ga:qt.sibling=Ga,qt=Ga,mt=re}if(Rt.done)return a(J,mt),Gt&&V(J,Mt),dt;if(mt===null){for(;!Rt.done;Mt++,Rt=$.next())Rt=ut(J,Rt.value,nt),Rt!==null&&(X=l(Rt,X,Mt),qt===null?dt=Rt:qt.sibling=Rt,qt=Rt);return Gt&&V(J,Mt),dt}for(mt=n(mt);!Rt.done;Mt++,Rt=$.next())Rt=_t(mt,J,Mt,Rt.value,nt),Rt!==null&&(t&&Rt.alternate!==null&&mt.delete(Rt.key===null?Mt:Rt.key),X=l(Rt,X,Mt),qt===null?dt=Rt:qt.sibling=Rt,qt=Rt);return t&&mt.forEach(function(c1){return e(J,c1)}),Gt&&V(J,Mt),dt}function Qa(J,X,$,nt){if(typeof $=="object"&&$!==null&&$.type===an&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case fl:t:{for(var dt=$.key;X!==null;){if(X.key===dt){if(dt=$.type,dt===an){if(X.tag===7){a(J,X.sibling),nt=i(X,$.props.children),nt.return=J,J=nt;break t}}else if(X.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===Ea&&Ho(dt)===X.type){a(J,X.sibling),nt=i(X,$.props),Ln(nt,$),nt.return=J,J=nt;break t}a(J,X);break}else e(J,X);X=X.sibling}$.type===an?(nt=Va($.props.children,J.mode,nt,$.key),nt.return=J,J=nt):(nt=dl($.type,$.key,$.props,null,J.mode,nt),Ln(nt,$),nt.return=J,J=nt)}return M(J);case en:t:{for(dt=$.key;X!==null;){if(X.key===dt)if(X.tag===4&&X.stateNode.containerInfo===$.containerInfo&&X.stateNode.implementation===$.implementation){a(J,X.sibling),nt=i(X,$.children||[]),nt.return=J,J=nt;break t}else{a(J,X);break}else e(J,X);X=X.sibling}nt=Fs($,J.mode,nt),nt.return=J,J=nt}return M(J);case Ea:return dt=$._init,$=dt($._payload),Qa(J,X,$,nt)}if(gl($))return Fe(J,X,$,nt);if(m($)){if(dt=m($),typeof dt!="function")throw Error(b(150));return $=dt.call($),ni(J,X,$,nt)}if(typeof $.then=="function")return Qa(J,X,al($),nt);if($.$$typeof===Ca)return Qa(J,X,me(J,$),nt);nl(J,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,X!==null&&X.tag===6?(a(J,X.sibling),nt=i(X,$),nt.return=J,J=nt):(a(J,X),nt=Ps($,J.mode,nt),nt.return=J,J=nt),M(J)):a(J,X)}return function(J,X,$,nt){try{In=0;var dt=Qa(J,X,$,nt);return _n=null,dt}catch(mt){if(mt===Jn||mt===xl)throw mt;var qt=z(29,mt,null,J.mode);return qt.lanes=nt,qt.return=J,qt}finally{}}}function pa(t){var e=t.alternate;o(ee,ee.current&1),o(we,t),Ie===null&&(e===null||pn.current!==null||e.memoizedState!==null)&&(Ie=t)}function Vo(t){if(t.tag===22){if(o(ee,ee.current),o(we,t),Ie===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(Ie=t)}}else va()}function va(){o(ee,ee.current),o(we,we.current)}function ta(t){u(we),Ie===t&&(Ie=null),u(ee)}function il(t){for(var e=t;e!==null;){if(e.tag===13){var a=e.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||$s(a)||tr(a)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function gs(t,e,a,n){e=t.memoizedState,a=a(n,e),a=a==null?e:Ks({},e,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}function qo(t,e,a,n,i,l,M){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,l,M):e.prototype&&e.prototype.isPureReactComponent?!Xi(a,n)||!Xi(i,l):!0}function jo(t,e,a,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(a,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(a,n),e.state!==t&&gr.enqueueReplaceState(e,e.state,null)}function Ba(t,e){var a=e;if("ref"in e){a={};for(var n in e)n!=="ref"&&(a[n]=e[n])}if(t=t.defaultProps){a===e&&(a=Ks({},a));for(var i in t)a[i]===void 0&&(a[i]=t[i])}return a}function ll(t,e){try{var a=t.onUncaughtError;a(e.value,{componentStack:e.stack})}catch(n){setTimeout(function(){throw n})}}function wo(t,e,a){try{var n=t.onCaughtError;n(a.value,{componentStack:a.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function ms(t,e,a){return a=ga(a),a.tag=3,a.payload={element:null},a.callback=function(){ll(t,e)},a}function Po(t){return t=ga(t),t.tag=3,t}function Fo(t,e,a,n){var i=a.type.getDerivedStateFromError;if(typeof i=="function"){var l=n.value;t.payload=function(){return i(l)},t.callback=function(){wo(e,a,n)}}var M=a.stateNode;M!==null&&typeof M.componentDidCatch=="function"&&(t.callback=function(){wo(e,a,n),typeof i!="function"&&(Oa===null?Oa=new Set([this]):Oa.add(this));var j=n.stack;this.componentDidCatch(n.value,{componentStack:j!==null?j:""})})}function h0(t,e,a,n,i){if(a.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(e=a.alternate,e!==null&&He(e,a,i,!0),a=we.current,a!==null){switch(a.tag){case 13:return Ie===null?Vs():a.alternate===null&&Ft===0&&(Ft=3),a.flags&=-257,a.flags|=65536,a.lanes=i,n===Nl?a.flags|=16384:(e=a.updateQueue,e===null?a.updateQueue=new Set([n]):e.add(n),js(t,n,i)),!1;case 22:return a.flags|=65536,n===Nl?a.flags|=16384:(e=a.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=e):(a=e.retryQueue,a===null?e.retryQueue=new Set([n]):a.add(n)),js(t,n,i)),!1}throw Error(b(435,a.tag))}return js(t,n,i),Vs(),!1}if(Gt)return e=we.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=i,n!==rr&&(t=Error(b(422),{cause:n}),vt(O(t,a)))):(n!==rr&&(e=Error(b(423),{cause:n}),vt(O(e,a))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,n=O(n,a),i=ms(t.stateNode,n,i),Jl(t,i),Ft!==4&&(Ft=2)),!1;var l=Error(b(520),{cause:n});if(l=O(l,a),ti===null?ti=[l]:ti.push(l),Ft!==4&&(Ft=2),e===null)return!0;n=O(n,a),a=e;do{switch(a.tag){case 3:return a.flags|=65536,t=i&-i,a.lanes|=t,t=ms(a.stateNode,n,t),Jl(a,t),!1;case 1:if(e=a.type,l=a.stateNode,(a.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||l!==null&&typeof l.componentDidCatch=="function"&&(Oa===null||!Oa.has(l))))return a.flags|=65536,i&=-i,a.lanes|=i,i=Po(i),Fo(i,t,a,n),Jl(a,i),!1}a=a.return}while(a!==null);return!1}function de(t,e,a,n){e.child=t===null?Ac(e,null,a,n):Sn(e,t.child,a,n)}function Yo(t,e,a,n,i){a=a.render;var l=e.ref;if("ref"in n){var M={};for(var j in n)j!=="ref"&&(M[j]=n[j])}else M=n;return xe(e),n=ts(t,e,a,M,l,i),j=es(),t!==null&&!le?(as(t,e,i),ea(t,e,i)):(Gt&&j&&B(e),e.flags|=1,de(t,e,n,i),e.child)}function Ko(t,e,a,n,i){if(t===null){var l=a.type;return typeof l=="function"&&!ws(l)&&l.defaultProps===void 0&&a.compare===null?(e.tag=15,e.type=l,Xo(t,e,l,n,i)):(t=dl(a.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(l=t.child,!Cs(t,i)){var M=l.memoizedProps;if(a=a.compare,a=a!==null?a:Xi,a(M,n)&&t.ref===e.ref)return ea(t,e,i)}return e.flags|=1,t=aa(l,n),t.ref=e.ref,t.return=e,e.child=t}function Xo(t,e,a,n,i){if(t!==null){var l=t.memoizedProps;if(Xi(l,n)&&t.ref===e.ref)if(le=!1,e.pendingProps=n=l,Cs(t,i))(t.flags&131072)!==0&&(le=!0);else return e.lanes=t.lanes,ea(t,e,i)}return ps(t,e,a,n,i)}function Qo(t,e,a){var n=e.pendingProps,i=n.children,l=t!==null?t.memoizedState:null;if(n.mode==="hidden"){if((e.flags&128)!==0){if(n=l!==null?l.baseLanes|a:a,t!==null){for(i=e.child=t.child,l=0;i!==null;)l=l|i.lanes|i.childLanes,i=i.sibling;e.childLanes=l&~n}else e.childLanes=0,e.child=null;return Zo(t,e,n,a)}if((a&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ki(e,l!==null?l.cachePool:null),l!==null?$r(e,l):Wl(),Vo(e);else return e.lanes=e.childLanes=536870912,Zo(t,e,l!==null?l.baseLanes|a:a,a)}else l!==null?(Ki(e,l.cachePool),$r(e,l),va(),e.memoizedState=null):(t!==null&&Ki(e,null),Wl(),va());return de(t,e,i,a),e.child}function Zo(t,e,a,n){var i=Xl();return i=i===null?null:{parent:na?Pt._currentValue:Pt._currentValue2,pool:i},e.memoizedState={baseLanes:a,cachePool:i},t!==null&&Ki(e,null),Wl(),Vo(e),t!==null&&He(t,e,n,!0),null}function sl(t,e){var a=e.ref;if(a===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(b(284));(t===null||t.ref!==a)&&(e.flags|=4194816)}}function ps(t,e,a,n,i){return xe(e),a=ts(t,e,a,n,void 0,i),n=es(),t!==null&&!le?(as(t,e,i),ea(t,e,i)):(Gt&&n&&B(e),e.flags|=1,de(t,e,a,i),e.child)}function ko(t,e,a,n,i,l){return xe(e),e.updateQueue=null,a=eo(e,n,a,i),to(t),n=es(),t!==null&&!le?(as(t,e,l),ea(t,e,l)):(Gt&&n&&B(e),e.flags|=1,de(t,e,a,l),e.child)}function Jo(t,e,a,n,i){if(xe(e),e.stateNode===null){var l=rn,M=a.contextType;typeof M=="object"&&M!==null&&(l=yt(M)),l=new a(n,l),e.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=gr,e.stateNode=l,l._reactInternals=e,l=e.stateNode,l.props=n,l.state=e.memoizedState,l.refs={},Zl(e),M=a.contextType,l.context=typeof M=="object"&&M!==null?yt(M):rn,l.state=e.memoizedState,M=a.getDerivedStateFromProps,typeof M=="function"&&(gs(e,a,M,n),l.state=e.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(M=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),M!==l.state&&gr.enqueueReplaceState(l,l.state,null),Un(e,n,l,i),Gn(),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308),n=!0}else if(t===null){l=e.stateNode;var j=e.memoizedProps,W=Ba(a,j);l.props=W;var et=l.context,st=a.contextType;M=rn,typeof st=="object"&&st!==null&&(M=yt(st));var ut=a.getDerivedStateFromProps;st=typeof ut=="function"||typeof l.getSnapshotBeforeUpdate=="function",j=e.pendingProps!==j,st||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(j||et!==M)&&jo(e,l,n,M),Na=!1;var ct=e.memoizedState;l.state=ct,Un(e,n,l,i),Gn(),et=e.memoizedState,j||ct!==et||Na?(typeof ut=="function"&&(gs(e,a,ut,n),et=e.memoizedState),(W=Na||qo(e,a,W,n,ct,et,M))?(st||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=et),l.props=n,l.state=et,l.context=M,n=W):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{l=e.stateNode,kl(t,e),M=e.memoizedProps,st=Ba(a,M),l.props=st,ut=e.pendingProps,ct=l.context,et=a.contextType,W=rn,typeof et=="object"&&et!==null&&(W=yt(et)),j=a.getDerivedStateFromProps,(et=typeof j=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(M!==ut||ct!==W)&&jo(e,l,n,W),Na=!1,ct=e.memoizedState,l.state=ct,Un(e,n,l,i),Gn();var _t=e.memoizedState;M!==ut||ct!==_t||Na||t!==null&&t.dependencies!==null&&ue(t.dependencies)?(typeof j=="function"&&(gs(e,a,j,n),_t=e.memoizedState),(st=Na||qo(e,a,st,n,ct,_t,W)||t!==null&&t.dependencies!==null&&ue(t.dependencies))?(et||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,_t,W),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,_t,W)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||M===t.memoizedProps&&ct===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||M===t.memoizedProps&&ct===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=_t),l.props=n,l.state=_t,l.context=W,n=st):(typeof l.componentDidUpdate!="function"||M===t.memoizedProps&&ct===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||M===t.memoizedProps&&ct===t.memoizedState||(e.flags|=1024),n=!1)}return l=n,sl(t,e),n=(e.flags&128)!==0,l||n?(l=e.stateNode,a=n&&typeof a.getDerivedStateFromError!="function"?null:l.render(),e.flags|=1,t!==null&&n?(e.child=Sn(e,t.child,null,i),e.child=Sn(e,null,a,i)):de(t,e,a,i),e.memoizedState=l.state,t=e.child):t=ea(t,e,i),t}function Wo(t,e,a,n){return ht(),e.flags|=256,de(t,e,a,n),e.child}function vs(t){return{baseLanes:t,cachePool:Kr()}}function ys(t,e,a){return t=t!==null?t.childLanes&~a:0,e&&(t|=Pe),t}function Io(t,e,a){var n=e.pendingProps,i=!1,l=(e.flags&128)!==0,M;if((M=l)||(M=t!==null&&t.memoizedState===null?!1:(ee.current&2)!==0),M&&(i=!0,e.flags&=-129),M=(e.flags&32)!==0,e.flags&=-33,t===null){if(Gt){if(i?pa(e):va(),Gt){var j=te,W;(W=j)&&(j=Dd(j,We),j!==null?(e.memoizedState={dehydrated:j,treeContext:wa!==null?{id:la,overflow:sa}:null,retryLane:536870912,hydrationErrors:null},W=z(18,null,null,0),W.stateNode=j,W.return=e,e.child=W,ye=e,te=null,W=!0):W=!1),W||H(e)}if(j=e.memoizedState,j!==null&&(j=j.dehydrated,j!==null))return tr(j)?e.lanes=32:e.lanes=536870912,null;ta(e)}return j=n.children,n=n.fallback,i?(va(),i=e.mode,j=rl({mode:"hidden",children:j},i),n=Va(n,i,a,null),j.return=e,n.return=e,j.sibling=n,e.child=j,i=e.child,i.memoizedState=vs(a),i.childLanes=ys(t,M,a),e.memoizedState=mr,n):(pa(e),_s(e,j))}if(W=t.memoizedState,W!==null&&(j=W.dehydrated,j!==null)){if(l)e.flags&256?(pa(e),e.flags&=-257,e=Ss(t,e,a)):e.memoizedState!==null?(va(),e.child=t.child,e.flags|=128,e=null):(va(),i=n.fallback,j=e.mode,n=rl({mode:"visible",children:n.children},j),i=Va(i,j,a,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,Sn(e,t.child,null,a),n=e.child,n.memoizedState=vs(a),n.childLanes=ys(t,M,a),e.memoizedState=mr,e=i);else if(pa(e),tr(j))M=Sd(j).digest,n=Error(b(419)),n.stack="",n.digest=M,vt({value:n,source:null,stack:null}),e=Ss(t,e,a);else if(le||He(t,e,a,!1),M=(a&t.childLanes)!==0,le||M){if(M=Lt,M!==null&&(n=a&-a,n=(n&42)!==0?1:q(n),n=(n&(M.suspendedLanes|a))!==0?0:n,n!==0&&n!==W.retryLane))throw W.retryLane=n,Ja(t,n),Oe(M,t,n),Rc;$s(j)||Vs(),e=Ss(t,e,a)}else $s(j)?(e.flags|=192,e.child=t.child,e=null):(t=W.treeContext,Le&&(te=Ad(j),ye=e,Gt=!0,Pa=null,We=!1,t!==null&&(Ve[qe++]=la,Ve[qe++]=sa,Ve[qe++]=wa,la=t.id,sa=t.overflow,wa=e)),e=_s(e,n.children),e.flags|=4096);return e}return i?(va(),i=n.fallback,j=e.mode,W=t.child,l=W.sibling,n=aa(W,{mode:"hidden",children:n.children}),n.subtreeFlags=W.subtreeFlags&65011712,l!==null?i=aa(l,i):(i=Va(i,j,a,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,j=t.child.memoizedState,j===null?j=vs(a):(W=j.cachePool,W!==null?(l=na?Pt._currentValue:Pt._currentValue2,W=W.parent!==l?{parent:l,pool:l}:W):W=Kr(),j={baseLanes:j.baseLanes|a,cachePool:W}),i.memoizedState=j,i.childLanes=ys(t,M,a),e.memoizedState=mr,n):(pa(e),a=t.child,t=a.sibling,a=aa(a,{mode:"visible",children:n.children}),a.return=e,a.sibling=null,t!==null&&(M=e.deletions,M===null?(e.deletions=[t],e.flags|=16):M.push(t)),e.child=a,e.memoizedState=null,a)}function _s(t,e){return e=rl({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function rl(t,e){return t=z(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Ss(t,e,a){return Sn(e,t.child,null,a),t=_s(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function $o(t,e,a){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Dt(t.return,e,a)}function bs(t,e,a,n,i){var l=t.memoizedState;l===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:i}:(l.isBackwards=e,l.rendering=null,l.renderingStartTime=0,l.last=n,l.tail=a,l.tailMode=i)}function tu(t,e,a){var n=e.pendingProps,i=n.revealOrder,l=n.tail;if(de(t,e,n.children,a),n=ee.current,(n&2)!==0)n=n&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$o(t,a,e);else if(t.tag===19)$o(t,a,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}switch(o(ee,n),i){case"forwards":for(a=e.child,i=null;a!==null;)t=a.alternate,t!==null&&il(t)===null&&(i=a),a=a.sibling;a=i,a===null?(i=e.child,e.child=null):(i=a.sibling,a.sibling=null),bs(e,!1,i,a,l);break;case"backwards":for(a=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&il(t)===null){e.child=i;break}t=i.sibling,i.sibling=a,a=i,i=t}bs(e,!0,a,null,l);break;case"together":bs(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ea(t,e,a){if(t!==null&&(e.dependencies=t.dependencies),Ra|=e.lanes,(a&e.childLanes)===0)if(t!==null){if(He(t,e,a,!1),(a&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(b(153));if(e.child!==null){for(t=e.child,a=aa(t,t.pendingProps),e.child=a,a.return=e;t.sibling!==null;)t=t.sibling,a=a.sibling=aa(t,t.pendingProps),a.return=e;a.sibling=null}return e.child}function Cs(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&ue(t)))}function d0(t,e,a){switch(e.tag){case 3:F(e,e.stateNode.containerInfo),ft(e,Pt,t.memoizedState.cache),ht();break;case 27:case 5:lt(e);break;case 4:F(e,e.stateNode.containerInfo);break;case 10:ft(e,e.type,e.memoizedProps.value);break;case 13:var n=e.memoizedState;if(n!==null)return n.dehydrated!==null?(pa(e),e.flags|=128,null):(a&e.child.childLanes)!==0?Io(t,e,a):(pa(e),t=ea(t,e,a),t!==null?t.sibling:null);pa(e);break;case 19:var i=(t.flags&128)!==0;if(n=(a&e.childLanes)!==0,n||(He(t,e,a,!1),n=(a&e.childLanes)!==0),i){if(n)return tu(t,e,a);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),o(ee,ee.current),n)break;return null;case 22:case 23:return e.lanes=0,Qo(t,e,a);case 24:ft(e,Pt,t.memoizedState.cache)}return ea(t,e,a)}function eu(t,e,a){if(t!==null)if(t.memoizedProps!==e.pendingProps)le=!0;else{if(!Cs(t,a)&&(e.flags&128)===0)return le=!1,d0(t,e,a);le=(t.flags&131072)!==0}else le=!1,Gt&&(e.flags&1048576)!==0&&L(e,Sl,e.index);switch(e.lanes=0,e.tag){case 16:t:{t=e.pendingProps;var n=e.elementType,i=n._init;if(n=i(n._payload),e.type=n,typeof n=="function")ws(n)?(t=Ba(n,t),e.tag=1,e=Jo(null,e,n,t,a)):(e.tag=0,e=ps(null,e,n,t,a));else{if(n!=null){if(i=n.$$typeof,i===Qs){e.tag=11,e=Yo(null,e,n,t,a);break t}else if(i===Js){e.tag=14,e=Ko(null,e,n,t,a);break t}}throw e=T(n)||n,Error(b(306,e,""))}}return e;case 0:return ps(t,e,e.type,e.pendingProps,a);case 1:return n=e.type,i=Ba(n,e.pendingProps),Jo(t,e,n,i,a);case 3:t:{if(F(e,e.stateNode.containerInfo),t===null)throw Error(b(387));var l=e.pendingProps;i=e.memoizedState,n=i.element,kl(t,e),Un(e,l,null,a);var M=e.memoizedState;if(l=M.cache,ft(e,Pt,l),l!==i.cache&&Vt(e,[Pt],a,!0),Gn(),l=M.element,Le&&i.isDehydrated)if(i={element:l,isDehydrated:!1,cache:M.cache},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){e=Wo(t,e,l,a);break t}else if(l!==n){n=O(Error(b(424)),e),vt(n),e=Wo(t,e,l,a);break t}else for(Le&&(te=Nd(e.stateNode.containerInfo),ye=e,Gt=!0,Pa=null,We=!0),a=Ac(e,null,l,a),e.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ht(),l===n){e=ea(t,e,a);break t}de(t,e,l,a)}e=e.child}return e;case 26:if(Xe)return sl(t,e),t===null?(a=dc(e.type,null,e.pendingProps,null))?e.memoizedState=a:Gt||(e.stateNode=Fd(e.type,e.pendingProps,xa.current,e)):e.memoizedState=dc(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:if($t)return lt(e),t===null&&$t&&Gt&&(n=e.stateNode=yc(e.type,e.pendingProps,xa.current,fe.current,!1),ye=e,We=!0,te=Md(e.type,n,te)),de(t,e,e.pendingProps.children,a),sl(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Gt&&(jd(e.type,e.pendingProps,fe.current),(i=n=te)&&(n=Rd(n,e.type,e.pendingProps,We),n!==null?(e.stateNode=n,ye=e,te=xd(n),We=!1,i=!0):i=!1),i||H(e)),lt(e),i=e.type,l=e.pendingProps,M=t!==null?t.memoizedProps:null,n=l.children,ml(i,l)?n=null:M!==null&&ml(i,M)&&(e.flags|=32),e.memoizedState!==null&&(i=ts(t,e,s0,null,null,a),na?ja._currentValue=i:ja._currentValue2=i),sl(t,e),de(t,e,n,a),e.child;case 6:return t===null&&Gt&&(wd(e.pendingProps,fe.current),(t=a=te)&&(a=Od(a,e.pendingProps,We),a!==null?(e.stateNode=a,ye=e,te=null,t=!0):t=!1),t||H(e)),null;case 13:return Io(t,e,a);case 4:return F(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Sn(e,null,n,a):de(t,e,n,a),e.child;case 11:return Yo(t,e,e.type,e.pendingProps,a);case 7:return de(t,e,e.pendingProps,a),e.child;case 8:return de(t,e,e.pendingProps.children,a),e.child;case 12:return de(t,e,e.pendingProps.children,a),e.child;case 10:return n=e.pendingProps,ft(e,e.type,n.value),de(t,e,n.children,a),e.child;case 9:return i=e.type._context,n=e.pendingProps.children,xe(e),i=yt(i),n=n(i),e.flags|=1,de(t,e,n,a),e.child;case 14:return Ko(t,e,e.type,e.pendingProps,a);case 15:return Xo(t,e,e.type,e.pendingProps,a);case 19:return tu(t,e,a);case 31:return n=e.pendingProps,a=e.mode,n={mode:n.mode,children:n.children},t===null?(a=rl(n,a),a.ref=e.ref,e.child=a,a.return=e,e=a):(a=aa(t.child,n),a.ref=e.ref,e.child=a,a.return=e,e=a),e;case 22:return Qo(t,e,a);case 24:return xe(e),n=yt(Pt),t===null?(i=Xl(),i===null&&(i=Lt,l=Ye(),i.pooledCache=l,l.refCount++,l!==null&&(i.pooledCacheLanes|=a),i=l),e.memoizedState={parent:n,cache:i},Zl(e),ft(e,Pt,i)):((t.lanes&a)!==0&&(kl(t,e),Un(e,null,null,a),Gn()),i=t.memoizedState,l=e.memoizedState,i.parent!==n?(i={parent:n,cache:n},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),ft(e,Pt,n)):(n=l.cache,ft(e,Pt,n),n!==i.cache&&Vt(e,[Pt],a,!0))),de(t,e,e.pendingProps.children,a),e.child;case 29:throw e.pendingProps}throw Error(b(156,e.tag))}function Me(t){t.flags|=4}function au(t,e){if(t!==null&&t.child===e.child)return!1;if((e.flags&16)!==0)return!0;for(t=e.child;t!==null;){if((t.flags&13878)!==0||(t.subtreeFlags&13878)!==0)return!0;t=t.sibling}return!1}function Es(t,e,a,n){if(pe)for(a=e.child;a!==null;){if(a.tag===5||a.tag===6)Is(t,a.stateNode);else if(!(a.tag===4||$t&&a.tag===27)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return;a=a.return}a.sibling.return=a.return,a=a.sibling}else if(Ta)for(var i=e.child;i!==null;){if(i.tag===5){var l=i.stateNode;a&&n&&(l=rc(l,i.type,i.memoizedProps)),Is(t,l)}else if(i.tag===6)l=i.stateNode,a&&n&&(l=oc(l,i.memoizedProps)),Is(t,l);else if(i.tag!==4){if(i.tag===22&&i.memoizedState!==null)l=i.child,l!==null&&(l.return=i),Es(t,i,!0,!0);else if(i.child!==null){i.child.return=i,i=i.child;continue}}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function nu(t,e,a,n){var i=!1;if(Ta)for(var l=e.child;l!==null;){if(l.tag===5){var M=l.stateNode;a&&n&&(M=rc(M,l.type,l.memoizedProps)),lc(t,M)}else if(l.tag===6)M=l.stateNode,a&&n&&(M=oc(M,l.memoizedProps)),lc(t,M);else if(l.tag!==4){if(l.tag===22&&l.memoizedState!==null)i=l.child,i!==null&&(i.return=l),nu(t,l,!0,!0),i=!0;else if(l.child!==null){l.child.return=l,l=l.child;continue}}if(l===e)break;for(;l.sibling===null;){if(l.return===null||l.return===e)return i;l=l.return}l.sibling.return=l.return,l=l.sibling}return i}function iu(t,e){if(Ta&&au(t,e)){t=e.stateNode;var a=t.containerInfo,n=ic();nu(n,e,!1,!1),t.pendingChildren=n,Me(e),_d(a,n)}}function Ts(t,e,a,n){if(pe)t.memoizedProps!==n&&Me(e);else if(Ta){var i=t.stateNode,l=t.memoizedProps;if((t=au(t,e))||l!==n){var M=fe.current;l=yd(i,a,l,n,!t,null),l===i?e.stateNode=i:($u(l,a,n,M)&&Me(e),e.stateNode=l,t?Es(l,e,!1,!1):Me(e))}else e.stateNode=i}}function xs(t,e,a){if(X0(e,a)){if(t.flags|=16777216,!ec(e,a))if(Ru())t.flags|=8192;else throw gn=Nl,hr}else t.flags&=-16777217}function lu(t,e){if(Kd(e)){if(t.flags|=16777216,!vc(e))if(Ru())t.flags|=8192;else throw gn=Nl,hr}else t.flags&=-16777217}function ol(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?E():536870912,t.lanes|=e,En|=e)}function Vn(t,e){if(!Gt)switch(t.tailMode){case"hidden":e=t.tail;for(var a=null;e!==null;)e.alternate!==null&&(a=e),e=e.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function wt(t){var e=t.alternate!==null&&t.alternate.child===t.child,a=0,n=0;if(e)for(var i=t.child;i!==null;)a|=i.lanes|i.childLanes,n|=i.subtreeFlags&65011712,n|=i.flags&65011712,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)a|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=a,e}function f0(t,e,a){var n=e.pendingProps;switch(Z(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(e),null;case 1:return wt(e),null;case 3:return a=e.stateNode,n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Ht(Pt),tt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(rt(e)?Me(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,pt())),iu(t,e),wt(e),null;case 26:if(Xe){a=e.type;var i=e.memoizedState;return t===null?(Me(e),i!==null?(wt(e),lu(e,i)):(wt(e),xs(e,a,n))):i?i!==t.memoizedState?(Me(e),wt(e),lu(e,i)):(wt(e),e.flags&=-16777217):(pe?t.memoizedProps!==n&&Me(e):Ts(t,e,a,n),wt(e),xs(e,a,n)),null}case 27:if($t){if(I(e),a=xa.current,i=e.type,t!==null&&e.stateNode!=null)pe?t.memoizedProps!==n&&Me(e):Ts(t,e,i,n);else{if(!n){if(e.stateNode===null)throw Error(b(166));return wt(e),null}t=fe.current,rt(e)?k(e,t):(t=yc(i,n,a,t,!0),e.stateNode=t,Me(e))}return wt(e),null}case 5:if(I(e),a=e.type,t!==null&&e.stateNode!=null)Ts(t,e,a,n);else{if(!n){if(e.stateNode===null)throw Error(b(166));return wt(e),null}t=fe.current,rt(e)?k(e,t):(i=V0(a,n,xa.current,t,e),Es(i,e,!1,!1),e.stateNode=i,$u(i,a,n,t)&&Me(e))}return wt(e),xs(e,e.type,e.pendingProps),null;case 6:if(t&&e.stateNode!=null)a=t.memoizedProps,pe?a!==n&&Me(e):Ta&&(a!==n?(e.stateNode=tc(n,xa.current,fe.current,e),Me(e)):e.stateNode=t.stateNode);else{if(typeof n!="string"&&e.stateNode===null)throw Error(b(166));if(t=xa.current,a=fe.current,rt(e)){if(!Le)throw Error(b(176));if(t=e.stateNode,a=e.memoizedProps,n=null,i=ye,i!==null)switch(i.tag){case 27:case 5:n=i.memoizedProps}Ud(t,a,e,n)||H(e)}else e.stateNode=tc(n,t,a,e)}return wt(e),null;case 13:if(n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=rt(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(b(318));if(!Le)throw Error(b(344));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(b(317));zd(i,e)}else ht(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;wt(e),i=!1}else i=pt(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),i=!0;if(!i)return e.flags&256?(ta(e),e):(ta(e),null)}if(ta(e),(e.flags&128)!==0)return e.lanes=a,e;if(a=n!==null,t=t!==null&&t.memoizedState!==null,a){n=e.child,i=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(i=n.alternate.memoizedState.cachePool.pool);var l=null;n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==i&&(n.flags|=2048)}return a!==t&&a&&(e.child.flags|=8192),ol(e,e.updateQueue),wt(e),null;case 4:return tt(),iu(t,e),t===null&&P0(e.stateNode.containerInfo),wt(e),null;case 10:return Ht(e.type),wt(e),null;case 19:if(u(ee),i=e.memoizedState,i===null)return wt(e),null;if(n=(e.flags&128)!==0,l=i.rendering,l===null)if(n)Vn(i,!1);else{if(Ft!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(l=il(t),l!==null){for(e.flags|=128,Vn(i,!1),t=l.updateQueue,e.updateQueue=t,ol(e,t),e.subtreeFlags=0,t=a,a=e.child;a!==null;)Fu(a,t),a=a.sibling;return o(ee,ee.current&1|2),e.child}t=t.sibling}i.tail!==null&&Qe()>ei&&(e.flags|=128,n=!0,Vn(i,!1),e.lanes=4194304)}else{if(!n)if(t=il(l),t!==null){if(e.flags|=128,n=!0,t=t.updateQueue,e.updateQueue=t,ol(e,t),Vn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!Gt)return wt(e),null}else 2*Qe()-i.renderingStartTime>ei&&a!==536870912&&(e.flags|=128,n=!0,Vn(i,!1),e.lanes=4194304);i.isBackwards?(l.sibling=e.child,e.child=l):(t=i.last,t!==null?t.sibling=l:e.child=l,i.last=l)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Qe(),e.sibling=null,t=ee.current,o(ee,n?t&1|2:t&1),e):(wt(e),null);case 22:case 23:return ta(e),Il(),n=e.memoizedState!==null,t!==null?t.memoizedState!==null!==n&&(e.flags|=8192):n&&(e.flags|=8192),n?(a&536870912)!==0&&(e.flags&128)===0&&(wt(e),e.subtreeFlags&6&&(e.flags|=8192)):wt(e),a=e.updateQueue,a!==null&&ol(e,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),n=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),n!==a&&(e.flags|=2048),t!==null&&u(Ya),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),e.memoizedState.cache!==a&&(e.flags|=2048),Ht(Pt),wt(e),null;case 25:return null;case 30:return null}throw Error(b(156,e.tag))}function g0(t,e){switch(Z(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ht(Pt),tt(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return I(e),null;case 13:if(ta(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(b(340));ht()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return u(ee),null;case 4:return tt(),null;case 10:return Ht(e.type),null;case 22:case 23:return ta(e),Il(),t!==null&&u(Ya),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Ht(Pt),null;case 25:return null;default:return null}}function su(t,e){switch(Z(e),e.tag){case 3:Ht(Pt),tt();break;case 26:case 27:case 5:I(e);break;case 4:tt();break;case 13:ta(e);break;case 19:u(ee);break;case 10:Ht(e.type);break;case 22:case 23:ta(e),Il(),t!==null&&u(Ya);break;case 24:Ht(Pt)}}function qn(t,e){try{var a=e.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var i=n.next;a=i;do{if((a.tag&t)===t){n=void 0;var l=a.create,M=a.inst;n=l(),M.destroy=n}a=a.next}while(a!==i)}}catch(j){Ut(e,e.return,j)}}function ya(t,e,a){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var l=i.next;n=l;do{if((n.tag&t)===t){var M=n.inst,j=M.destroy;if(j!==void 0){M.destroy=void 0,i=e;var W=a,et=j;try{et()}catch(st){Ut(i,W,st)}}}n=n.next}while(n!==l)}}catch(st){Ut(e,e.return,st)}}function ru(t){var e=t.updateQueue;if(e!==null){var a=t.stateNode;try{Ir(e,a)}catch(n){Ut(t,t.return,n)}}}function ou(t,e,a){a.props=Ba(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(n){Ut(t,e,n)}}function jn(t,e){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var n=Yn(t.stateNode);break;case 30:n=t.stateNode;break;default:n=t.stateNode}typeof a=="function"?t.refCleanup=a(n):a.current=n}}catch(i){Ut(t,e,i)}}function ke(t,e){var a=t.ref,n=t.refCleanup;if(a!==null)if(typeof n=="function")try{n()}catch(i){Ut(t,e,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(i){Ut(t,e,i)}else a.current=null}function uu(t){var e=t.type,a=t.memoizedProps,n=t.stateNode;try{rd(n,e,a,t)}catch(i){Ut(t,t.return,i)}}function Ns(t,e,a){try{od(t.stateNode,t.type,a,e,t)}catch(n){Ut(t,t.return,n)}}function cu(t){return t.tag===5||t.tag===3||(Xe?t.tag===26:!1)||($t?t.tag===27&&ln(t.type):!1)||t.tag===4}function As(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||cu(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if($t&&t.tag===27&&ln(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ms(t,e,a){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?cd(a,t,e):ld(a,t);else if(n!==4&&($t&&n===27&&ln(t.type)&&(a=t.stateNode,e=null),t=t.child,t!==null))for(Ms(t,e,a),t=t.sibling;t!==null;)Ms(t,e,a),t=t.sibling}function ul(t,e,a){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?ud(a,t,e):id(a,t);else if(n!==4&&($t&&n===27&&ln(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(ul(t,e,a),t=t.sibling;t!==null;)ul(t,e,a),t=t.sibling}function hu(t,e,a){t=t.containerInfo;try{sc(t,a)}catch(n){Ut(e,e.return,n)}}function du(t){var e=t.stateNode,a=t.memoizedProps;try{Qd(t.type,a,e,t)}catch(n){Ut(t,t.return,n)}}function m0(t,e){for(H0(t.containerInfo),se=e;se!==null;)if(t=se,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,se=e;else for(;se!==null;){t=se;var a=t.alternate;switch(e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&a!==null){e=void 0;var n=t,i=a.memoizedProps;a=a.memoizedState;var l=n.stateNode;try{var M=Ba(n.type,i,n.elementType===n.type);e=l.getSnapshotBeforeUpdate(M,a),l.__reactInternalSnapshotBeforeUpdate=e}catch(j){Ut(n,n.return,j)}}break;case 3:(e&1024)!==0&&pe&&vd(t.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(b(163))}if(e=t.sibling,e!==null){e.return=t.return,se=e;break}se=t.return}}function fu(t,e,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:_a(t,a),n&4&&qn(5,a);break;case 1:if(_a(t,a),n&4)if(t=a.stateNode,e===null)try{t.componentDidMount()}catch(M){Ut(a,a.return,M)}else{var i=Ba(a.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(M){Ut(a,a.return,M)}}n&64&&ru(a),n&512&&jn(a,a.return);break;case 3:if(_a(t,a),n&64&&(t=a.updateQueue,t!==null)){if(e=null,a.child!==null)switch(a.child.tag){case 27:case 5:e=Yn(a.child.stateNode);break;case 1:e=a.child.stateNode}try{Ir(t,e)}catch(M){Ut(a,a.return,M)}}break;case 27:$t&&e===null&&n&4&&du(a);case 26:case 5:_a(t,a),e===null&&n&4&&uu(a),n&512&&jn(a,a.return);break;case 12:_a(t,a);break;case 13:_a(t,a),n&4&&mu(t,a),n&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=C0.bind(null,a),bd(t,a))));break;case 22:if(n=a.memoizedState!==null||oa,!n){e=e!==null&&e.memoizedState!==null||Xt,i=oa;var l=Xt;oa=n,(Xt=e)&&!l?Sa(t,a,(a.subtreeFlags&8772)!==0):_a(t,a),oa=i,Xt=l}break;case 30:break;default:_a(t,a)}}function gu(t){var e=t.alternate;e!==null&&(t.alternate=null,gu(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&K0(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Ke(t,e,a){for(a=a.child;a!==null;)Rs(t,e,a),a=a.sibling}function Rs(t,e,a){if(Ue&&typeof Ue.onCommitFiberUnmount=="function")try{Ue.onCommitFiberUnmount(Qn,a)}catch{}switch(a.tag){case 26:if(Xe){Xt||ke(a,e),Ke(t,e,a),a.memoizedState?gc(a.memoizedState):a.stateNode&&pc(a.stateNode);break}case 27:if($t){Xt||ke(a,e);var n=Wt,i=be;ln(a.type)&&(Wt=a.stateNode,be=!1),Ke(t,e,a),_c(a.stateNode),Wt=n,be=i;break}case 5:Xt||ke(a,e);case 6:if(pe){if(n=Wt,i=be,Wt=null,Ke(t,e,a),Wt=n,be=i,Wt!==null)if(be)try{dd(Wt,a.stateNode)}catch(l){Ut(a,e,l)}else try{hd(Wt,a.stateNode)}catch(l){Ut(a,e,l)}}else Ke(t,e,a);break;case 18:pe&&Wt!==null&&(be?qd(Wt,a.stateNode):Vd(Wt,a.stateNode));break;case 4:pe?(n=Wt,i=be,Wt=a.stateNode.containerInfo,be=!0,Ke(t,e,a),Wt=n,be=i):(Ta&&hu(a.stateNode,a,ic()),Ke(t,e,a));break;case 0:case 11:case 14:case 15:Xt||ya(2,a,e),Xt||ya(4,a,e),Ke(t,e,a);break;case 1:Xt||(ke(a,e),n=a.stateNode,typeof n.componentWillUnmount=="function"&&ou(a,e,n)),Ke(t,e,a);break;case 21:Ke(t,e,a);break;case 22:Xt=(n=Xt)||a.memoizedState!==null,Ke(t,e,a),Xt=n;break;default:Ke(t,e,a)}}function mu(t,e){if(Le&&e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ld(t)}catch(a){Ut(e,e.return,a)}}function p0(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Oc),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Oc),e;default:throw Error(b(435,t.tag))}}function Os(t,e){var a=p0(t);e.forEach(function(n){var i=E0.bind(null,t,n);a.has(n)||(a.add(n),n.then(i,i))})}function ve(t,e){var a=e.deletions;if(a!==null)for(var n=0;n<a.length;n++){var i=a[n],l=t,M=e;if(pe){var j=M;t:for(;j!==null;){switch(j.tag){case 27:if($t){if(ln(j.type)){Wt=j.stateNode,be=!1;break t}break}case 5:Wt=j.stateNode,be=!1;break t;case 3:case 4:Wt=j.stateNode.containerInfo,be=!0;break t}j=j.return}if(Wt===null)throw Error(b(160));Rs(l,M,i),Wt=null,be=!1}else Rs(l,M,i);l=i.alternate,l!==null&&(l.return=null),i.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)pu(e,t),e=e.sibling}function pu(t,e){var a=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ve(e,t),Se(t),n&4&&(ya(3,t,t.return),qn(3,t),ya(5,t,t.return));break;case 1:ve(e,t),Se(t),n&512&&(Xt||a===null||ke(a,a.return)),n&64&&oa&&(t=t.updateQueue,t!==null&&(n=t.callbacks,n!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?n:a.concat(n))));break;case 26:if(Xe){var i=Ze;if(ve(e,t),Se(t),n&512&&(Xt||a===null||ke(a,a.return)),n&4){n=a!==null?a.memoizedState:null;var l=t.memoizedState;a===null?l===null?t.stateNode===null?t.stateNode=Pd(i,t.type,t.memoizedProps,t):mc(i,t.type,t.stateNode):t.stateNode=fc(i,l,t.memoizedProps):n!==l?(n===null?a.stateNode!==null&&pc(a.stateNode):gc(n),l===null?mc(i,t.type,t.stateNode):fc(i,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ns(t,t.memoizedProps,a.memoizedProps)}break}case 27:if($t){ve(e,t),Se(t),n&512&&(Xt||a===null||ke(a,a.return)),a!==null&&n&4&&Ns(t,t.memoizedProps,a.memoizedProps);break}case 5:if(ve(e,t),Se(t),n&512&&(Xt||a===null||ke(a,a.return)),pe){if(t.flags&32){i=t.stateNode;try{nc(i)}catch(st){Ut(t,t.return,st)}}n&4&&t.stateNode!=null&&(i=t.memoizedProps,Ns(t,i,a!==null?a.memoizedProps:i)),n&1024&&(pr=!0)}break;case 6:if(ve(e,t),Se(t),n&4&&pe){if(t.stateNode===null)throw Error(b(162));n=t.memoizedProps,a=a!==null?a.memoizedProps:n,i=t.stateNode;try{sd(i,a,n)}catch(st){Ut(t,t.return,st)}}break;case 3:if(Xe?(Yd(),i=Ze,Ze=er(e.containerInfo),ve(e,t),Ze=i):ve(e,t),Se(t),n&4){if(pe&&Le&&a!==null&&a.memoizedState.isDehydrated)try{Hd(e.containerInfo)}catch(st){Ut(t,t.return,st)}if(Ta){n=e.containerInfo,a=e.pendingChildren;try{sc(n,a)}catch(st){Ut(t,t.return,st)}}}pr&&(pr=!1,vu(t));break;case 4:Xe?(a=Ze,Ze=er(t.stateNode.containerInfo),ve(e,t),Se(t),Ze=a):(ve(e,t),Se(t)),n&4&&Ta&&hu(t.stateNode,t,t.stateNode.pendingChildren);break;case 12:ve(e,t),Se(t);break;case 13:ve(e,t),Se(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Sr=Qe()),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,Os(t,n)));break;case 22:i=t.memoizedState!==null;var M=a!==null&&a.memoizedState!==null,j=oa,W=Xt;if(oa=j||i,Xt=W||M,ve(e,t),Xt=W,oa=j,Se(t),n&8192&&(e=t.stateNode,e._visibility=i?e._visibility&-2:e._visibility|1,i&&(a===null||M||oa||Xt||Ha(t)),pe)){t:if(a=null,pe)for(e=t;;){if(e.tag===5||Xe&&e.tag===26){if(a===null){M=a=e;try{l=M.stateNode,i?fd(l):md(M.stateNode,M.memoizedProps)}catch(st){Ut(M,M.return,st)}}}else if(e.tag===6){if(a===null){M=e;try{var et=M.stateNode;i?gd(et):pd(et,M.memoizedProps)}catch(st){Ut(M,M.return,st)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;a===e&&(a=null),e=e.return}a===e&&(a=null),e.sibling.return=e.return,e=e.sibling}}n&4&&(n=t.updateQueue,n!==null&&(a=n.retryQueue,a!==null&&(n.retryQueue=null,Os(t,a))));break;case 19:ve(e,t),Se(t),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,Os(t,n)));break;case 30:break;case 21:break;default:ve(e,t),Se(t)}}function Se(t){var e=t.flags;if(e&2){try{if(pe){for(var a,n=t.return;n!==null;){if(cu(n)){a=n;break}n=n.return}if(a==null)throw Error(b(160));switch(a.tag){case 27:if($t){var i=a.stateNode,l=As(t);ul(t,l,i);break}case 5:var M=a.stateNode;a.flags&32&&(nc(M),a.flags&=-33);var j=As(t);ul(t,j,M);break;case 3:case 4:var W=a.stateNode.containerInfo,et=As(t);Ms(t,et,W);break;default:throw Error(b(161))}}}catch(st){Ut(t,t.return,st)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function vu(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;vu(e),e.tag===5&&e.flags&1024&&k0(e.stateNode),t=t.sibling}}function _a(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)fu(t,e.alternate,e),e=e.sibling}function Ha(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:ya(4,e,e.return),Ha(e);break;case 1:ke(e,e.return);var a=e.stateNode;typeof a.componentWillUnmount=="function"&&ou(e,e.return,a),Ha(e);break;case 27:$t&&_c(e.stateNode);case 26:case 5:ke(e,e.return),Ha(e);break;case 22:e.memoizedState===null&&Ha(e);break;case 30:Ha(e);break;default:Ha(e)}t=t.sibling}}function Sa(t,e,a){for(a=a&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var n=e.alternate,i=t,l=e,M=l.flags;switch(l.tag){case 0:case 11:case 15:Sa(i,l,a),qn(4,l);break;case 1:if(Sa(i,l,a),n=l,i=n.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(et){Ut(n,n.return,et)}if(n=l,i=n.updateQueue,i!==null){var j=n.stateNode;try{var W=i.shared.hiddenCallbacks;if(W!==null)for(i.shared.hiddenCallbacks=null,i=0;i<W.length;i++)Wr(W[i],j)}catch(et){Ut(n,n.return,et)}}a&&M&64&&ru(l),jn(l,l.return);break;case 27:$t&&du(l);case 26:case 5:Sa(i,l,a),a&&n===null&&M&4&&uu(l),jn(l,l.return);break;case 12:Sa(i,l,a);break;case 13:Sa(i,l,a),a&&M&4&&mu(i,l);break;case 22:l.memoizedState===null&&Sa(i,l,a),jn(l,l.return);break;case 30:break;default:Sa(i,l,a)}e=e.sibling}}function Ds(t,e){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Zt(a))}function Gs(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Zt(t))}function Je(t,e,a,n){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)yu(t,e,a,n),e=e.sibling}function yu(t,e,a,n){var i=e.flags;switch(e.tag){case 0:case 11:case 15:Je(t,e,a,n),i&2048&&qn(9,e);break;case 1:Je(t,e,a,n);break;case 3:Je(t,e,a,n),i&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Zt(t)));break;case 12:if(i&2048){Je(t,e,a,n),t=e.stateNode;try{var l=e.memoizedProps,M=l.id,j=l.onPostCommit;typeof j=="function"&&j(M,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(W){Ut(e,e.return,W)}}else Je(t,e,a,n);break;case 13:Je(t,e,a,n);break;case 23:break;case 22:l=e.stateNode,M=e.alternate,e.memoizedState!==null?l._visibility&2?Je(t,e,a,n):wn(t,e):l._visibility&2?Je(t,e,a,n):(l._visibility|=2,Ia(t,e,a,n,(e.subtreeFlags&10256)!==0)),i&2048&&Ds(M,e);break;case 24:Je(t,e,a,n),i&2048&&Gs(e.alternate,e);break;default:Je(t,e,a,n)}}function Ia(t,e,a,n,i){for(i=i&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var l=t,M=e,j=a,W=n,et=M.flags;switch(M.tag){case 0:case 11:case 15:Ia(l,M,j,W,i),qn(8,M);break;case 23:break;case 22:var st=M.stateNode;M.memoizedState!==null?st._visibility&2?Ia(l,M,j,W,i):wn(l,M):(st._visibility|=2,Ia(l,M,j,W,i)),i&&et&2048&&Ds(M.alternate,M);break;case 24:Ia(l,M,j,W,i),i&&et&2048&&Gs(M.alternate,M);break;default:Ia(l,M,j,W,i)}e=e.sibling}}function wn(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var a=t,n=e,i=n.flags;switch(n.tag){case 22:wn(a,n),i&2048&&Ds(n.alternate,n);break;case 24:wn(a,n),i&2048&&Gs(n.alternate,n);break;default:wn(a,n)}e=e.sibling}}function La(t){if(t.subtreeFlags&bn)for(t=t.child;t!==null;)_u(t),t=t.sibling}function _u(t){switch(t.tag){case 26:La(t),t.flags&bn&&(t.memoizedState!==null?Xd(Ze,t.memoizedState,t.memoizedProps):ac(t.type,t.memoizedProps));break;case 5:La(t),t.flags&bn&&ac(t.type,t.memoizedProps);break;case 3:case 4:if(Xe){var e=Ze;Ze=er(t.stateNode.containerInfo),La(t),Ze=e}else La(t);break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=bn,bn=16777216,La(t),bn=e):La(t));break;default:La(t)}}function Su(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Pn(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var a=0;a<e.length;a++){var n=e[a];se=n,Cu(n,t)}Su(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)bu(t),t=t.sibling}function bu(t){switch(t.tag){case 0:case 11:case 15:Pn(t),t.flags&2048&&ya(9,t,t.return);break;case 3:Pn(t);break;case 12:Pn(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,cl(t)):Pn(t);break;default:Pn(t)}}function cl(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var a=0;a<e.length;a++){var n=e[a];se=n,Cu(n,t)}Su(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:ya(8,e,e.return),cl(e);break;case 22:a=e.stateNode,a._visibility&2&&(a._visibility&=-3,cl(e));break;default:cl(e)}t=t.sibling}}function Cu(t,e){for(;se!==null;){var a=se;switch(a.tag){case 0:case 11:case 15:ya(8,a,e);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var n=a.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:Zt(a.memoizedState.cache)}if(n=a.child,n!==null)n.return=a,se=n;else t:for(a=t;se!==null;){n=se;var i=n.sibling,l=n.return;if(gu(n),n===a){se=null;break t}if(i!==null){i.return=l,se=i;break t}se=l}}}function Us(t){var e=w0(t);if(e!=null){if(typeof e.memoizedProps["data-testname"]!="string")throw Error(b(364));return e}if(t=I0(t),t===null)throw Error(b(362));return t.stateNode.current}function zs(t,e){var a=t.tag;switch(e.$$typeof){case Dl:if(t.type===e.value)return!0;break;case Gl:t:{for(e=e.value,t=[t,0],a=0;a<t.length;){var n=t[a++],i=n.tag,l=t[a++],M=e[l];if(i!==5&&i!==26&&i!==27||!Xn(n)){for(;M!=null&&zs(n,M);)l++,M=e[l];if(l===e.length){e=!0;break t}else for(n=n.child;n!==null;)t.push(n,l),n=n.sibling}}e=!1}return e;case Ul:if((a===5||a===26||a===27)&&ed(t.stateNode,e.value))return!0;break;case Bl:if((a===5||a===6||a===26||a===27)&&(t=td(t),t!==null&&0<=t.indexOf(e.value)))return!0;break;case zl:if((a===5||a===26||a===27)&&(t=t.memoizedProps["data-testname"],typeof t=="string"&&t.toLowerCase()===e.value.toLowerCase()))return!0;break;default:throw Error(b(365))}return!1}function Bs(t){switch(t.$$typeof){case Dl:return"<"+(T(t.value)||"Unknown")+">";case Gl:return":has("+(Bs(t)||"")+")";case Ul:return'[role="'+t.value+'"]';case Bl:return'"'+t.value+'"';case zl:return'[data-testname="'+t.value+'"]';default:throw Error(b(365))}}function Eu(t,e){var a=[];t=[t,0];for(var n=0;n<t.length;){var i=t[n++],l=i.tag,M=t[n++],j=e[M];if(l!==5&&l!==26&&l!==27||!Xn(i)){for(;j!=null&&zs(i,j);)M++,j=e[M];if(M===e.length)a.push(i);else for(i=i.child;i!==null;)t.push(i,M),i=i.sibling}}return a}function Hs(t,e){if(!Kn)throw Error(b(363));t=Us(t),t=Eu(t,e),e=[],t=Array.from(t);for(var a=0;a<t.length;){var n=t[a++],i=n.tag;if(i===5||i===26||i===27)Xn(n)||e.push(n.stateNode);else for(n=n.child;n!==null;)t.push(n),n=n.sibling}return e}function Re(){if((Nt&2)!==0&&At!==0)return At&-At;if(gt.T!==null){var t=dn;return t!==0?t:On()}return F0()}function Tu(){Pe===0&&(Pe=(At&536870912)===0||Gt?y():536870912);var t=we.current;return t!==null&&(t.flags|=32),Pe}function Oe(t,e,a){(t===Lt&&(zt===2||zt===9)||t.cancelPendingCommit!==null)&&($a(t,0),ba(t,At,Pe,!1)),w(t,a),((Nt&2)===0||t!==Lt)&&(t===Lt&&((Nt&2)===0&&(Xa|=a),Ft===4&&ba(t,At,Pe,!1)),It(t))}function xu(t,e,a){if((Nt&6)!==0)throw Error(b(327));var n=!a&&(e&124)===0&&(e&t.expiredLanes)===0||c(t,e),i=n?_0(t,e):qs(t,e,!0),l=n;do{if(i===0){Cn&&!n&&ba(t,e,0,!1);break}else{if(a=t.current.alternate,l&&!v0(a)){i=qs(t,e,!1),l=!1;continue}if(i===2){if(l=e,t.errorRecoveryDisabledLanes&l)var M=0;else M=t.pendingLanes&-536870913,M=M!==0?M:M&536870912?536870912:0;if(M!==0){e=M;t:{var j=t;i=ti;var W=Le&&j.current.memoizedState.isDehydrated;if(W&&($a(j,M).flags|=256),M=qs(j,M,!1),M!==2){if(vr&&!W){j.errorRecoveryDisabledLanes|=l,Xa|=l,i=4;break t}l=Ce,Ce=i,l!==null&&(Ce===null?Ce=l:Ce.push.apply(Ce,l))}i=M}if(l=!1,i!==2)continue}}if(i===1){$a(t,0),ba(t,e,0,!0);break}t:{switch(n=t,l=i,l){case 0:case 1:throw Error(b(345));case 4:if((e&4194048)!==e)break;case 6:ba(n,e,Pe,!Ma);break t;case 2:Ce=null;break;case 3:case 5:break;default:throw Error(b(329))}if((e&62914560)===e&&(i=Sr+300-Qe(),10<i)){if(ba(n,e,Pe,!Ma),D(n,0,!0)!==0)break t;n.timeoutHandle=q0(Nu.bind(null,n,a,Ce,Hl,_r,e,Pe,Xa,En,Ma,l,2,-0,0),i);break t}Nu(n,a,Ce,Hl,_r,e,Pe,Xa,En,Ma,l,0,-0,0)}}break}while(!0);It(t)}function Nu(t,e,a,n,i,l,M,j,W,et,st,ut,ct,_t){if(t.timeoutHandle=qa,ut=e.subtreeFlags,(ut&8192||(ut&16785408)===16785408)&&(Q0(),_u(e),ut=Z0(),ut!==null)){t.cancelPendingCommit=ut(Bu.bind(null,t,e,l,a,n,i,M,j,W,st,1,ct,_t)),ba(t,l,M,!et);return}Bu(t,e,l,a,n,i,M,j,W)}function v0(t){for(var e=t;;){var a=e.tag;if((a===0||a===11||a===15)&&e.flags&16384&&(a=e.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var n=0;n<a.length;n++){var i=a[n],l=i.getSnapshot;i=i.value;try{if(!ze(l(),i))return!1}catch{return!1}}if(a=e.child,e.subtreeFlags&16384&&a!==null)a.return=e,e=a;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ba(t,e,a,n){e&=~yr,e&=~Xa,t.suspendedLanes|=e,t.pingedLanes&=~e,n&&(t.warmLanes|=e),n=t.expirationTimes;for(var i=e;0<i;){var l=31-Ge(i),M=1<<l;n[l]=-1,i&=~M}a!==0&&A(t,a,e)}function Au(){return(Nt&6)===0?(ne(0),!1):!0}function Ls(){if(Et!==null){if(zt===0)var t=Et.return;else t=Et,ra=Fa=null,ns(t),_n=null,In=0,t=Et;for(;t!==null;)su(t.alternate,t),t=t.return;Et=null}}function $a(t,e){var a=t.timeoutHandle;a!==qa&&(t.timeoutHandle=qa,j0(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Ls(),Lt=t,Et=a=aa(t.current,null),At=e,zt=0,Be=null,Ma=!1,Cn=c(t,e),vr=!1,En=Pe=yr=Xa=Ra=Ft=0,Ce=ti=null,_r=!1,(e&8)!==0&&(e|=e&32);var n=t.entangledLanes;if(n!==0)for(t=t.entanglements,n&=e;0<n;){var i=31-Ge(n),l=1<<i;e|=t[i],n&=~l}return ua=e,Zi(),a}function Mu(t,e){St=null,gt.H=Ol,e===Jn||e===xl?(e=Zr(),zt=3):e===hr?(e=Zr(),zt=4):zt=e===Rc?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Be=e,Et===null&&(Ft=1,ll(t,O(e,t.current)))}function Ru(){var t=we.current;return t===null?!0:(At&4194048)===At?Ie===null:(At&62914560)===At||(At&536870912)!==0?t===Ie:!1}function Ou(){var t=gt.H;return gt.H=Ol,t===null?Ol:t}function Du(){var t=gt.A;return gt.A=o1,t}function Vs(){Ft=4,Ma||(At&4194048)!==At&&we.current!==null||(Cn=!0),(Ra&134217727)===0&&(Xa&134217727)===0||Lt===null||ba(Lt,At,Pe,!1)}function qs(t,e,a){var n=Nt;Nt|=2;var i=Ou(),l=Du();(Lt!==t||At!==e)&&(Hl=null,$a(t,e)),e=!1;var M=Ft;t:do try{if(zt!==0&&Et!==null){var j=Et,W=Be;switch(zt){case 8:Ls(),M=6;break t;case 3:case 2:case 9:case 6:we.current===null&&(e=!0);var et=zt;if(zt=0,Be=null,tn(t,j,W,et),a&&Cn){M=0;break t}break;default:et=zt,zt=0,Be=null,tn(t,j,W,et)}}y0(),M=Ft;break}catch(st){Mu(t,st)}while(!0);return e&&t.shellSuspendCounter++,ra=Fa=null,Nt=n,gt.H=i,gt.A=l,Et===null&&(Lt=null,At=0,Zi()),M}function y0(){for(;Et!==null;)Gu(Et)}function _0(t,e){var a=Nt;Nt|=2;var n=Ou(),i=Du();Lt!==t||At!==e?(Hl=null,ei=Qe()+500,$a(t,e)):Cn=c(t,e);t:do try{if(zt!==0&&Et!==null){e=Et;var l=Be;e:switch(zt){case 1:zt=0,Be=null,tn(t,e,l,1);break;case 2:case 9:if(Xr(l)){zt=0,Be=null,Uu(e);break}e=function(){zt!==2&&zt!==9||Lt!==t||(zt=7),It(t)},l.then(e,e);break t;case 3:zt=7;break t;case 4:zt=5;break t;case 7:Xr(l)?(zt=0,Be=null,Uu(e)):(zt=0,Be=null,tn(t,e,l,7));break;case 5:var M=null;switch(Et.tag){case 26:M=Et.memoizedState;case 5:case 27:var j=Et,W=j.type,et=j.pendingProps;if(M?vc(M):ec(W,et)){zt=0,Be=null;var st=j.sibling;if(st!==null)Et=st;else{var ut=j.return;ut!==null?(Et=ut,hl(ut)):Et=null}break e}}zt=0,Be=null,tn(t,e,l,5);break;case 6:zt=0,Be=null,tn(t,e,l,6);break;case 8:Ls(),Ft=6;break t;default:throw Error(b(462))}}S0();break}catch(ct){Mu(t,ct)}while(!0);return ra=Fa=null,gt.H=n,gt.A=i,Nt=a,Et!==null?0:(Lt=null,At=0,Zi(),Ft)}function S0(){for(;Et!==null&&!Jd();)Gu(Et)}function Gu(t){var e=eu(t.alternate,t,ua);t.memoizedProps=t.pendingProps,e===null?hl(t):Et=e}function Uu(t){var e=t,a=e.alternate;switch(e.tag){case 15:case 0:e=ko(a,e,e.pendingProps,e.type,void 0,At);break;case 11:e=ko(a,e,e.pendingProps,e.type.render,e.ref,At);break;case 5:ns(e);default:su(a,e),e=Et=Fu(e,ua),e=eu(a,e,ua)}t.memoizedProps=t.pendingProps,e===null?hl(t):Et=e}function tn(t,e,a,n){ra=Fa=null,ns(e),_n=null,In=0;var i=e.return;try{if(h0(t,i,e,a,At)){Ft=1,ll(t,O(a,t.current)),Et=null;return}}catch(l){if(i!==null)throw Et=i,l;Ft=1,ll(t,O(a,t.current)),Et=null;return}e.flags&32768?(Gt||n===1?t=!0:Cn||(At&536870912)!==0?t=!1:(Ma=t=!0,(n===2||n===9||n===3||n===6)&&(n=we.current,n!==null&&n.tag===13&&(n.flags|=16384))),zu(e,t)):hl(e)}function hl(t){var e=t;do{if((e.flags&32768)!==0){zu(e,Ma);return}t=e.return;var a=f0(e.alternate,e,ua);if(a!==null){Et=a;return}if(e=e.sibling,e!==null){Et=e;return}Et=e=t}while(e!==null);Ft===0&&(Ft=5)}function zu(t,e){do{var a=g0(t.alternate,t);if(a!==null){a.flags&=32767,Et=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!e&&(t=t.sibling,t!==null)){Et=t;return}Et=t=a}while(t!==null);Ft=6,Et=null}function Bu(t,e,a,n,i,l,M,j,W){t.cancelPendingCommit=null;do Fn();while(ge!==0);if((Nt&6)!==0)throw Error(b(327));if(e!==null){if(e===t.current)throw Error(b(177));if(l=e.lanes|e.childLanes,l|=dr,N(t,a,l,M,j,W),t===Lt&&(Et=Lt=null,At=0),Tn=e,Da=t,xn=a,br=l,Cr=i,Dc=n,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,T0(ir,function(){return ju(),null})):(t.callbackNode=null,t.callbackPriority=0),n=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||n){n=gt.T,gt.T=null,i=ia(),ie(2),M=Nt,Nt|=4;try{m0(t,e,a)}finally{Nt=M,ie(i),gt.T=n}}ge=1,Hu(),Lu(),Vu()}}function Hu(){if(ge===1){ge=0;var t=Da,e=Tn,a=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||a){a=gt.T,gt.T=null;var n=ia();ie(2);var i=Nt;Nt|=4;try{pu(e,t),L0(t.containerInfo)}finally{Nt=i,ie(n),gt.T=a}}t.current=e,ge=2}}function Lu(){if(ge===2){ge=0;var t=Da,e=Tn,a=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||a){a=gt.T,gt.T=null;var n=ia();ie(2);var i=Nt;Nt|=4;try{fu(t,e.alternate,e)}finally{Nt=i,ie(n),gt.T=a}}ge=3}}function Vu(){if(ge===4||ge===3){ge=0,Wd();var t=Da,e=Tn,a=xn,n=Dc;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?ge=5:(ge=0,Tn=Da=null,qu(t,t.pendingLanes));var i=t.pendingLanes;if(i===0&&(Oa=null),P(a),e=e.stateNode,Ue&&typeof Ue.onCommitFiberRoot=="function")try{Ue.onCommitFiberRoot(Qn,e,void 0,(e.current.flags&128)===128)}catch{}if(n!==null){e=gt.T,i=ia(),ie(2),gt.T=null;try{for(var l=t.onRecoverableError,M=0;M<n.length;M++){var j=n[M];l(j.value,{componentStack:j.stack})}}finally{gt.T=e,ie(i)}}(xn&3)!==0&&Fn(),It(t),i=t.pendingLanes,(a&4194090)!==0&&(i&42)!==0?t===Er?ai++:(ai=0,Er=t):ai=0,ne(0)}}function qu(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Zt(e)))}function Fn(t){return Hu(),Lu(),Vu(),ju()}function ju(){if(ge!==5)return!1;var t=Da,e=br;br=0;var a=P(xn),n=32>a?32:a;a=gt.T;var i=ia();try{ie(n),gt.T=null,n=Cr,Cr=null;var l=Da,M=xn;if(ge=0,Tn=Da=null,xn=0,(Nt&6)!==0)throw Error(b(331));var j=Nt;if(Nt|=4,bu(l.current),yu(l,l.current,M,n),Nt=j,ne(0,!1),Ue&&typeof Ue.onPostCommitFiberRoot=="function")try{Ue.onPostCommitFiberRoot(Qn,l)}catch{}return!0}finally{ie(i),gt.T=a,qu(t,e)}}function wu(t,e,a){e=O(a,e),e=ms(t.stateNode,e,2),t=ma(t,e,2),t!==null&&(w(t,2),It(t))}function Ut(t,e,a){if(t.tag===3)wu(t,t,a);else for(;e!==null;){if(e.tag===3){wu(e,t,a);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Oa===null||!Oa.has(n))){t=O(a,t),a=Po(2),n=ma(e,a,2),n!==null&&(Fo(a,n,e,t),w(n,2),It(n));break}}e=e.return}}function js(t,e,a){var n=t.pingCache;if(n===null){n=t.pingCache=new u1;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(a)||(vr=!0,i.add(a),t=b0.bind(null,t,e,a),e.then(t,t))}function b0(t,e,a){var n=t.pingCache;n!==null&&n.delete(e),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Lt===t&&(At&a)===a&&(Ft===4||Ft===3&&(At&62914560)===At&&300>Qe()-Sr?(Nt&2)===0&&$a(t,0):yr|=a,En===At&&(En=0)),It(t)}function Pu(t,e){e===0&&(e=E()),t=Ja(t,e),t!==null&&(w(t,e),It(t))}function C0(t){var e=t.memoizedState,a=0;e!==null&&(a=e.retryLane),Pu(t,a)}function E0(t,e){var a=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(a=i.retryLane);break;case 19:n=t.stateNode;break;case 22:n=t.stateNode._retryCache;break;default:throw Error(b(314))}n!==null&&n.delete(e),Pu(t,a)}function T0(t,e){return yl(t,e)}function x0(t,e,a,n){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ws(t){return t=t.prototype,!(!t||!t.isReactComponent)}function aa(t,e){var a=t.alternate;return a===null?(a=z(t.tag,e,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=e,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,e=t.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Fu(t,e){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,e=a.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function dl(t,e,a,n,i,l){var M=0;if(n=t,typeof t=="function")ws(t)&&(M=1);else if(typeof t=="string")M=Xe&&$t?hc(t,a,fe.current)?26:Sc(t)?27:5:Xe?hc(t,a,fe.current)?26:5:$t&&Sc(t)?27:5;else t:switch(t){case Ws:return t=z(31,a,e,i),t.elementType=Ws,t.lanes=l,t;case an:return Va(a.children,i,l,e);case ku:M=8,i|=24;break;case Xs:return t=z(12,a,e,i|2),t.elementType=Xs,t.lanes=l,t;case Zs:return t=z(13,a,e,i),t.elementType=Zs,t.lanes=l,t;case ks:return t=z(19,a,e,i),t.elementType=ks,t.lanes=l,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case R0:case Ca:M=10;break t;case Ju:M=9;break t;case Qs:M=11;break t;case Js:M=14;break t;case Ea:M=16,n=null;break t}M=29,a=Error(b(130,t===null?"null":typeof t,"")),n=null}return e=z(M,a,e,i),e.elementType=t,e.type=n,e.lanes=l,e}function Va(t,e,a,n){return t=z(7,t,n,e),t.lanes=a,t}function Ps(t,e,a){return t=z(6,t,null,e),t.lanes=a,t}function Fs(t,e,a){return e=z(4,t.children!==null?t.children:[],t.key,e),e.lanes=a,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function N0(t,e,a,n,i,l,M,j){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=qa,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=G(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=G(0),this.hiddenUpdates=G(null),this.identifierPrefix=n,this.onUncaughtError=i,this.onCaughtError=l,this.onRecoverableError=M,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function Yu(t,e,a,n,i,l,M,j,W,et,st,ut){return t=new N0(t,e,a,M,j,W,et,ut),e=1,l===!0&&(e|=24),l=z(3,null,null,e),t.current=l,l.stateNode=t,e=Ye(),e.refCount++,t.pooledCache=e,e.refCount++,l.memoizedState={element:n,isDehydrated:a,cache:e},Zl(l),t}function Ku(t){return t?(t=rn,t):rn}function Xu(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(b(188)):(t=Object.keys(t).join(","),Error(b(268,t)));return t=d(e),t=t!==null?f(t):null,t===null?null:Yn(t.stateNode)}function Qu(t,e,a,n,i,l){i=Ku(i),n.context===null?n.context=i:n.pendingContext=i,n=ga(e),n.payload={element:a},l=l===void 0?null:l,l!==null&&(n.callback=l),a=ma(t,n,e),a!==null&&(Oe(a,t,e),Dn(a,t,e))}function Zu(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<e?a:e}}function Ys(t,e){Zu(t,e),(t=t.alternate)&&Zu(t,e)}var Ct={},A0=h1(),De=Kh(),Ks=Object.assign,M0=Symbol.for("react.element"),fl=Symbol.for("react.transitional.element"),en=Symbol.for("react.portal"),an=Symbol.for("react.fragment"),ku=Symbol.for("react.strict_mode"),Xs=Symbol.for("react.profiler"),R0=Symbol.for("react.provider"),Ju=Symbol.for("react.consumer"),Ca=Symbol.for("react.context"),Qs=Symbol.for("react.forward_ref"),Zs=Symbol.for("react.suspense"),ks=Symbol.for("react.suspense_list"),Js=Symbol.for("react.memo"),Ea=Symbol.for("react.lazy"),Ws=Symbol.for("react.activity"),O0=Symbol.for("react.memo_cache_sentinel"),Wu=Symbol.iterator,D0=Symbol.for("react.client.reference"),gl=Array.isArray,gt=A0.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G0=r.rendererVersion,U0=r.rendererPackageName,Iu=r.extraDevToolsConfig,Yn=r.getPublicInstance,z0=r.getRootHostContext,B0=r.getChildHostContext,H0=r.prepareForCommit,L0=r.resetAfterCommit,V0=r.createInstance;r.cloneMutableInstance;var Is=r.appendInitialChild,$u=r.finalizeInitialChildren,ml=r.shouldSetTextContent,tc=r.createTextInstance;r.cloneMutableTextInstance;var q0=r.scheduleTimeout,j0=r.cancelTimeout,qa=r.noTimeout,na=r.isPrimaryRenderer;r.warnsIfNotActing;var pe=r.supportsMutation,Ta=r.supportsPersistence,Le=r.supportsHydration,w0=r.getInstanceFromNode;r.beforeActiveInstanceBlur;var P0=r.preparePortalMount;r.prepareScopeUpdate,r.getInstanceFromScope;var ie=r.setCurrentUpdatePriority,ia=r.getCurrentUpdatePriority,F0=r.resolveUpdatePriority;r.trackSchedulerEvent,r.resolveEventType,r.resolveEventTimeStamp;var Y0=r.shouldAttemptEagerTransition,K0=r.detachDeletedInstance;r.requestPostPaintCallback;var X0=r.maySuspendCommit,ec=r.preloadInstance,Q0=r.startSuspendingCommit,ac=r.suspendInstance;r.suspendOnActiveViewTransition;var Z0=r.waitForCommitToBeReady,nn=r.NotPendingTransition,ja=r.HostTransitionContext,k0=r.resetFormInstance;r.bindToConsole;var J0=r.supportsMicrotasks,W0=r.scheduleMicrotask,Kn=r.supportsTestSelectors,I0=r.findFiberRoot,$0=r.getBoundingRect,td=r.getTextContent,Xn=r.isHiddenSubtree,ed=r.matchAccessibilityRole,ad=r.setFocusIfFocusable,nd=r.setupIntersectionObserver,id=r.appendChild,ld=r.appendChildToContainer,sd=r.commitTextUpdate,rd=r.commitMount,od=r.commitUpdate,ud=r.insertBefore,cd=r.insertInContainerBefore,hd=r.removeChild,dd=r.removeChildFromContainer,nc=r.resetTextContent,fd=r.hideInstance,gd=r.hideTextInstance,md=r.unhideInstance,pd=r.unhideTextInstance;r.cancelViewTransitionName,r.cancelRootViewTransitionName,r.restoreRootViewTransitionName,r.cloneRootViewTransitionContainer,r.removeRootViewTransitionClone,r.measureClonedInstance,r.hasInstanceChanged,r.hasInstanceAffectedParent,r.startViewTransition,r.startGestureTransition,r.stopGestureTransition,r.getCurrentGestureOffset,r.subscribeToGestureDirection,r.createViewTransitionInstance;var vd=r.clearContainer;r.createFragmentInstance,r.updateFragmentInstanceFiber,r.commitNewChildToFragmentInstance,r.deleteChildFromFragmentInstance;var yd=r.cloneInstance,ic=r.createContainerChildSet,lc=r.appendChildToContainerChildSet,_d=r.finalizeContainerChildren,sc=r.replaceContainerChildren,rc=r.cloneHiddenInstance,oc=r.cloneHiddenTextInstance,$s=r.isSuspenseInstancePending,tr=r.isSuspenseInstanceFallback,Sd=r.getSuspenseInstanceFallbackErrorDetails,bd=r.registerSuspenseInstanceRetry,Cd=r.canHydrateFormStateMarker,Ed=r.isFormStateMarkerMatching,uc=r.getNextHydratableSibling,Td=r.getNextHydratableSiblingAfterSingleton,xd=r.getFirstHydratableChild,Nd=r.getFirstHydratableChildWithinContainer,Ad=r.getFirstHydratableChildWithinSuspenseInstance,Md=r.getFirstHydratableChildWithinSingleton,Rd=r.canHydrateInstance,Od=r.canHydrateTextInstance,Dd=r.canHydrateSuspenseInstance,Gd=r.hydrateInstance,Ud=r.hydrateTextInstance,zd=r.hydrateSuspenseInstance,Bd=r.getNextHydratableInstanceAfterSuspenseInstance,Hd=r.commitHydratedContainer,Ld=r.commitHydratedSuspenseInstance,Vd=r.clearSuspenseBoundary,qd=r.clearSuspenseBoundaryFromContainer,cc=r.shouldDeleteUnhydratedTailInstances;r.diffHydratedPropsForDevWarnings,r.diffHydratedTextForDevWarnings,r.describeHydratableInstanceForDevWarnings;var jd=r.validateHydratableInstance,wd=r.validateHydratableTextInstance,Xe=r.supportsResources,hc=r.isHostHoistableType,er=r.getHoistableRoot,dc=r.getResource,fc=r.acquireResource,gc=r.releaseResource,Pd=r.hydrateHoistable,mc=r.mountHoistable,pc=r.unmountHoistable,Fd=r.createHoistableInstance,Yd=r.prepareToCommitHoistables,Kd=r.mayResourceSuspendCommit,vc=r.preloadResource,Xd=r.suspendResource,$t=r.supportsSingletons,yc=r.resolveSingletonInstance,Qd=r.acquireSingletonInstance,_c=r.releaseSingletonInstance,Sc=r.isHostSingletonType,ln=r.isSingletonScope,ar=[],sn=-1,rn={},Ge=Math.clz32?Math.clz32:S,Zd=Math.log,kd=Math.LN2,pl=256,vl=4194304,yl=De.unstable_scheduleCallback,nr=De.unstable_cancelCallback,Jd=De.unstable_shouldYield,Wd=De.unstable_requestPaint,Qe=De.unstable_now,bc=De.unstable_ImmediatePriority,Id=De.unstable_UserBlockingPriority,ir=De.unstable_NormalPriority,$d=De.unstable_IdlePriority,t1=De.log,e1=De.unstable_setDisableYieldValue,Qn=null,Ue=null,lr,Cc,sr=!1,Ec=new WeakMap,on=[],un=0,_l=null,Sl=0,Ve=[],qe=0,wa=null,la=1,sa="",fe=v(null),Zn=v(null),xa=v(null),bl=v(null),ye=null,te=null,Gt=!1,Pa=null,We=!1,rr=Error(b(519)),ze=typeof Object.is=="function"?Object.is:Ot,Cl=v(null),Fa=null,ra=null,a1=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(a,n){t.push(n)}};this.abort=function(){e.aborted=!0,t.forEach(function(a){return a()})}},n1=De.unstable_scheduleCallback,i1=De.unstable_NormalPriority,Pt={$$typeof:Ca,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},El=null,cn=null,or=!1,Tl=!1,ur=!1,hn=0,kn=null,cr=0,dn=0,fn=null,Tc=gt.S;gt.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&Kl(t,e),Tc!==null&&Tc(t,e)};var Ya=v(null),l1=Object.prototype.hasOwnProperty,Jn=Error(b(460)),hr=Error(b(474)),xl=Error(b(542)),Nl={then:function(){}},gn=null,je=[],mn=0,dr=0,Na=!1,fr=!1,pn=v(null),Al=v(0),Aa=0,St=null,Bt=null,Jt=null,Ml=!1,vn=!1,Ka=!1,Rl=0,Wn=0,yn=null,s1=0,Ol={readContext:yt,use:Wi,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useLayoutEffect:Kt,useInsertionEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useSyncExternalStore:Kt,useId:Kt,useHostTransitionStatus:Kt,useFormState:Kt,useActionState:Kt,useOptimistic:Kt,useMemoCache:Kt,useCacheRefresh:Kt},xc={readContext:yt,use:Wi,useCallback:function(t,e){return _e().memoizedState=[t,e===void 0?null:e],t},useContext:yt,useEffect:So,useImperativeHandle:function(t,e,a){a=a!=null?a.concat([t]):null,tl(4194308,4,To.bind(null,e,t),a)},useLayoutEffect:function(t,e){return tl(4194308,4,t,e)},useInsertionEffect:function(t,e){tl(4,2,t,e)},useMemo:function(t,e){var a=_e();e=e===void 0?null:e;var n=t();if(Ka){K(!0);try{t()}finally{K(!1)}}return a.memoizedState=[n,e],n},useReducer:function(t,e,a){var n=_e();if(a!==void 0){var i=a(e);if(Ka){K(!0);try{a(e)}finally{K(!1)}}}else i=e;return n.memoizedState=n.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},n.queue=t,t=t.dispatch=c0.bind(null,St,t),[n.memoizedState,t]},useRef:function(t){var e=_e();return t={current:t},e.memoizedState=t},useState:function(t){t=os(t);var e=t.queue,a=Uo.bind(null,St,e);return e.dispatch=a,[t.memoizedState,a]},useDebugValue:cs,useDeferredValue:function(t,e){var a=_e();return hs(a,t,e)},useTransition:function(){var t=os(!1);return t=Ro.bind(null,St,t.queue,!0,!1),_e().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,a){var n=St,i=_e();if(Gt){if(a===void 0)throw Error(b(407));a=a()}else{if(a=e(),Lt===null)throw Error(b(349));(At&124)!==0||no(n,e,a)}i.memoizedState=a;var l={value:a,getSnapshot:e};return i.queue=l,So(lo.bind(null,n,l,t),[t]),n.flags|=2048,Wa(9,$i(),io.bind(null,n,l,a,e),null),a},useId:function(){var t=_e(),e=Lt.identifierPrefix;if(Gt){var a=sa,n=la;a=(n&~(1<<32-Ge(n)-1)).toString(32)+a,e=""+e+"R"+a,a=Rl++,0<a&&(e+="H"+a.toString(32)),e+=""}else a=s1++,e=""+e+"r"+a.toString(32)+"";return t.memoizedState=e},useHostTransitionStatus:ds,useFormState:mo,useActionState:mo,useOptimistic:function(t){var e=_e();e.memoizedState=e.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=a,e=fs.bind(null,St,!0,a),a.dispatch=e,[t,e]},useMemoCache:ls,useCacheRefresh:function(){return _e().memoizedState=u0.bind(null,St)}},Nc={readContext:yt,use:Wi,useCallback:No,useContext:yt,useEffect:bo,useImperativeHandle:xo,useInsertionEffect:Co,useLayoutEffect:Eo,useMemo:Ao,useReducer:Ii,useRef:_o,useState:function(){return Ii($e)},useDebugValue:cs,useDeferredValue:function(t,e){var a=kt();return Mo(a,Bt.memoizedState,t,e)},useTransition:function(){var t=Ii($e)[0],e=kt().memoizedState;return[typeof t=="boolean"?t:zn(t),e]},useSyncExternalStore:ao,useId:Do,useHostTransitionStatus:ds,useFormState:po,useActionState:po,useOptimistic:function(t,e){var a=kt();return oo(a,Bt,t,e)},useMemoCache:ls,useCacheRefresh:Go},r1={readContext:yt,use:Wi,useCallback:No,useContext:yt,useEffect:bo,useImperativeHandle:xo,useInsertionEffect:Co,useLayoutEffect:Eo,useMemo:Ao,useReducer:rs,useRef:_o,useState:function(){return rs($e)},useDebugValue:cs,useDeferredValue:function(t,e){var a=kt();return Bt===null?hs(a,t,e):Mo(a,Bt.memoizedState,t,e)},useTransition:function(){var t=rs($e)[0],e=kt().memoizedState;return[typeof t=="boolean"?t:zn(t),e]},useSyncExternalStore:ao,useId:Do,useHostTransitionStatus:ds,useFormState:yo,useActionState:yo,useOptimistic:function(t,e){var a=kt();return Bt!==null?oo(a,Bt,t,e):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:ls,useCacheRefresh:Go},_n=null,In=0,Sn=Lo(!0),Ac=Lo(!1),we=v(null),Ie=null,ee=v(0),gr={enqueueSetState:function(t,e,a){t=t._reactInternals;var n=Re(),i=ga(n);i.payload=e,a!=null&&(i.callback=a),e=ma(t,i,n),e!==null&&(Oe(e,t,n),Dn(e,t,n))},enqueueReplaceState:function(t,e,a){t=t._reactInternals;var n=Re(),i=ga(n);i.tag=1,i.payload=e,a!=null&&(i.callback=a),e=ma(t,i,n),e!==null&&(Oe(e,t,n),Dn(e,t,n))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var a=Re(),n=ga(a);n.tag=2,e!=null&&(n.callback=e),e=ma(t,n,a),e!==null&&(Oe(e,t,a),Dn(e,t,a))}},Mc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Rc=Error(b(461)),le=!1,mr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null},oa=!1,Xt=!1,pr=!1,Oc=typeof WeakSet=="function"?WeakSet:Set,se=null,Wt=null,be=!1,Ze=null,bn=8192,o1={getCacheForType:function(t){var e=yt(Pt),a=e.data.get(t);return a===void 0&&(a=t(),e.data.set(t,a)),a}},Dl=0,Gl=1,Ul=2,zl=3,Bl=4;if(typeof Symbol=="function"&&Symbol.for){var $n=Symbol.for;Dl=$n("selector.component"),Gl=$n("selector.has_pseudo_class"),Ul=$n("selector.role"),zl=$n("selector.test_id"),Bl=$n("selector.text")}var u1=typeof WeakMap=="function"?WeakMap:Map,Nt=0,Lt=null,Et=null,At=0,zt=0,Be=null,Ma=!1,Cn=!1,vr=!1,ua=0,Ft=0,Ra=0,Xa=0,yr=0,Pe=0,En=0,ti=null,Ce=null,_r=!1,Sr=0,ei=1/0,Hl=null,Oa=null,ge=0,Da=null,Tn=null,xn=0,br=0,Cr=null,Dc=null,ai=0,Er=null;return Ct.attemptContinuousHydration=function(t){if(t.tag===13){var e=Ja(t,67108864);e!==null&&Oe(e,t,67108864),Ys(t,67108864)}},Ct.attemptHydrationAtCurrentPriority=function(t){if(t.tag===13){var e=Re();e=q(e);var a=Ja(t,e);a!==null&&Oe(a,t,e),Ys(t,e)}},Ct.attemptSynchronousHydration=function(t){switch(t.tag){case 3:if(t=t.stateNode,t.current.memoizedState.isDehydrated){var e=x(t.pendingLanes);if(e!==0){for(t.pendingLanes|=2,t.entangledLanes|=2;e;){var a=1<<31-Ge(e);t.entanglements[1]|=a,e&=~a}It(t),(Nt&6)===0&&(ei=Qe()+500,ne(0))}}break;case 13:e=Ja(t,2),e!==null&&Oe(e,t,2),Au(),Ys(t,2)}},Ct.batchedUpdates=function(t,e){return t(e)},Ct.createComponentSelector=function(t){return{$$typeof:Dl,value:t}},Ct.createContainer=function(t,e,a,n,i,l,M,j,W,et){return Yu(t,e,!1,null,a,n,l,M,j,W,et,null)},Ct.createHasPseudoClassSelector=function(t){return{$$typeof:Gl,value:t}},Ct.createHydrationContainer=function(t,e,a,n,i,l,M,j,W,et,st,ut,ct){return t=Yu(a,n,!0,t,i,l,j,W,et,st,ut,ct),t.context=Ku(null),a=t.current,n=Re(),n=q(n),i=ga(n),i.callback=e??null,ma(a,i,n),e=n,t.current.lanes=e,w(t,e),It(t),t},Ct.createPortal=function(t,e,a){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:en,key:n==null?null:""+n,children:t,containerInfo:e,implementation:a}},Ct.createRoleSelector=function(t){return{$$typeof:Ul,value:t}},Ct.createTestNameSelector=function(t){return{$$typeof:zl,value:t}},Ct.createTextSelector=function(t){return{$$typeof:Bl,value:t}},Ct.defaultOnCaughtError=function(t){console.error(t)},Ct.defaultOnRecoverableError=function(t){Mc(t)},Ct.defaultOnUncaughtError=function(t){Mc(t)},Ct.deferredUpdates=function(t){var e=gt.T,a=ia();try{return ie(32),gt.T=null,t()}finally{ie(a),gt.T=e}},Ct.discreteUpdates=function(t,e,a,n,i){var l=gt.T,M=ia();try{return ie(2),gt.T=null,t(e,a,n,i)}finally{ie(M),gt.T=l,Nt===0&&(ei=Qe()+500)}},Ct.findAllNodes=Hs,Ct.findBoundingRects=function(t,e){if(!Kn)throw Error(b(363));e=Hs(t,e),t=[];for(var a=0;a<e.length;a++)t.push($0(e[a]));for(e=t.length-1;0<e;e--){a=t[e];for(var n=a.x,i=n+a.width,l=a.y,M=l+a.height,j=e-1;0<=j;j--)if(e!==j){var W=t[j],et=W.x,st=et+W.width,ut=W.y,ct=ut+W.height;if(n>=et&&l>=ut&&i<=st&&M<=ct){t.splice(e,1);break}else if(n!==et||a.width!==W.width||ct<l||ut>M){if(!(l!==ut||a.height!==W.height||st<n||et>i)){et>n&&(W.width+=et-n,W.x=n),st<i&&(W.width=i-et),t.splice(e,1);break}}else{ut>l&&(W.height+=ut-l,W.y=l),ct<M&&(W.height=M-ut),t.splice(e,1);break}}}return t},Ct.findHostInstance=Xu,Ct.findHostInstanceWithNoPortals=function(t){return t=d(t),t=t!==null?p(t):null,t===null?null:Yn(t.stateNode)},Ct.findHostInstanceWithWarning=function(t){return Xu(t)},Ct.flushPassiveEffects=Fn,Ct.flushSyncFromReconciler=function(t){var e=Nt;Nt|=1;var a=gt.T,n=ia();try{if(ie(2),gt.T=null,t)return t()}finally{ie(n),gt.T=a,Nt=e,(Nt&6)===0&&ne(0)}},Ct.flushSyncWork=Au,Ct.focusWithin=function(t,e){if(!Kn)throw Error(b(363));for(t=Us(t),e=Eu(t,e),e=Array.from(e),t=0;t<e.length;){var a=e[t++],n=a.tag;if(!Xn(a)){if((n===5||n===26||n===27)&&ad(a.stateNode))return!0;for(a=a.child;a!==null;)e.push(a),a=a.sibling}}return!1},Ct.getFindAllNodesFailureDescription=function(t,e){if(!Kn)throw Error(b(363));var a=0,n=[];t=[Us(t),0];for(var i=0;i<t.length;){var l=t[i++],M=l.tag,j=t[i++],W=e[j];if((M!==5&&M!==26&&M!==27||!Xn(l))&&(zs(l,W)&&(n.push(Bs(W)),j++,j>a&&(a=j)),j<e.length))for(l=l.child;l!==null;)t.push(l,j),l=l.sibling}if(a<e.length){for(t=[];a<e.length;a++)t.push(Bs(e[a]));return`findAllNodes was able to match part of the selector:
  `+(n.join(" > ")+`

No matching component was found for:
  `)+t.join(" > ")}return null},Ct.getPublicRootInstance=function(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 27:case 5:return Yn(t.child.stateNode);default:return t.child.stateNode}},Ct.injectIntoDevTools=function(){var t={bundleType:0,version:G0,rendererPackageName:U0,currentDispatcherRef:gt,reconcilerVersion:"19.1.0"};if(Iu!==null&&(t.rendererConfig=Iu),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")t=!1;else{var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)t=!0;else{try{Qn=e.inject(t),Ue=e}catch{}t=!!e.checkDCE}}return t},Ct.isAlreadyRendering=function(){return(Nt&6)!==0},Ct.observeVisibleRects=function(t,e,a,n){if(!Kn)throw Error(b(363));t=Hs(t,e);var i=nd(t,a,n).disconnect;return{disconnect:function(){i()}}},Ct.shouldError=function(){return null},Ct.shouldSuspend=function(){return!1},Ct.startHostTransition=function(t,e,a,n){if(t.tag!==5)throw Error(b(476));var i=Oo(t).queue;Ro(t,i,e,nn,a===null?U:function(){var l=Oo(t).next.queue;return Hn(t,l,{},Re()),a(n)})},Ct.updateContainer=function(t,e,a,n){var i=e.current,l=Re();return Qu(i,l,t,e,a,n),l},Ct.updateContainerSync=function(t,e,a,n){return Qu(e.current,2,t,e,a,n),2},Ct},h.exports.default=h.exports,Object.defineProperty(h.exports,"__esModule",{value:!0})}(zr)),zr.exports}var Vh;function ef(){return Vh||(Vh=1,Ur.exports=tf()),Ur.exports}var af=ef();const nf=Yh(af);var Br={exports:{}},da={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qh;function lf(){return qh||(qh=1,da.ConcurrentRoot=1,da.ContinuousEventPriority=8,da.DefaultEventPriority=32,da.DiscreteEventPriority=2,da.IdleEventPriority=268435456,da.LegacyRoot=0,da.NoEventPriority=0),da}var jh;function sf(){return jh||(jh=1,Br.exports=lf()),Br.exports}var Fl=sf(),rf=bt();const wh={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let Ph=!1,Fh=!1;const jl=".react-konva-event",of=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,uf=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,cf={};function Yl(h,r,z=cf){if(!Ph&&"zIndex"in r&&(console.warn(uf),Ph=!0),!Fh&&r.draggable){var U=r.x!==void 0||r.y!==void 0,b=r.onDragEnd||r.onDragMove;U&&!b&&(console.warn(of),Fh=!0)}for(var _ in z)if(!wh[_]){var g=_.slice(0,2)==="on",d=z[_]!==r[_];if(g&&d){var f=_.substr(2).toLowerCase();f.substr(0,7)==="content"&&(f="content"+f.substr(7,1).toUpperCase()+f.substr(8)),h.off(f,z[_])}var p=!r.hasOwnProperty(_);p&&h.setAttr(_,void 0)}var m=r._useStrictMode,T={},v=!1;const u={};for(var _ in r)if(!wh[_]){var g=_.slice(0,2)==="on",o=z[_]!==r[_];if(g&&o){var f=_.substr(2).toLowerCase();f.substr(0,7)==="content"&&(f="content"+f.substr(7,1).toUpperCase()+f.substr(8)),r[_]&&(u[f]=r[_])}!g&&(r[_]!==z[_]||m&&r[_]!==h.getAttr(_))&&(v=!0,T[_]=r[_])}v&&(h.setAttrs(T),za(h));for(var f in u)h.off(f+jl),h.on(f+jl,u[f])}function za(h){if(!rf.Konva.autoDrawEnabled){var r=h.getLayer()||h.getStage();r&&r.batchDraw()}}var Hr=Kh();const $h={},hf={};ql.Node.prototype._applyProps=Yl;let t0=Fl.DefaultEventPriority;function df(h,r){if(typeof r=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${r}`);return}h.add(r),za(h)}function ff(h,r,z){let U=ql[h];U||(console.error(`Konva has no node with the type ${h}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${h}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),U=ql.Group);const b={},_={};for(var g in r)if(g!=="ref"){var d=g.slice(0,2)==="on";d?_[g]=r[g]:b[g]=r[g]}const f=new U(b);return Yl(f,_),f}function gf(h,r,z){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${h}"`)}function mf(h,r,z){return!1}function pf(h){return h}function vf(){return null}function yf(){return null}function _f(h,r,z,U){return hf}function Sf(){}function bf(h){}function Cf(h,r){return!1}function Ef(){return $h}function Tf(){return $h}const xf=setTimeout,Nf=clearTimeout,Af=!0,Mf=h=>{h()},Rf=-1;function Of(h,r){return!1}const Df=!1,Gf=!1,Uf=!0,zf=!1,Bf=!1;function Hf(h,r){r.parent===h?r.moveToTop():h.add(r),za(h)}function Lf(h,r){r.parent===h?r.moveToTop():h.add(r),za(h)}function e0(h,r,z){r._remove(),h.add(r),r.setZIndex(z.getZIndex()),za(h)}function Vf(h,r,z){e0(h,r,z)}function qf(h,r){r.destroy(),r.off(jl),za(h)}function jf(h,r){r.destroy(),r.off(jl),za(h)}function wf(h,r,z){console.error(`Text components are not yet supported in ReactKonva. You text is: "${z}"`)}function Pf(h,r,z){}function Ff(h,r,z,U){Yl(h,U,z)}function Yf(h){h.hide(),za(h)}function Kf(h){}function Xf(h,r){(r.visible==null||r.visible)&&h.show()}function Qf(h,r){}function Zf(h){}function kf(){}function Jf(){return Fl.DefaultEventPriority}function Wf(){}function If(){return null}function $f(h){t0=h}function t2(){return t0}function e2(){return Fl.DiscreteEventPriority}function a2(){return!1}function n2(){}function i2(){return!1}function l2(){return!0}function s2(){}function r2(){}function o2(){return null}const u2=null;function c2(){}const h2=Object.freeze(Object.defineProperty({__proto__:null,NotPendingTransition:u2,appendChild:Hf,appendChildToContainer:Lf,appendInitialChild:df,cancelTimeout:Nf,clearContainer:Zf,commitMount:Pf,commitTextUpdate:wf,commitUpdate:Ff,createInstance:ff,createTextInstance:gf,detachDeletedInstance:kf,finalizeInitialChildren:mf,getChildHostContext:Tf,getCurrentEventPriority:Jf,getCurrentUpdatePriority:t2,getInstanceFromScope:If,getPublicInstance:pf,getRootHostContext:Ef,hideInstance:Yf,hideTextInstance:Kf,idlePriority:Hr.unstable_IdlePriority,insertBefore:e0,insertInContainerBefore:Vf,isPrimaryRenderer:Df,maySuspendCommit:i2,noTimeout:Rf,now:Hr.unstable_now,preloadInstance:l2,prepareForCommit:vf,preparePortalMount:yf,prepareScopeUpdate:Wf,prepareUpdate:_f,removeChild:qf,removeChildFromContainer:jf,requestPostPaintCallback:n2,resetAfterCommit:Sf,resetFormInstance:c2,resetTextContent:bf,resolveUpdatePriority:e2,run:Hr.unstable_runWithPriority,scheduleMicrotask:Mf,scheduleTimeout:xf,setCurrentUpdatePriority:$f,shouldAttemptEagerTransition:a2,shouldDeprioritizeSubtree:Cf,shouldSetTextContent:Of,startSuspendingCommit:s2,supportsHydration:Bf,supportsMicrotasks:Af,supportsMutation:Uf,supportsPersistence:zf,suspendInstance:r2,unhideInstance:Xf,unhideTextInstance:Qf,waitForCommitToBeReady:o2,warnsIfNotActing:Gf},Symbol.toStringTag,{value:"Module"}));function a0(h,r,z){if(!h)return;if(z(h)===!0)return h;let U=h.child;for(;U;){const b=a0(U,r,z);if(b)return b;U=U.sibling}}function n0(h){try{return Object.defineProperties(h,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return h}}const Fr=n0(jt.createContext(null));class i0 extends jt.Component{render(){return jt.createElement(Fr.Provider,{value:this._reactInternals},this.props.children)}}function d2(){const h=jt.useContext(Fr);if(h===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const r=jt.useId();return jt.useMemo(()=>{for(const z of[h,h?.alternate]){if(!z)continue;const U=a0(z,!1,b=>{let _=b.memoizedState;for(;_;){if(_.memoizedState===r)return!0;_=_.next}});if(U)return U}},[h,r])}const f2=Symbol.for("react.context"),g2=h=>h!==null&&typeof h=="object"&&"$$typeof"in h&&h.$$typeof===f2;function m2(){const h=d2(),[r]=jt.useState(()=>new Map);r.clear();let z=h;for(;z;){const U=z.type;g2(U)&&U!==Fr&&!r.has(U)&&r.set(U,jt.use(n0(U))),z=z.return}return r}function p2(){const h=m2();return jt.useMemo(()=>Array.from(h.keys()).reduce((r,z)=>U=>jt.createElement(r,null,jt.createElement(z.Provider,{...U,value:h.get(z)})),r=>jt.createElement(i0,{...r})),[h])}if(ae.version.indexOf("19")===-1)throw new Error("react-konva version 19 is only compatible with React 19. Make sure to have the last version of react-konva and react or downgrade react-konva to version 18.");function v2(h){const r=ae.useRef({});return ae.useLayoutEffect(()=>{r.current=h}),ae.useLayoutEffect(()=>()=>{r.current={}},[]),r.current}const y2=()=>{const h=ae.useRef(0);return ae.useMemo(()=>{h.current++},[]),h.current>1},_2=h=>{const r=ae.useRef(null),z=ae.useRef(null),U=ae.useRef(null),b=v2(h),_=p2(),g=ae.useRef(!1),d=p=>{const{forwardedRef:m}=h;m&&(typeof m=="function"?m(p):m.current=p)},f=y2();return ae.useLayoutEffect(()=>g.current&&f?()=>{g.current=!1,d(null),Mn.updateContainer(null,U.current,null),z.current.destroy()}:(g.current=!0,z.current=new ql.Stage({width:h.width,height:h.height,container:r.current}),d(z.current),U.current=Mn.createContainer(z.current,Fl.ConcurrentRoot,null,!1,null,"",console.error,console.error,console.error,null),Mn.updateContainer(ae.createElement(_,{},h.children),U.current,null,()=>{}),()=>{f||(d(null),Mn.updateContainer(null,U.current,null),z.current.destroy())}),[]),ae.useLayoutEffect(()=>{d(z.current),Yl(z.current,h,b),Mn.updateContainer(ae.createElement(_,{},h.children),U.current,null)}),ae.createElement("div",{ref:r,id:h.id,accessKey:h.accessKey,className:h.className,role:h.role,style:h.style,tabIndex:h.tabIndex,title:h.title})},S2="Layer",b2="Line",C2="Text",Mn=nf(h2);Mn.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:ae.version,rendererPackageName:"react-konva"});const E2=ae.forwardRef((h,r)=>ae.createElement(i0,{},ae.createElement(_2,{...h,forwardedRef:r})));function X2(){const[h,r]=jt.useState("pen"),[z,U]=jt.useState([]),[b,_]=jt.useState([]),[g,d]=jt.useState({width:800,height:450}),[f,p]=jt.useState(1),[m,T]=jt.useState({x:0,y:0}),[v,u]=jt.useState(null),[o,S]=jt.useState(!1),[x,D]=jt.useState(.5),c=jt.useRef(!1),s=jt.useRef(null),y=jt.useRef(null);jt.useEffect(()=>{const B=()=>{const Z=Math.min(window.innerWidth*.9,800),F=16/9;d({width:Z,height:Z/F})};return B(),window.addEventListener("resize",B),()=>window.removeEventListener("resize",B)},[]);const E=B=>{if(h==="zoom")return;c.current=!0;const F=B.target.getStage().getPointerPosition(),tt={x:(F.x-m.x)/f,y:(F.y-m.y)/f};_([]),U([...z,{tool:h,points:[tt.x,tt.y]}])},G=B=>{if(!c.current||h==="zoom")return;const F=B.target.getStage().getPointerPosition(),tt={x:(F.x-m.x)/f,y:(F.y-m.y)/f};let lt=z[z.length-1];lt.points=lt.points.concat([tt.x,tt.y]);const I=[...z];I[I.length-1]=lt,U(I)},w=()=>{c.current=!1},N=B=>{B.evt.preventDefault();const Z=1.1,F=B.target.getStage(),tt=F.scaleX(),lt=F.getPointerPosition(),I={x:(lt.x-F.x())/tt,y:(lt.y-F.y())/tt};let H=B.evt.deltaY>0?1:-1;B.evt.ctrlKey&&(H=-H);const k=H>0?tt*Z:tt/Z,it=Math.max(.1,Math.min(k,5));p(it);const rt={x:lt.x-I.x*it,y:lt.y-I.y*it};T(rt)},A=B=>{r(B)},R=()=>{if(z.length===0)return;const B=[...z],Z=B.pop();Z&&_([...b,[Z]]),U(B)},q=()=>{if(b.length===0)return;const B=[...b],Z=B.pop();Z&&Z.length>0&&U([...z,...Z]),_(B)},P=()=>{const B=Math.min(f*1.2,5);p(B)},K=()=>{const B=Math.max(f/1.2,.1);p(B)},Q=()=>{p(1),T({x:0,y:0})},Y=()=>{z.length>0&&(_([]),U([]))},at=()=>{console.log("Drawing finished")},C=B=>{const Z=B.target.files?.[0];if(Z){const F=new FileReader;F.onload=tt=>{u(tt.target?.result),S(!0)},F.readAsDataURL(Z)}},O=()=>{y.current?.click()},V=()=>{S(!o)},L=B=>{D(parseFloat(B.target.value))};return ot.jsx(d1,{children:ot.jsxs("div",{className:"mx-auto mt-12 flex w-full max-w-7xl flex-col gap-4",children:[ot.jsx("div",{className:"justify-start self-stretch text-2xl font-bold text-black",children:"SELAMAT DATANG DI RUANGAN BATIK"}),ot.jsx("div",{className:"max-w-3xl justify-start self-stretch text-sm font-normal text-black",children:'Melangkahlah masuk ke dalam dunia di mana setiap goresan memiliki cerita dan setiap warna menyimpan makna. "Ruangan Batik" ini kami persembahkan sebagai jendela untuk mengagumi kekayaan warisan budaya Indonesia.'}),ot.jsx("div",{className:"inline-flex h-10 max-w-3xl flex-col items-start justify-between",children:ot.jsxs("div",{className:"inline-flex items-center justify-between self-stretch overflow-hidden rounded-lg bg-gradient-to-b from-[#955932] from-100% p-2",children:[ot.jsxs("div",{className:"flex items-center justify-start gap-2",children:[ot.jsx("button",{className:"flex items-center justify-start gap-2.5 rounded-md bg-[#fcedd5] p-1 transition-colors hover:bg-[#f5e4c7] disabled:opacity-50",onClick:R,disabled:z.length===0,title:"Undo",children:ot.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:ot.jsx("path",{d:"M5.99996 9.33341L2.66663 6.00008M2.66663 6.00008L5.99996 2.66675M2.66663 6.00008H9.66663C10.1481 6.00008 10.6249 6.09492 11.0698 6.27919C11.5147 6.46346 11.9189 6.73354 12.2594 7.07402C12.5998 7.4145 12.8699 7.81871 13.0542 8.26357C13.2385 8.70844 13.3333 9.18523 13.3333 9.66675C13.3333 10.1483 13.2385 10.6251 13.0542 11.0699C12.8699 11.5148 12.5998 11.919 12.2594 12.2595C11.9189 12.6 11.5147 12.87 11.0698 13.0543C10.6249 13.2386 10.1481 13.3334 9.66663 13.3334H7.33329",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),ot.jsx("button",{className:"flex items-center justify-start gap-2.5 rounded-md bg-[#fcedd5] p-1 transition-colors hover:bg-[#f5e4c7] disabled:opacity-50",onClick:q,disabled:b.length===0,title:"Redo",children:ot.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:ot.jsx("path",{d:"M9.99996 9.33341L13.3333 6.00008M13.3333 6.00008L9.99996 2.66675M13.3333 6.00008H6.33329C5.36083 6.00008 4.4282 6.38639 3.74057 7.07402C3.05293 7.76166 2.66663 8.69429 2.66663 9.66675C2.66663 10.1483 2.76147 10.6251 2.94573 11.0699C3.13 11.5148 3.40009 11.919 3.74057 12.2595C4.4282 12.9471 5.36083 13.3334 6.33329 13.3334H8.66663",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),ot.jsx("div",{children:ot.jsx("svg",{width:"2",height:"24",viewBox:"0 0 2 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:ot.jsx("rect",{width:"2",height:"24",rx:"1",fill:"#FCEDD5"})})}),ot.jsx("button",{className:"flex items-center justify-start gap-2.5 rounded-md bg-[#fcedd5] p-1 transition-colors hover:bg-[#f5e4c7]",onClick:O,title:"Upload Reference Image",children:ot.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:ot.jsx("path",{d:"M14 10v3a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1v-3M12 5l-4-4-4 4M8 1v9",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),v&&ot.jsx("button",{className:`flex items-center justify-start gap-2.5 rounded-md p-1 transition-colors ${o?"bg-[#d4c4a8]":"bg-[#fcedd5] hover:bg-[#f5e4c7]"}`,onClick:V,title:"Toggle Reference Visibility",children:ot.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o?ot.jsx("path",{d:"M1 1l14 14M10.5 10.5A3 3 0 0 1 5.5 5.5m4 4L1 1m9.5 9.5L15 15M8 3a5 5 0 0 1 5 5",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}):ot.jsx("path",{d:"M1 12s4-8 7-8 7 8 7 8-4 8-7 8-7-8-7-8z M8 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2z",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),ot.jsx("div",{children:ot.jsx("svg",{width:"2",height:"24",viewBox:"0 0 2 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:ot.jsx("rect",{width:"2",height:"24",rx:"1",fill:"#FCEDD5"})})}),ot.jsx("button",{className:"flex items-center justify-start gap-2.5 rounded-md bg-[#fcedd5] p-1 transition-colors hover:bg-[#f5e4c7]",onClick:Y,title:"Clear All",children:ot.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:ot.jsx("path",{d:"M2 8C2 9.18669 2.35189 10.3467 3.01118 11.3334C3.67047 12.3201 4.60754 13.0892 5.7039 13.5433C6.80026 13.9974 8.00666 14.1162 9.17054 13.8847C10.3344 13.6532 11.4035 13.0818 12.2426 12.2426C13.0818 11.4035 13.6532 10.3344 13.8847 9.17054C14.1162 8.00666 13.9974 6.80026 13.5433 5.7039C13.0892 4.60754 12.3201 3.67047 11.3334 3.01118C10.3467 2.35189 9.18669 2 8 2C6.32263 2.00631 4.71265 2.66082 3.50667 3.82667L2 5.33333M2 5.33333V2M2 5.33333H5.33333",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),ot.jsx("div",{children:ot.jsx("svg",{width:"2",height:"24",viewBox:"0 0 2 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:ot.jsx("rect",{width:"2",height:"24",rx:"1",fill:"#FCEDD5"})})}),ot.jsx("button",{className:"flex items-center justify-start gap-2.5 rounded-md bg-[#fcedd5] p-1 transition-colors hover:bg-[#f5e4c7]",onClick:P,title:"Zoom In",children:ot.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[ot.jsx("circle",{cx:"7.5",cy:"7.5",r:"5.5",stroke:"black",strokeWidth:"2"}),ot.jsx("path",{d:"M5.5 7.5h4M7.5 5.5v4",stroke:"black",strokeWidth:"2",strokeLinecap:"round"}),ot.jsx("path",{d:"M13 13l-2.5-2.5",stroke:"black",strokeWidth:"2",strokeLinecap:"round"})]})}),ot.jsx("button",{className:"flex items-center justify-start gap-2.5 rounded-md bg-[#fcedd5] p-1 transition-colors hover:bg-[#f5e4c7]",onClick:K,title:"Zoom Out",children:ot.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[ot.jsx("circle",{cx:"7.5",cy:"7.5",r:"5.5",stroke:"black",strokeWidth:"2"}),ot.jsx("path",{d:"M5.5 7.5h4",stroke:"black",strokeWidth:"2",strokeLinecap:"round"}),ot.jsx("path",{d:"M13 13l-2.5-2.5",stroke:"black",strokeWidth:"2",strokeLinecap:"round"})]})}),ot.jsx("button",{className:`flex items-center justify-start gap-2.5 rounded-md p-1 transition-colors ${h==="zoom"?"bg-[#d4c4a8]":"bg-[#fcedd5] hover:bg-[#f5e4c7]"}`,onClick:()=>A("zoom"),title:"Zoom/Pan Tool",children:ot.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[ot.jsx("circle",{cx:"7.5",cy:"7.5",r:"5.5",stroke:"black",strokeWidth:"2"}),ot.jsx("path",{d:"M13 13l-2.5-2.5",stroke:"black",strokeWidth:"2",strokeLinecap:"round"})]})}),ot.jsx("button",{className:"flex items-center justify-start gap-2.5 rounded-md bg-[#fcedd5] p-1 transition-colors hover:bg-[#f5e4c7]",onClick:Q,title:"Reset Zoom",children:ot.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[ot.jsx("path",{d:"M8 1v6l2-2m-2 2L6 5",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),ot.jsx("path",{d:"M3 9a5 5 0 1 0 10 0",stroke:"black",strokeWidth:"2",strokeLinecap:"round"})]})}),ot.jsx("div",{children:ot.jsx("svg",{width:"2",height:"24",viewBox:"0 0 2 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:ot.jsx("rect",{width:"2",height:"24",rx:"1",fill:"#FCEDD5"})})}),ot.jsx("button",{className:`flex items-center justify-start gap-2.5 rounded-md p-1 transition-colors ${h==="eraser"?"bg-[#d4c4a8]":"bg-[#fcedd5] hover:bg-[#f5e4c7]"}`,onClick:()=>A("eraser"),title:"Eraser",children:ot.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:ot.jsx("path",{d:"M8.66659 13.9999L14.1999 8.46655C14.8666 7.86655 14.8666 6.86655 14.1999 6.19989L10.4666 2.46655C9.86659 1.79989 8.86659 1.79989 8.19993 2.46655L1.79993 8.86655C1.13326 9.46655 1.13326 10.4666 1.79993 11.1332L4.66659 13.9999L14.6666 13.9999M3.33329 7.33325L9.33329 13.3333",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),ot.jsx("button",{className:`flex items-center justify-start gap-2.5 rounded-md p-1 transition-colors ${h==="pen"?"bg-[#d4c4a8]":"bg-[#fcedd5] hover:bg-[#f5e4c7]"}`,onClick:()=>A("pen"),title:"Pen",children:ot.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:ot.jsx("path",{d:"M4.94272 8.66675H3.33338C3.15657 8.66675 2.987 8.73699 2.86198 8.86201C2.73695 8.98703 2.66672 9.1566 2.66672 9.33341V14.6667L13.58 3.75341C13.8453 3.4882 13.9943 3.12849 13.9943 2.75341C13.9943 2.37834 13.8453 2.01863 13.58 1.75341C13.3148 1.4882 12.9551 1.3392 12.58 1.3392C12.205 1.3392 11.8453 1.4882 11.58 1.75341L5.13805 8.19541C5.01307 8.32043 4.94272 8.48997 4.94272 8.66675ZM4.94272 8.66675C4.94272 8.84352 5.01307 9.01306 5.13805 9.13808L6.66672 10.6667",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),ot.jsx("button",{className:`flex items-center justify-start gap-2.5 rounded-md p-1 transition-colors ${h==="brush"?"bg-[#d4c4a8]":"bg-[#fcedd5] hover:bg-[#f5e4c7]"}`,onClick:()=>A("brush"),title:"Brush",children:ot.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:ot.jsx("path",{d:"M4.66666 2.3334C7.99999 1.00007 9.33332 4.00007 6.66665 5.00007C0.999989 6.66674 1.33332 10.0001 3.33332 10.6667C6.66665 12.0001 9.33332 4.00007 12.6667 6.00007C16 8.00007 13 15.0001 9.99999 14.0001C6.66665 12.3334 10.3333 6.66674 14 12.6667",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),ot.jsx("button",{className:"flex h-6 items-center justify-start gap-2.5 rounded-md bg-[#fcedd5] px-3 py-1 transition-colors hover:bg-[#f5e4c7]",onClick:at,children:ot.jsx("div",{className:"justify-start font-['Anek_Latin'] text-sm font-semibold text-black",children:"SELESAI"})})]})}),ot.jsxs("div",{className:"relative flex aspect-16/9 w-full max-w-3xl items-center justify-center overflow-hidden border border-black bg-white",children:[ot.jsx(E2,{ref:s,width:g.width,height:g.height,scaleX:f,scaleY:f,x:m.x,y:m.y,onMouseDown:E,onMouseMove:G,onMouseUp:w,onTouchStart:E,onTouchMove:G,onTouchEnd:w,onWheel:N,draggable:h==="zoom",onDragMove:B=>{h==="zoom"&&T({x:B.target.x(),y:B.target.y()})},className:h==="zoom"?"cursor-grab":"cursor-crosshair",children:ot.jsxs(S2,{children:[v&&o&&ot.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundImage:`url(${v})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center",opacity:x,pointerEvents:"none",zIndex:1}}),ot.jsx(C2,{text:"Mulai menggambar batik Anda di sini...",x:10,y:10,fontSize:16,fill:"#666",opacity:z.length===0?1:0}),z.map((B,Z)=>ot.jsx(b2,{points:B.points,stroke:B.tool==="eraser"?"#ffffff":"#df4b26",strokeWidth:B.tool==="eraser"?10:B.tool==="brush"?8:3,tension:.5,lineCap:"round",lineJoin:"round",globalCompositeOperation:B.tool==="eraser"?"destination-out":"source-over"},Z))]})}),ot.jsxs("div",{className:"bg-opacity-50 absolute top-2 right-2 rounded bg-black px-2 py-1 text-sm text-white",children:[Math.round(f*100),"%"]}),v&&o&&ot.jsxs("div",{className:"bg-opacity-50 absolute bottom-2 left-2 flex items-center gap-2 rounded bg-black px-3 py-2 text-white",children:[ot.jsx("span",{className:"text-xs",children:"Opacity:"}),ot.jsx("input",{type:"range",min:"0.1",max:"1",step:"0.1",value:x,onChange:L,className:"slider h-1 w-16 appearance-none rounded bg-gray-300",style:{background:`linear-gradient(to right, #df4b26 0%, #df4b26 ${x*100}%, #ccc ${x*100}%, #ccc 100%)`}}),ot.jsxs("span",{className:"text-xs",children:[Math.round(x*100),"%"]})]}),ot.jsx("input",{ref:y,type:"file",accept:"image/*",onChange:C,className:"hidden"})]})]})})}export{X2 as default};
