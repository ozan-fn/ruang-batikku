import{u as b,r as l,j as e,H as g,b as j}from"./app-D7ti-8bC.js";import{T as N,a as y,b as i,c as n,d as k,e as c}from"./table-CVU-ALux.js";import{G as v}from"./guest-layout-DFLM9Bqc.js";import{c as d}from"./createLucideIcon-DohihXQB.js";import"./app-BLXFFo_v.js";import"./utils-CBfrqCZ4.js";import"./proxy-Cjrz2Bfk.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],_=d("CircleUserRound",w);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],T=d("Trophy",M);function E(){const{leaderboard:o}=b().props,[m,x]=l.useState(o?.data||[]),[r,u]=l.useState(o?.meta),s=l.useRef(null),h=()=>{!r||r.current_page>=r.last_page||j.get(route("peringkat.index",{page:r.current_page+1}),{},{preserveState:!0,preserveScroll:!0,onSuccess:t=>{const a=t.props;a.leaderboard&&a.leaderboard.data&&(x(f=>[...f,...a.leaderboard.data]),u(a.leaderboard.meta))}})};l.useEffect(()=>{if(!s.current)return;const t=new IntersectionObserver(a=>{a[0].isIntersecting&&h()},{threshold:1});return t.observe(s.current),()=>{s.current&&t.unobserve(s.current)}},[r]);const p=t=>t===0?"ðŸ¥‡":t===1?"ðŸ¥ˆ":t===2?"ðŸ¥‰":t+1;return e.jsxs(v,{children:[e.jsx(g,{title:"Peringkat"}),e.jsxs("div",{className:"mx-auto mt-24 flex w-full max-w-4xl flex-col items-center gap-8 px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx(T,{className:"h-16 w-16 text-yellow-500"}),e.jsx("h1",{className:"mt-4 text-2xl font-bold sm:text-3xl",children:"PAPAN PERINGKAT"}),e.jsx("p",{className:"mt-2 max-w-2xl text-muted-foreground",children:"Lihat daftar pemain dengan skor akumulasi tertinggi. Scroll ke bawah untuk melihat lebih banyak."})]}),e.jsx("div",{className:"w-full rounded-lg border shadow-md",children:e.jsxs(N,{children:[e.jsx(y,{children:e.jsxs(i,{children:[e.jsx(n,{className:"w-20 text-center",children:"Peringkat"}),e.jsx(n,{children:"Nama Pemain"}),e.jsx(n,{className:"text-right",children:"Total Skor"})]})}),e.jsx(k,{children:m.map((t,a)=>e.jsxs(i,{className:a<3?"bg-yellow-50":"",children:[e.jsx(c,{className:"text-center text-lg font-bold",children:p(a)}),e.jsx(c,{className:"font-medium",children:e.jsxs("div",{className:"flex items-center gap-3",children:[t.avatar?e.jsx("img",{src:t.avatar,alt:t.name,className:"h-10 w-10 rounded-full object-cover"}):e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-gray-200 text-gray-400",children:e.jsx(_,{size:24})}),e.jsx("span",{children:t.name})]})}),e.jsx(c,{className:"text-right font-semibold",children:t.batik_histories_sum_score?.toLocaleString("id-ID")||0})]},t.id))})]})}),r&&r.current_page<r.last_page&&e.jsx("div",{ref:s,className:"py-8 text-center text-muted-foreground",children:"Memuat lebih banyak..."})]})]})}export{E as default};
