import{r,j as e,u as X,H as Y}from"./app-D7ti-8bC.js";import{c as N}from"./utils-CBfrqCZ4.js";import{G as Z}from"./guest-layout-DFLM9Bqc.js";import{M as T,i as G,u as P,P as H,a as D,b as F,L as K,m as j}from"./proxy-BbQ-HIRg.js";import"./app-BLXFFo_v.js";import"./proxy-Cjrz2Bfk.js";const L=r.createContext(void 0),W=({children:a,className:n,containerClassName:s})=>{const t=r.useRef(null),[u,i]=r.useState(!1),h=o=>{if(!t.current)return;const{left:m,top:l,width:c,height:p}=t.current.getBoundingClientRect(),d=(o.clientX-m-c/2)/25,x=(o.clientY-l-p/2)/25;t.current.style.transform=`rotateY(${d}deg) rotateX(${x}deg)`},y=o=>{i(!0),t.current},g=o=>{t.current&&(i(!1),t.current.style.transform="rotateY(0deg) rotateX(0deg)")};return e.jsx(L.Provider,{value:[u,i],children:e.jsx("div",{className:N("py-20 flex items-center justify-center",s),style:{perspective:"1000px"},children:e.jsx("div",{ref:t,onMouseEnter:y,onMouseMove:h,onMouseLeave:g,className:N("flex items-center justify-center relative transition-all duration-200 ease-linear",n),style:{transformStyle:"preserve-3d"},children:a})})})},O=({children:a,className:n})=>e.jsx("div",{className:N("h-96 w-96 [transform-style:preserve-3d]  [&>*]:[transform-style:preserve-3d]",n),children:a}),E=({as:a="div",children:n,className:s,translateX:t=0,translateY:u=0,translateZ:i=0,rotateX:h=0,rotateY:y=0,rotateZ:g=0,...o})=>{const m=r.useRef(null),[l]=U();r.useEffect(()=>{c()},[l]);const c=()=>{m.current&&(l?m.current.style.transform=`translateX(${t}px) translateY(${u}px) translateZ(${i}px) rotateX(${h}deg) rotateY(${y}deg) rotateZ(${g}deg)`:m.current.style.transform="translateX(0px) translateY(0px) translateZ(0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg)")};return e.jsx(a,{ref:m,className:N("w-fit transition duration-200 ease-linear",s),...o,children:n})},U=()=>{const a=r.useContext(L);if(a===void 0)throw new Error("useMouseEnter must be used within a MouseEnterProvider");return a};class _ extends r.Component{getSnapshotBeforeUpdate(n){const s=this.props.childRef.current;if(s&&n.isPresent&&!this.props.isPresent){const t=s.offsetParent,u=G(t)&&t.offsetWidth||0,i=this.props.sizeRef.current;i.height=s.offsetHeight||0,i.width=s.offsetWidth||0,i.top=s.offsetTop,i.left=s.offsetLeft,i.right=u-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function J({children:a,isPresent:n,anchorX:s,root:t}){const u=r.useId(),i=r.useRef(null),h=r.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:y}=r.useContext(T);return r.useInsertionEffect(()=>{const{width:g,height:o,top:m,left:l,right:c}=h.current;if(n||!i.current||!g||!o)return;const p=s==="left"?`left: ${l}`:`right: ${c}`;i.current.dataset.motionPopId=u;const d=document.createElement("style");y&&(d.nonce=y);const x=t??document.head;return x.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${u}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${o}px !important;
            ${p}px !important;
            top: ${m}px !important;
          }
        `),()=>{x.contains(d)&&x.removeChild(d)}},[n]),e.jsx(_,{isPresent:n,childRef:i,sizeRef:h,children:r.cloneElement(a,{ref:i})})}const V=({children:a,initial:n,isPresent:s,onExitComplete:t,custom:u,presenceAffectsLayout:i,mode:h,anchorX:y,root:g})=>{const o=P(q),m=r.useId();let l=!0,c=r.useMemo(()=>(l=!1,{id:m,initial:n,isPresent:s,custom:u,onExitComplete:p=>{o.set(p,!0);for(const d of o.values())if(!d)return;t&&t()},register:p=>(o.set(p,!1),()=>o.delete(p))}),[s,o,t]);return i&&l&&(c={...c}),r.useMemo(()=>{o.forEach((p,d)=>o.set(d,!1))},[s]),r.useEffect(()=>{!s&&!o.size&&t&&t()},[s]),h==="popLayout"&&(a=e.jsx(J,{isPresent:s,anchorX:y,root:g,children:a})),e.jsx(H.Provider,{value:c,children:a})};function q(){return new Map}const M=a=>a.key||"";function I(a){const n=[];return r.Children.forEach(a,s=>{r.isValidElement(s)&&n.push(s)}),n}const Q=({children:a,custom:n,initial:s=!0,onExitComplete:t,presenceAffectsLayout:u=!0,mode:i="sync",propagate:h=!1,anchorX:y="left",root:g})=>{const[o,m]=D(h),l=r.useMemo(()=>I(a),[a]),c=h&&!o?[]:l.map(M),p=r.useRef(!0),d=r.useRef(l),x=P(()=>new Map),[A,B]=r.useState(l),[w,R]=r.useState(l);F(()=>{p.current=!1,d.current=l;for(let v=0;v<w.length;v++){const f=M(w[v]);c.includes(f)?x.delete(f):x.get(f)!==!0&&x.set(f,!1)}},[w,c.length,c.join("-")]);const b=[];if(l!==A){let v=[...l];for(let f=0;f<w.length;f++){const C=w[f],k=M(C);c.includes(k)||(v.splice(f,0,C),b.push(C))}return i==="wait"&&b.length&&(v=b),R(I(v)),B(l),null}const{forceRender:S}=r.useContext(K);return e.jsx(e.Fragment,{children:w.map(v=>{const f=M(v),C=h&&!o?!1:l===w||c.includes(f),k=()=>{if(x.has(f))x.set(f,!0);else return;let $=!0;x.forEach(z=>{z||($=!1)}),$&&(S?.(),R(d.current),h&&m?.(),t&&t())};return e.jsx(V,{isPresent:C,initial:!p.current||s?void 0:!1,custom:n,presenceAffectsLayout:u,mode:i,root:g,onExitComplete:C?void 0:k,anchorX:y,children:v},f)})})};function ie(){const{galleries:a}=X().props,[n,s]=r.useState(null);return e.jsxs(Z,{children:[e.jsx(Y,{title:"Galeri Batik"}),e.jsx("div",{className:"mx-auto mt-24 flex w-full max-w-7xl flex-col items-center gap-8 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex flex-1 flex-col gap-6",children:[e.jsxs(j.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,ease:"easeInOut"},children:[e.jsx("h1",{className:"text-2xl font-bold sm:text-3xl",children:"MACAM-MACAM MOTIF BATIK DI INDONESIA"}),e.jsx("p",{className:"mt-2 max-w-3xl",children:"Kenali berbagai motif batik tradisional Indonesia yang kaya akan makna dan cerita. Setiap pola mencerminkan filosofi dan identitas budaya dari daerah asalnya. Jelajahi keindahan visual dan nilai luhur yang tertanam dalam warisan kain nusantara."})]}),e.jsx("div",{className:"grid grid-cols-1 gap-6 overflow-hidden sm:grid-cols-2 md:gap-8 lg:grid-cols-3 xl:grid-cols-4",children:a.map((t,u)=>e.jsx(j.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:u*.1,duration:.5},onClick:()=>s(t),className:"cursor-pointer",children:e.jsx(W,{className:"w-full",containerClassName:"py-0",children:e.jsxs(O,{className:"group/card relative h-full w-full rounded-xl border border-black/[0.1] bg-white p-6 shadow-sm transition-shadow duration-300 hover:shadow-xl",children:[e.jsx(E,{translateZ:"50",className:"text-xl font-bold text-neutral-800",children:t.nama}),e.jsx(E,{as:"p",translateZ:"60",className:"mt-2 line-clamp-3 text-sm text-neutral-600",children:t.deskripsi}),e.jsx(E,{translateZ:"100",className:"mt-4 aspect-video w-full",children:e.jsx(j.img,{layoutId:`image-${t.id}`,src:t.sumberFoto,className:"h-full w-full rounded-lg object-cover",alt:`Batik ${t.nama}`})})]})})},t.id))})]})}),e.jsx(Q,{children:n&&e.jsxs(j.div,{className:"fixed inset-0 z-50 flex items-center justify-center overflow-hidden p-4",style:{backgroundColor:"rgba(0, 0, 0, 0.7)"},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[e.jsxs("div",{className:"relative w-full max-w-3xl overflow-hidden rounded-xl bg-white shadow-2xl",children:[e.jsx(j.button,{onClick:()=>s(null),className:"absolute top-4 right-4 z-10 rounded-full bg-white/70 p-2 text-gray-700 transition-colors hover:bg-white hover:text-black",whileHover:{scale:1.1},whileTap:{scale:.9},children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsxs("div",{className:"max-h-[90vh] overflow-y-auto",children:[e.jsx(j.img,{layoutId:`image-${n.id}`,src:n.sumberFoto,className:"aspect-video w-full object-cover",alt:`Batik ${n.nama}`}),e.jsxs("div",{className:"p-6 md:p-8",children:[e.jsx(j.h2,{initial:{y:20,opacity:0},animate:{y:0,opacity:1,transition:{delay:.2}},className:"text-3xl font-bold text-gray-900",children:n.nama}),e.jsxs(j.h3,{initial:{y:20,opacity:0},animate:{y:0,opacity:1,transition:{delay:.3}},className:"mt-1 text-lg font-semibold text-indigo-600",children:["Asal: ",n.asal]}),e.jsx(j.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1,transition:{delay:.4}},className:"mt-4 leading-relaxed text-gray-700",children:n.deskripsi})]})]})]}),e.jsx("div",{className:"absolute inset-0 -z-10",onClick:()=>s(null)})]})})]})}export{ie as default};
