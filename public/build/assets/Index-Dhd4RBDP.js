import{f as Uh,g as _l,e as rf,h as of,r as Et,U as se,u as I1,j as at,H as $1,L as t2,b as e2}from"./app-D7ti-8bC.js";import{B as Fn}from"./button-DinFuah3.js";import{D as _i,a as Si,b as bi,c as Ei,d as uo,e as ol,g as ul}from"./dialog-D9sTnP1G.js";import{G as n2}from"./guest-layout-DFLM9Bqc.js";import{c as oa}from"./createLucideIcon-DohihXQB.js";import{B as a2}from"./book-open-C632qgu-.js";import"./app-BLXFFo_v.js";import"./utils-CBfrqCZ4.js";import"./index-EANWE-hq.js";import"./index-B3csRZvV.js";import"./index-BhBB2xAz.js";import"./x-CCN6Xg9p.js";import"./proxy-Cjrz2Bfk.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],s2=oa("CircleHelp",i2);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]],r2=oa("Eraser",l2);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],u2=oa("LogIn",o2);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],h2=oa("Pen",c2);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],f2=oa("Trash2",d2);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],m2=oa("Undo",g2);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],y2=oa("User",p2);function uf(i,s){return function(){return i.apply(s,arguments)}}const{toString:v2}=Object.prototype,{getPrototypeOf:Ho}=Object,{iterator:Sl,toStringTag:cf}=Symbol,bl=(i=>s=>{const m=v2.call(s);return i[m]||(i[m]=m.slice(8,-1).toLowerCase())})(Object.create(null)),en=i=>(i=i.toLowerCase(),s=>bl(s)===i),El=i=>s=>typeof s===i,{isArray:Fa}=Array,hs=El("undefined");function ds(i){return i!==null&&!hs(i)&&i.constructor!==null&&!hs(i.constructor)&&Oe(i.constructor.isBuffer)&&i.constructor.isBuffer(i)}const hf=en("ArrayBuffer");function _2(i){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(i):s=i&&i.buffer&&hf(i.buffer),s}const S2=El("string"),Oe=El("function"),df=El("number"),fs=i=>i!==null&&typeof i=="object",b2=i=>i===!0||i===!1,hl=i=>{if(bl(i)!=="object")return!1;const s=Ho(i);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(cf in i)&&!(Sl in i)},E2=i=>{if(!fs(i)||ds(i))return!1;try{return Object.keys(i).length===0&&Object.getPrototypeOf(i)===Object.prototype}catch{return!1}},C2=en("Date"),x2=en("File"),T2=en("Blob"),N2=en("FileList"),R2=i=>fs(i)&&Oe(i.pipe),A2=i=>{let s;return i&&(typeof FormData=="function"&&i instanceof FormData||Oe(i.append)&&((s=bl(i))==="formdata"||s==="object"&&Oe(i.toString)&&i.toString()==="[object FormData]"))},O2=en("URLSearchParams"),[M2,D2,U2,G2]=["ReadableStream","Request","Response","Headers"].map(en),z2=i=>i.trim?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function gs(i,s,{allOwnKeys:m=!1}={}){if(i===null||typeof i>"u")return;let h,r;if(typeof i!="object"&&(i=[i]),Fa(i))for(h=0,r=i.length;h<r;h++)s.call(null,i[h],h,i);else{if(ds(i))return;const d=m?Object.getOwnPropertyNames(i):Object.keys(i),c=d.length;let f;for(h=0;h<c;h++)f=d[h],s.call(null,i[f],f,i)}}function ff(i,s){if(ds(i))return null;s=s.toLowerCase();const m=Object.keys(i);let h=m.length,r;for(;h-- >0;)if(r=m[h],s===r.toLowerCase())return r;return null}const sa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,gf=i=>!hs(i)&&i!==sa;function Oo(){const{caseless:i}=gf(this)&&this||{},s={},m=(h,r)=>{const d=i&&ff(s,r)||r;hl(s[d])&&hl(h)?s[d]=Oo(s[d],h):hl(h)?s[d]=Oo({},h):Fa(h)?s[d]=h.slice():s[d]=h};for(let h=0,r=arguments.length;h<r;h++)arguments[h]&&gs(arguments[h],m);return s}const w2=(i,s,m,{allOwnKeys:h}={})=>(gs(s,(r,d)=>{m&&Oe(r)?i[d]=uf(r,m):i[d]=r},{allOwnKeys:h}),i),B2=i=>(i.charCodeAt(0)===65279&&(i=i.slice(1)),i),H2=(i,s,m,h)=>{i.prototype=Object.create(s.prototype,h),i.prototype.constructor=i,Object.defineProperty(i,"super",{value:s.prototype}),m&&Object.assign(i.prototype,m)},L2=(i,s,m,h)=>{let r,d,c;const f={};if(s=s||{},i==null)return s;do{for(r=Object.getOwnPropertyNames(i),d=r.length;d-- >0;)c=r[d],(!h||h(c,i,s))&&!f[c]&&(s[c]=i[c],f[c]=!0);i=m!==!1&&Ho(i)}while(i&&(!m||m(i,s))&&i!==Object.prototype);return s},j2=(i,s,m)=>{i=String(i),(m===void 0||m>i.length)&&(m=i.length),m-=s.length;const h=i.indexOf(s,m);return h!==-1&&h===m},q2=i=>{if(!i)return null;if(Fa(i))return i;let s=i.length;if(!df(s))return null;const m=new Array(s);for(;s-- >0;)m[s]=i[s];return m},P2=(i=>s=>i&&s instanceof i)(typeof Uint8Array<"u"&&Ho(Uint8Array)),F2=(i,s)=>{const h=(i&&i[Sl]).call(i);let r;for(;(r=h.next())&&!r.done;){const d=r.value;s.call(i,d[0],d[1])}},V2=(i,s)=>{let m;const h=[];for(;(m=i.exec(s))!==null;)h.push(m);return h},K2=en("HTMLFormElement"),Y2=i=>i.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(m,h,r){return h.toUpperCase()+r}),Gh=(({hasOwnProperty:i})=>(s,m)=>i.call(s,m))(Object.prototype),X2=en("RegExp"),mf=(i,s)=>{const m=Object.getOwnPropertyDescriptors(i),h={};gs(m,(r,d)=>{let c;(c=s(r,d,i))!==!1&&(h[d]=c||r)}),Object.defineProperties(i,h)},Q2=i=>{mf(i,(s,m)=>{if(Oe(i)&&["arguments","caller","callee"].indexOf(m)!==-1)return!1;const h=i[m];if(Oe(h)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+m+"'")})}})},k2=(i,s)=>{const m={},h=r=>{r.forEach(d=>{m[d]=!0})};return Fa(i)?h(i):h(String(i).split(s)),m},Z2=()=>{},J2=(i,s)=>i!=null&&Number.isFinite(i=+i)?i:s;function W2(i){return!!(i&&Oe(i.append)&&i[cf]==="FormData"&&i[Sl])}const I2=i=>{const s=new Array(10),m=(h,r)=>{if(fs(h)){if(s.indexOf(h)>=0)return;if(ds(h))return h;if(!("toJSON"in h)){s[r]=h;const d=Fa(h)?[]:{};return gs(h,(c,f)=>{const v=m(c,r+1);!hs(v)&&(d[f]=v)}),s[r]=void 0,d}}return h};return m(i,0)},$2=en("AsyncFunction"),tg=i=>i&&(fs(i)||Oe(i))&&Oe(i.then)&&Oe(i.catch),pf=((i,s)=>i?setImmediate:s?((m,h)=>(sa.addEventListener("message",({source:r,data:d})=>{r===sa&&d===m&&h.length&&h.shift()()},!1),r=>{h.push(r),sa.postMessage(m,"*")}))(`axios@${Math.random()}`,[]):m=>setTimeout(m))(typeof setImmediate=="function",Oe(sa.postMessage)),eg=typeof queueMicrotask<"u"?queueMicrotask.bind(sa):typeof process<"u"&&process.nextTick||pf,ng=i=>i!=null&&Oe(i[Sl]),et={isArray:Fa,isArrayBuffer:hf,isBuffer:ds,isFormData:A2,isArrayBufferView:_2,isString:S2,isNumber:df,isBoolean:b2,isObject:fs,isPlainObject:hl,isEmptyObject:E2,isReadableStream:M2,isRequest:D2,isResponse:U2,isHeaders:G2,isUndefined:hs,isDate:C2,isFile:x2,isBlob:T2,isRegExp:X2,isFunction:Oe,isStream:R2,isURLSearchParams:O2,isTypedArray:P2,isFileList:N2,forEach:gs,merge:Oo,extend:w2,trim:z2,stripBOM:B2,inherits:H2,toFlatObject:L2,kindOf:bl,kindOfTest:en,endsWith:j2,toArray:q2,forEachEntry:F2,matchAll:V2,isHTMLForm:K2,hasOwnProperty:Gh,hasOwnProp:Gh,reduceDescriptors:mf,freezeMethods:Q2,toObjectSet:k2,toCamelCase:Y2,noop:Z2,toFiniteNumber:J2,findKey:ff,global:sa,isContextDefined:gf,isSpecCompliantForm:W2,toJSONObject:I2,isAsyncFn:$2,isThenable:tg,setImmediate:pf,asap:eg,isIterable:ng};function _t(i,s,m,h,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=i,this.name="AxiosError",s&&(this.code=s),m&&(this.config=m),h&&(this.request=h),r&&(this.response=r,this.status=r.status?r.status:null)}et.inherits(_t,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:et.toJSONObject(this.config),code:this.code,status:this.status}}});const yf=_t.prototype,vf={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(i=>{vf[i]={value:i}});Object.defineProperties(_t,vf);Object.defineProperty(yf,"isAxiosError",{value:!0});_t.from=(i,s,m,h,r,d)=>{const c=Object.create(yf);return et.toFlatObject(i,c,function(v){return v!==Error.prototype},f=>f!=="isAxiosError"),_t.call(c,i.message,s,m,h,r),c.cause=i,c.name=i.name,d&&Object.assign(c,d),c};const ag=null;function Mo(i){return et.isPlainObject(i)||et.isArray(i)}function _f(i){return et.endsWith(i,"[]")?i.slice(0,-2):i}function zh(i,s,m){return i?i.concat(s).map(function(r,d){return r=_f(r),!m&&d?"["+r+"]":r}).join(m?".":""):s}function ig(i){return et.isArray(i)&&!i.some(Mo)}const sg=et.toFlatObject(et,{},null,function(s){return/^is[A-Z]/.test(s)});function Cl(i,s,m){if(!et.isObject(i))throw new TypeError("target must be an object");s=s||new FormData,m=et.toFlatObject(m,{metaTokens:!0,dots:!1,indexes:!1},!1,function(E,N){return!et.isUndefined(N[E])});const h=m.metaTokens,r=m.visitor||_,d=m.dots,c=m.indexes,v=(m.Blob||typeof Blob<"u"&&Blob)&&et.isSpecCompliantForm(s);if(!et.isFunction(r))throw new TypeError("visitor must be a function");function p(g){if(g===null)return"";if(et.isDate(g))return g.toISOString();if(et.isBoolean(g))return g.toString();if(!v&&et.isBlob(g))throw new _t("Blob is not supported. Use a Buffer instead.");return et.isArrayBuffer(g)||et.isTypedArray(g)?v&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function _(g,E,N){let D=g;if(g&&!N&&typeof g=="object"){if(et.endsWith(E,"{}"))E=h?E:E.slice(0,-2),g=JSON.stringify(g);else if(et.isArray(g)&&ig(g)||(et.isFileList(g)||et.endsWith(E,"[]"))&&(D=et.toArray(g)))return E=_f(E),D.forEach(function(o,C){!(et.isUndefined(o)||o===null)&&s.append(c===!0?zh([E],C,d):c===null?E:E+"[]",p(o))}),!1}return Mo(g)?!0:(s.append(zh(N,E,d),p(g)),!1)}const x=[],b=Object.assign(sg,{defaultVisitor:_,convertValue:p,isVisitable:Mo});function y(g,E){if(!et.isUndefined(g)){if(x.indexOf(g)!==-1)throw Error("Circular reference detected in "+E.join("."));x.push(g),et.forEach(g,function(D,S){(!(et.isUndefined(D)||D===null)&&r.call(s,D,et.isString(S)?S.trim():S,E,b))===!0&&y(D,E?E.concat(S):[S])}),x.pop()}}if(!et.isObject(i))throw new TypeError("data must be an object");return y(i),s}function wh(i){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(i).replace(/[!'()~]|%20|%00/g,function(h){return s[h]})}function Lo(i,s){this._pairs=[],i&&Cl(i,this,s)}const Sf=Lo.prototype;Sf.append=function(s,m){this._pairs.push([s,m])};Sf.toString=function(s){const m=s?function(h){return s.call(this,h,wh)}:wh;return this._pairs.map(function(r){return m(r[0])+"="+m(r[1])},"").join("&")};function lg(i){return encodeURIComponent(i).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function bf(i,s,m){if(!s)return i;const h=m&&m.encode||lg;et.isFunction(m)&&(m={serialize:m});const r=m&&m.serialize;let d;if(r?d=r(s,m):d=et.isURLSearchParams(s)?s.toString():new Lo(s,m).toString(h),d){const c=i.indexOf("#");c!==-1&&(i=i.slice(0,c)),i+=(i.indexOf("?")===-1?"?":"&")+d}return i}class Bh{constructor(){this.handlers=[]}use(s,m,h){return this.handlers.push({fulfilled:s,rejected:m,synchronous:h?h.synchronous:!1,runWhen:h?h.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){et.forEach(this.handlers,function(h){h!==null&&s(h)})}}const Ef={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},rg=typeof URLSearchParams<"u"?URLSearchParams:Lo,og=typeof FormData<"u"?FormData:null,ug=typeof Blob<"u"?Blob:null,cg={isBrowser:!0,classes:{URLSearchParams:rg,FormData:og,Blob:ug},protocols:["http","https","file","blob","url","data"]},jo=typeof window<"u"&&typeof document<"u",Do=typeof navigator=="object"&&navigator||void 0,hg=jo&&(!Do||["ReactNative","NativeScript","NS"].indexOf(Do.product)<0),dg=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",fg=jo&&window.location.href||"http://localhost",gg=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:jo,hasStandardBrowserEnv:hg,hasStandardBrowserWebWorkerEnv:dg,navigator:Do,origin:fg},Symbol.toStringTag,{value:"Module"})),Se={...gg,...cg};function mg(i,s){return Cl(i,new Se.classes.URLSearchParams,{visitor:function(m,h,r,d){return Se.isNode&&et.isBuffer(m)?(this.append(h,m.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)},...s})}function pg(i){return et.matchAll(/\w+|\[(\w*)]/g,i).map(s=>s[0]==="[]"?"":s[1]||s[0])}function yg(i){const s={},m=Object.keys(i);let h;const r=m.length;let d;for(h=0;h<r;h++)d=m[h],s[d]=i[d];return s}function Cf(i){function s(m,h,r,d){let c=m[d++];if(c==="__proto__")return!0;const f=Number.isFinite(+c),v=d>=m.length;return c=!c&&et.isArray(r)?r.length:c,v?(et.hasOwnProp(r,c)?r[c]=[r[c],h]:r[c]=h,!f):((!r[c]||!et.isObject(r[c]))&&(r[c]=[]),s(m,h,r[c],d)&&et.isArray(r[c])&&(r[c]=yg(r[c])),!f)}if(et.isFormData(i)&&et.isFunction(i.entries)){const m={};return et.forEachEntry(i,(h,r)=>{s(pg(h),r,m,0)}),m}return null}function vg(i,s,m){if(et.isString(i))try{return(s||JSON.parse)(i),et.trim(i)}catch(h){if(h.name!=="SyntaxError")throw h}return(m||JSON.stringify)(i)}const ms={transitional:Ef,adapter:["xhr","http","fetch"],transformRequest:[function(s,m){const h=m.getContentType()||"",r=h.indexOf("application/json")>-1,d=et.isObject(s);if(d&&et.isHTMLForm(s)&&(s=new FormData(s)),et.isFormData(s))return r?JSON.stringify(Cf(s)):s;if(et.isArrayBuffer(s)||et.isBuffer(s)||et.isStream(s)||et.isFile(s)||et.isBlob(s)||et.isReadableStream(s))return s;if(et.isArrayBufferView(s))return s.buffer;if(et.isURLSearchParams(s))return m.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let f;if(d){if(h.indexOf("application/x-www-form-urlencoded")>-1)return mg(s,this.formSerializer).toString();if((f=et.isFileList(s))||h.indexOf("multipart/form-data")>-1){const v=this.env&&this.env.FormData;return Cl(f?{"files[]":s}:s,v&&new v,this.formSerializer)}}return d||r?(m.setContentType("application/json",!1),vg(s)):s}],transformResponse:[function(s){const m=this.transitional||ms.transitional,h=m&&m.forcedJSONParsing,r=this.responseType==="json";if(et.isResponse(s)||et.isReadableStream(s))return s;if(s&&et.isString(s)&&(h&&!this.responseType||r)){const c=!(m&&m.silentJSONParsing)&&r;try{return JSON.parse(s)}catch(f){if(c)throw f.name==="SyntaxError"?_t.from(f,_t.ERR_BAD_RESPONSE,this,null,this.response):f}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Se.classes.FormData,Blob:Se.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};et.forEach(["delete","get","head","post","put","patch"],i=>{ms.headers[i]={}});const _g=et.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Sg=i=>{const s={};let m,h,r;return i&&i.split(`
`).forEach(function(c){r=c.indexOf(":"),m=c.substring(0,r).trim().toLowerCase(),h=c.substring(r+1).trim(),!(!m||s[m]&&_g[m])&&(m==="set-cookie"?s[m]?s[m].push(h):s[m]=[h]:s[m]=s[m]?s[m]+", "+h:h)}),s},Hh=Symbol("internals");function Ci(i){return i&&String(i).trim().toLowerCase()}function dl(i){return i===!1||i==null?i:et.isArray(i)?i.map(dl):String(i)}function bg(i){const s=Object.create(null),m=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let h;for(;h=m.exec(i);)s[h[1]]=h[2];return s}const Eg=i=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(i.trim());function co(i,s,m,h,r){if(et.isFunction(h))return h.call(this,s,m);if(r&&(s=m),!!et.isString(s)){if(et.isString(h))return s.indexOf(h)!==-1;if(et.isRegExp(h))return h.test(s)}}function Cg(i){return i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,m,h)=>m.toUpperCase()+h)}function xg(i,s){const m=et.toCamelCase(" "+s);["get","set","has"].forEach(h=>{Object.defineProperty(i,h+m,{value:function(r,d,c){return this[h].call(this,s,r,d,c)},configurable:!0})})}let Me=class{constructor(s){s&&this.set(s)}set(s,m,h){const r=this;function d(f,v,p){const _=Ci(v);if(!_)throw new Error("header name must be a non-empty string");const x=et.findKey(r,_);(!x||r[x]===void 0||p===!0||p===void 0&&r[x]!==!1)&&(r[x||v]=dl(f))}const c=(f,v)=>et.forEach(f,(p,_)=>d(p,_,v));if(et.isPlainObject(s)||s instanceof this.constructor)c(s,m);else if(et.isString(s)&&(s=s.trim())&&!Eg(s))c(Sg(s),m);else if(et.isObject(s)&&et.isIterable(s)){let f={},v,p;for(const _ of s){if(!et.isArray(_))throw TypeError("Object iterator must return a key-value pair");f[p=_[0]]=(v=f[p])?et.isArray(v)?[...v,_[1]]:[v,_[1]]:_[1]}c(f,m)}else s!=null&&d(m,s,h);return this}get(s,m){if(s=Ci(s),s){const h=et.findKey(this,s);if(h){const r=this[h];if(!m)return r;if(m===!0)return bg(r);if(et.isFunction(m))return m.call(this,r,h);if(et.isRegExp(m))return m.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,m){if(s=Ci(s),s){const h=et.findKey(this,s);return!!(h&&this[h]!==void 0&&(!m||co(this,this[h],h,m)))}return!1}delete(s,m){const h=this;let r=!1;function d(c){if(c=Ci(c),c){const f=et.findKey(h,c);f&&(!m||co(h,h[f],f,m))&&(delete h[f],r=!0)}}return et.isArray(s)?s.forEach(d):d(s),r}clear(s){const m=Object.keys(this);let h=m.length,r=!1;for(;h--;){const d=m[h];(!s||co(this,this[d],d,s,!0))&&(delete this[d],r=!0)}return r}normalize(s){const m=this,h={};return et.forEach(this,(r,d)=>{const c=et.findKey(h,d);if(c){m[c]=dl(r),delete m[d];return}const f=s?Cg(d):String(d).trim();f!==d&&delete m[d],m[f]=dl(r),h[f]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const m=Object.create(null);return et.forEach(this,(h,r)=>{h!=null&&h!==!1&&(m[r]=s&&et.isArray(h)?h.join(", "):h)}),m}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,m])=>s+": "+m).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...m){const h=new this(s);return m.forEach(r=>h.set(r)),h}static accessor(s){const h=(this[Hh]=this[Hh]={accessors:{}}).accessors,r=this.prototype;function d(c){const f=Ci(c);h[f]||(xg(r,c),h[f]=!0)}return et.isArray(s)?s.forEach(d):d(s),this}};Me.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);et.reduceDescriptors(Me.prototype,({value:i},s)=>{let m=s[0].toUpperCase()+s.slice(1);return{get:()=>i,set(h){this[m]=h}}});et.freezeMethods(Me);function ho(i,s){const m=this||ms,h=s||m,r=Me.from(h.headers);let d=h.data;return et.forEach(i,function(f){d=f.call(m,d,r.normalize(),s?s.status:void 0)}),r.normalize(),d}function xf(i){return!!(i&&i.__CANCEL__)}function Va(i,s,m){_t.call(this,i??"canceled",_t.ERR_CANCELED,s,m),this.name="CanceledError"}et.inherits(Va,_t,{__CANCEL__:!0});function Tf(i,s,m){const h=m.config.validateStatus;!m.status||!h||h(m.status)?i(m):s(new _t("Request failed with status code "+m.status,[_t.ERR_BAD_REQUEST,_t.ERR_BAD_RESPONSE][Math.floor(m.status/100)-4],m.config,m.request,m))}function Tg(i){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(i);return s&&s[1]||""}function Ng(i,s){i=i||10;const m=new Array(i),h=new Array(i);let r=0,d=0,c;return s=s!==void 0?s:1e3,function(v){const p=Date.now(),_=h[d];c||(c=p),m[r]=v,h[r]=p;let x=d,b=0;for(;x!==r;)b+=m[x++],x=x%i;if(r=(r+1)%i,r===d&&(d=(d+1)%i),p-c<s)return;const y=_&&p-_;return y?Math.round(b*1e3/y):void 0}}function Rg(i,s){let m=0,h=1e3/s,r,d;const c=(p,_=Date.now())=>{m=_,r=null,d&&(clearTimeout(d),d=null),i(...p)};return[(...p)=>{const _=Date.now(),x=_-m;x>=h?c(p,_):(r=p,d||(d=setTimeout(()=>{d=null,c(r)},h-x)))},()=>r&&c(r)]}const ml=(i,s,m=3)=>{let h=0;const r=Ng(50,250);return Rg(d=>{const c=d.loaded,f=d.lengthComputable?d.total:void 0,v=c-h,p=r(v),_=c<=f;h=c;const x={loaded:c,total:f,progress:f?c/f:void 0,bytes:v,rate:p||void 0,estimated:p&&f&&_?(f-c)/p:void 0,event:d,lengthComputable:f!=null,[s?"download":"upload"]:!0};i(x)},m)},Lh=(i,s)=>{const m=i!=null;return[h=>s[0]({lengthComputable:m,total:i,loaded:h}),s[1]]},jh=i=>(...s)=>et.asap(()=>i(...s)),Ag=Se.hasStandardBrowserEnv?((i,s)=>m=>(m=new URL(m,Se.origin),i.protocol===m.protocol&&i.host===m.host&&(s||i.port===m.port)))(new URL(Se.origin),Se.navigator&&/(msie|trident)/i.test(Se.navigator.userAgent)):()=>!0,Og=Se.hasStandardBrowserEnv?{write(i,s,m,h,r,d){const c=[i+"="+encodeURIComponent(s)];et.isNumber(m)&&c.push("expires="+new Date(m).toGMTString()),et.isString(h)&&c.push("path="+h),et.isString(r)&&c.push("domain="+r),d===!0&&c.push("secure"),document.cookie=c.join("; ")},read(i){const s=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove(i){this.write(i,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Mg(i){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(i)}function Dg(i,s){return s?i.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):i}function Nf(i,s,m){let h=!Mg(s);return i&&(h||m==!1)?Dg(i,s):s}const qh=i=>i instanceof Me?{...i}:i;function ra(i,s){s=s||{};const m={};function h(p,_,x,b){return et.isPlainObject(p)&&et.isPlainObject(_)?et.merge.call({caseless:b},p,_):et.isPlainObject(_)?et.merge({},_):et.isArray(_)?_.slice():_}function r(p,_,x,b){if(et.isUndefined(_)){if(!et.isUndefined(p))return h(void 0,p,x,b)}else return h(p,_,x,b)}function d(p,_){if(!et.isUndefined(_))return h(void 0,_)}function c(p,_){if(et.isUndefined(_)){if(!et.isUndefined(p))return h(void 0,p)}else return h(void 0,_)}function f(p,_,x){if(x in s)return h(p,_);if(x in i)return h(void 0,p)}const v={url:d,method:d,data:d,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:f,headers:(p,_,x)=>r(qh(p),qh(_),x,!0)};return et.forEach(Object.keys({...i,...s}),function(_){const x=v[_]||r,b=x(i[_],s[_],_);et.isUndefined(b)&&x!==f||(m[_]=b)}),m}const Rf=i=>{const s=ra({},i);let{data:m,withXSRFToken:h,xsrfHeaderName:r,xsrfCookieName:d,headers:c,auth:f}=s;s.headers=c=Me.from(c),s.url=bf(Nf(s.baseURL,s.url,s.allowAbsoluteUrls),i.params,i.paramsSerializer),f&&c.set("Authorization","Basic "+btoa((f.username||"")+":"+(f.password?unescape(encodeURIComponent(f.password)):"")));let v;if(et.isFormData(m)){if(Se.hasStandardBrowserEnv||Se.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((v=c.getContentType())!==!1){const[p,..._]=v?v.split(";").map(x=>x.trim()).filter(Boolean):[];c.setContentType([p||"multipart/form-data",..._].join("; "))}}if(Se.hasStandardBrowserEnv&&(h&&et.isFunction(h)&&(h=h(s)),h||h!==!1&&Ag(s.url))){const p=r&&d&&Og.read(d);p&&c.set(r,p)}return s},Ug=typeof XMLHttpRequest<"u",Gg=Ug&&function(i){return new Promise(function(m,h){const r=Rf(i);let d=r.data;const c=Me.from(r.headers).normalize();let{responseType:f,onUploadProgress:v,onDownloadProgress:p}=r,_,x,b,y,g;function E(){y&&y(),g&&g(),r.cancelToken&&r.cancelToken.unsubscribe(_),r.signal&&r.signal.removeEventListener("abort",_)}let N=new XMLHttpRequest;N.open(r.method.toUpperCase(),r.url,!0),N.timeout=r.timeout;function D(){if(!N)return;const o=Me.from("getAllResponseHeaders"in N&&N.getAllResponseHeaders()),R={data:!f||f==="text"||f==="json"?N.responseText:N.response,status:N.status,statusText:N.statusText,headers:o,config:i,request:N};Tf(function(F){m(F),E()},function(F){h(F),E()},R),N=null}"onloadend"in N?N.onloadend=D:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(D)},N.onabort=function(){N&&(h(new _t("Request aborted",_t.ECONNABORTED,i,N)),N=null)},N.onerror=function(){h(new _t("Network Error",_t.ERR_NETWORK,i,N)),N=null},N.ontimeout=function(){let C=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const R=r.transitional||Ef;r.timeoutErrorMessage&&(C=r.timeoutErrorMessage),h(new _t(C,R.clarifyTimeoutError?_t.ETIMEDOUT:_t.ECONNABORTED,i,N)),N=null},d===void 0&&c.setContentType(null),"setRequestHeader"in N&&et.forEach(c.toJSON(),function(C,R){N.setRequestHeader(R,C)}),et.isUndefined(r.withCredentials)||(N.withCredentials=!!r.withCredentials),f&&f!=="json"&&(N.responseType=r.responseType),p&&([b,g]=ml(p,!0),N.addEventListener("progress",b)),v&&N.upload&&([x,y]=ml(v),N.upload.addEventListener("progress",x),N.upload.addEventListener("loadend",y)),(r.cancelToken||r.signal)&&(_=o=>{N&&(h(!o||o.type?new Va(null,i,N):o),N.abort(),N=null)},r.cancelToken&&r.cancelToken.subscribe(_),r.signal&&(r.signal.aborted?_():r.signal.addEventListener("abort",_)));const S=Tg(r.url);if(S&&Se.protocols.indexOf(S)===-1){h(new _t("Unsupported protocol "+S+":",_t.ERR_BAD_REQUEST,i));return}N.send(d||null)})},zg=(i,s)=>{const{length:m}=i=i?i.filter(Boolean):[];if(s||m){let h=new AbortController,r;const d=function(p){if(!r){r=!0,f();const _=p instanceof Error?p:this.reason;h.abort(_ instanceof _t?_:new Va(_ instanceof Error?_.message:_))}};let c=s&&setTimeout(()=>{c=null,d(new _t(`timeout ${s} of ms exceeded`,_t.ETIMEDOUT))},s);const f=()=>{i&&(c&&clearTimeout(c),c=null,i.forEach(p=>{p.unsubscribe?p.unsubscribe(d):p.removeEventListener("abort",d)}),i=null)};i.forEach(p=>p.addEventListener("abort",d));const{signal:v}=h;return v.unsubscribe=()=>et.asap(f),v}},wg=function*(i,s){let m=i.byteLength;if(m<s){yield i;return}let h=0,r;for(;h<m;)r=h+s,yield i.slice(h,r),h=r},Bg=async function*(i,s){for await(const m of Hg(i))yield*wg(m,s)},Hg=async function*(i){if(i[Symbol.asyncIterator]){yield*i;return}const s=i.getReader();try{for(;;){const{done:m,value:h}=await s.read();if(m)break;yield h}}finally{await s.cancel()}},Ph=(i,s,m,h)=>{const r=Bg(i,s);let d=0,c,f=v=>{c||(c=!0,h&&h(v))};return new ReadableStream({async pull(v){try{const{done:p,value:_}=await r.next();if(p){f(),v.close();return}let x=_.byteLength;if(m){let b=d+=x;m(b)}v.enqueue(new Uint8Array(_))}catch(p){throw f(p),p}},cancel(v){return f(v),r.return()}},{highWaterMark:2})},xl=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Af=xl&&typeof ReadableStream=="function",Lg=xl&&(typeof TextEncoder=="function"?(i=>s=>i.encode(s))(new TextEncoder):async i=>new Uint8Array(await new Response(i).arrayBuffer())),Of=(i,...s)=>{try{return!!i(...s)}catch{return!1}},jg=Af&&Of(()=>{let i=!1;const s=new Request(Se.origin,{body:new ReadableStream,method:"POST",get duplex(){return i=!0,"half"}}).headers.has("Content-Type");return i&&!s}),Fh=64*1024,Uo=Af&&Of(()=>et.isReadableStream(new Response("").body)),pl={stream:Uo&&(i=>i.body)};xl&&(i=>{["text","arrayBuffer","blob","formData","stream"].forEach(s=>{!pl[s]&&(pl[s]=et.isFunction(i[s])?m=>m[s]():(m,h)=>{throw new _t(`Response type '${s}' is not supported`,_t.ERR_NOT_SUPPORT,h)})})})(new Response);const qg=async i=>{if(i==null)return 0;if(et.isBlob(i))return i.size;if(et.isSpecCompliantForm(i))return(await new Request(Se.origin,{method:"POST",body:i}).arrayBuffer()).byteLength;if(et.isArrayBufferView(i)||et.isArrayBuffer(i))return i.byteLength;if(et.isURLSearchParams(i)&&(i=i+""),et.isString(i))return(await Lg(i)).byteLength},Pg=async(i,s)=>{const m=et.toFiniteNumber(i.getContentLength());return m??qg(s)},Fg=xl&&(async i=>{let{url:s,method:m,data:h,signal:r,cancelToken:d,timeout:c,onDownloadProgress:f,onUploadProgress:v,responseType:p,headers:_,withCredentials:x="same-origin",fetchOptions:b}=Rf(i);p=p?(p+"").toLowerCase():"text";let y=zg([r,d&&d.toAbortSignal()],c),g;const E=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let N;try{if(v&&jg&&m!=="get"&&m!=="head"&&(N=await Pg(_,h))!==0){let R=new Request(s,{method:"POST",body:h,duplex:"half"}),z;if(et.isFormData(h)&&(z=R.headers.get("content-type"))&&_.setContentType(z),R.body){const[F,A]=Lh(N,ml(jh(v)));h=Ph(R.body,Fh,F,A)}}et.isString(x)||(x=x?"include":"omit");const D="credentials"in Request.prototype;g=new Request(s,{...b,signal:y,method:m.toUpperCase(),headers:_.normalize().toJSON(),body:h,duplex:"half",credentials:D?x:void 0});let S=await fetch(g,b);const o=Uo&&(p==="stream"||p==="response");if(Uo&&(f||o&&E)){const R={};["status","statusText","headers"].forEach(M=>{R[M]=S[M]});const z=et.toFiniteNumber(S.headers.get("content-length")),[F,A]=f&&Lh(z,ml(jh(f),!0))||[];S=new Response(Ph(S.body,Fh,F,()=>{A&&A(),E&&E()}),R)}p=p||"text";let C=await pl[et.findKey(pl,p)||"text"](S,i);return!o&&E&&E(),await new Promise((R,z)=>{Tf(R,z,{data:C,headers:Me.from(S.headers),status:S.status,statusText:S.statusText,config:i,request:g})})}catch(D){throw E&&E(),D&&D.name==="TypeError"&&/Load failed|fetch/i.test(D.message)?Object.assign(new _t("Network Error",_t.ERR_NETWORK,i,g),{cause:D.cause||D}):_t.from(D,D&&D.code,i,g)}}),Go={http:ag,xhr:Gg,fetch:Fg};et.forEach(Go,(i,s)=>{if(i){try{Object.defineProperty(i,"name",{value:s})}catch{}Object.defineProperty(i,"adapterName",{value:s})}});const Vh=i=>`- ${i}`,Vg=i=>et.isFunction(i)||i===null||i===!1,Mf={getAdapter:i=>{i=et.isArray(i)?i:[i];const{length:s}=i;let m,h;const r={};for(let d=0;d<s;d++){m=i[d];let c;if(h=m,!Vg(m)&&(h=Go[(c=String(m)).toLowerCase()],h===void 0))throw new _t(`Unknown adapter '${c}'`);if(h)break;r[c||"#"+d]=h}if(!h){const d=Object.entries(r).map(([f,v])=>`adapter ${f} `+(v===!1?"is not supported by the environment":"is not available in the build"));let c=s?d.length>1?`since :
`+d.map(Vh).join(`
`):" "+Vh(d[0]):"as no adapter specified";throw new _t("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return h},adapters:Go};function fo(i){if(i.cancelToken&&i.cancelToken.throwIfRequested(),i.signal&&i.signal.aborted)throw new Va(null,i)}function Kh(i){return fo(i),i.headers=Me.from(i.headers),i.data=ho.call(i,i.transformRequest),["post","put","patch"].indexOf(i.method)!==-1&&i.headers.setContentType("application/x-www-form-urlencoded",!1),Mf.getAdapter(i.adapter||ms.adapter)(i).then(function(h){return fo(i),h.data=ho.call(i,i.transformResponse,h),h.headers=Me.from(h.headers),h},function(h){return xf(h)||(fo(i),h&&h.response&&(h.response.data=ho.call(i,i.transformResponse,h.response),h.response.headers=Me.from(h.response.headers))),Promise.reject(h)})}const Df="1.11.0",Tl={};["object","boolean","number","function","string","symbol"].forEach((i,s)=>{Tl[i]=function(h){return typeof h===i||"a"+(s<1?"n ":" ")+i}});const Yh={};Tl.transitional=function(s,m,h){function r(d,c){return"[Axios v"+Df+"] Transitional option '"+d+"'"+c+(h?". "+h:"")}return(d,c,f)=>{if(s===!1)throw new _t(r(c," has been removed"+(m?" in "+m:"")),_t.ERR_DEPRECATED);return m&&!Yh[c]&&(Yh[c]=!0,console.warn(r(c," has been deprecated since v"+m+" and will be removed in the near future"))),s?s(d,c,f):!0}};Tl.spelling=function(s){return(m,h)=>(console.warn(`${h} is likely a misspelling of ${s}`),!0)};function Kg(i,s,m){if(typeof i!="object")throw new _t("options must be an object",_t.ERR_BAD_OPTION_VALUE);const h=Object.keys(i);let r=h.length;for(;r-- >0;){const d=h[r],c=s[d];if(c){const f=i[d],v=f===void 0||c(f,d,i);if(v!==!0)throw new _t("option "+d+" must be "+v,_t.ERR_BAD_OPTION_VALUE);continue}if(m!==!0)throw new _t("Unknown option "+d,_t.ERR_BAD_OPTION)}}const fl={assertOptions:Kg,validators:Tl},rn=fl.validators;let la=class{constructor(s){this.defaults=s||{},this.interceptors={request:new Bh,response:new Bh}}async request(s,m){try{return await this._request(s,m)}catch(h){if(h instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const d=r.stack?r.stack.replace(/^.+\n/,""):"";try{h.stack?d&&!String(h.stack).endsWith(d.replace(/^.+\n.+\n/,""))&&(h.stack+=`
`+d):h.stack=d}catch{}}throw h}}_request(s,m){typeof s=="string"?(m=m||{},m.url=s):m=s||{},m=ra(this.defaults,m);const{transitional:h,paramsSerializer:r,headers:d}=m;h!==void 0&&fl.assertOptions(h,{silentJSONParsing:rn.transitional(rn.boolean),forcedJSONParsing:rn.transitional(rn.boolean),clarifyTimeoutError:rn.transitional(rn.boolean)},!1),r!=null&&(et.isFunction(r)?m.paramsSerializer={serialize:r}:fl.assertOptions(r,{encode:rn.function,serialize:rn.function},!0)),m.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?m.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:m.allowAbsoluteUrls=!0),fl.assertOptions(m,{baseUrl:rn.spelling("baseURL"),withXsrfToken:rn.spelling("withXSRFToken")},!0),m.method=(m.method||this.defaults.method||"get").toLowerCase();let c=d&&et.merge(d.common,d[m.method]);d&&et.forEach(["delete","get","head","post","put","patch","common"],g=>{delete d[g]}),m.headers=Me.concat(c,d);const f=[];let v=!0;this.interceptors.request.forEach(function(E){typeof E.runWhen=="function"&&E.runWhen(m)===!1||(v=v&&E.synchronous,f.unshift(E.fulfilled,E.rejected))});const p=[];this.interceptors.response.forEach(function(E){p.push(E.fulfilled,E.rejected)});let _,x=0,b;if(!v){const g=[Kh.bind(this),void 0];for(g.unshift(...f),g.push(...p),b=g.length,_=Promise.resolve(m);x<b;)_=_.then(g[x++],g[x++]);return _}b=f.length;let y=m;for(x=0;x<b;){const g=f[x++],E=f[x++];try{y=g(y)}catch(N){E.call(this,N);break}}try{_=Kh.call(this,y)}catch(g){return Promise.reject(g)}for(x=0,b=p.length;x<b;)_=_.then(p[x++],p[x++]);return _}getUri(s){s=ra(this.defaults,s);const m=Nf(s.baseURL,s.url,s.allowAbsoluteUrls);return bf(m,s.params,s.paramsSerializer)}};et.forEach(["delete","get","head","options"],function(s){la.prototype[s]=function(m,h){return this.request(ra(h||{},{method:s,url:m,data:(h||{}).data}))}});et.forEach(["post","put","patch"],function(s){function m(h){return function(d,c,f){return this.request(ra(f||{},{method:s,headers:h?{"Content-Type":"multipart/form-data"}:{},url:d,data:c}))}}la.prototype[s]=m(),la.prototype[s+"Form"]=m(!0)});let Yg=class Uf{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let m;this.promise=new Promise(function(d){m=d});const h=this;this.promise.then(r=>{if(!h._listeners)return;let d=h._listeners.length;for(;d-- >0;)h._listeners[d](r);h._listeners=null}),this.promise.then=r=>{let d;const c=new Promise(f=>{h.subscribe(f),d=f}).then(r);return c.cancel=function(){h.unsubscribe(d)},c},s(function(d,c,f){h.reason||(h.reason=new Va(d,c,f),m(h.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const m=this._listeners.indexOf(s);m!==-1&&this._listeners.splice(m,1)}toAbortSignal(){const s=new AbortController,m=h=>{s.abort(h)};return this.subscribe(m),s.signal.unsubscribe=()=>this.unsubscribe(m),s.signal}static source(){let s;return{token:new Uf(function(r){s=r}),cancel:s}}};function Xg(i){return function(m){return i.apply(null,m)}}function Qg(i){return et.isObject(i)&&i.isAxiosError===!0}const zo={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(zo).forEach(([i,s])=>{zo[s]=i});function Gf(i){const s=new la(i),m=uf(la.prototype.request,s);return et.extend(m,la.prototype,s,{allOwnKeys:!0}),et.extend(m,s,null,{allOwnKeys:!0}),m.create=function(r){return Gf(ra(i,r))},m}const Zt=Gf(ms);Zt.Axios=la;Zt.CanceledError=Va;Zt.CancelToken=Yg;Zt.isCancel=xf;Zt.VERSION=Df;Zt.toFormData=Cl;Zt.AxiosError=_t;Zt.Cancel=Zt.CanceledError;Zt.all=function(s){return Promise.all(s)};Zt.spread=Xg;Zt.isAxiosError=Qg;Zt.mergeConfig=ra;Zt.AxiosHeaders=Me;Zt.formToJSON=i=>Cf(et.isHTMLForm(i)?new FormData(i):i);Zt.getAdapter=Mf.getAdapter;Zt.HttpStatusCode=zo;Zt.default=Zt;const{Axios:x5,AxiosError:T5,CanceledError:N5,isCancel:R5,CancelToken:A5,VERSION:O5,all:M5,Cancel:D5,isAxiosError:U5,spread:G5,toFormData:z5,AxiosHeaders:w5,HttpStatusCode:B5,formToJSON:H5,getAdapter:L5,mergeConfig:j5}=Zt;var gl={exports:{}},xi={},go={},mo={},Xh;function xt(){return Xh||(Xh=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i._registerNode=i.Konva=i.glob=void 0;const s=Math.PI/180;function m(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}i.glob=typeof Uh<"u"?Uh:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},i.Konva={_global:i.glob,version:"9.3.22",isBrowser:m(),isUnminified:/param/.test((function(r){}).toString()),dblClickWindow:400,getAngle(r){return i.Konva.angleDeg?r*s:r},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_fixTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return i.Konva.DD.isDragging},isTransforming(){var r;return(r=i.Konva.Transformer)===null||r===void 0?void 0:r.isTransforming()},isDragReady(){return!!i.Konva.DD.node},releaseCanvasOnDestroy:!0,document:i.glob.document,_injectGlobal(r){i.glob.Konva=r}};const h=r=>{i.Konva[r.prototype.getClassName()]=r};i._registerNode=h,i.Konva._injectGlobal(i.Konva)}(mo)),mo}var po={},Qh;function Xt(){return Qh||(Qh=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.Util=i.Transform=void 0;const s=xt();class m{constructor(C=[1,0,0,1,0,0]){this.dirty=!1,this.m=C&&C.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new m(this.m)}copyInto(C){C.m[0]=this.m[0],C.m[1]=this.m[1],C.m[2]=this.m[2],C.m[3]=this.m[3],C.m[4]=this.m[4],C.m[5]=this.m[5]}point(C){const R=this.m;return{x:R[0]*C.x+R[2]*C.y+R[4],y:R[1]*C.x+R[3]*C.y+R[5]}}translate(C,R){return this.m[4]+=this.m[0]*C+this.m[2]*R,this.m[5]+=this.m[1]*C+this.m[3]*R,this}scale(C,R){return this.m[0]*=C,this.m[1]*=C,this.m[2]*=R,this.m[3]*=R,this}rotate(C){const R=Math.cos(C),z=Math.sin(C),F=this.m[0]*R+this.m[2]*z,A=this.m[1]*R+this.m[3]*z,M=this.m[0]*-z+this.m[2]*R,G=this.m[1]*-z+this.m[3]*R;return this.m[0]=F,this.m[1]=A,this.m[2]=M,this.m[3]=G,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(C,R){const z=this.m[0]+this.m[2]*R,F=this.m[1]+this.m[3]*R,A=this.m[2]+this.m[0]*C,M=this.m[3]+this.m[1]*C;return this.m[0]=z,this.m[1]=F,this.m[2]=A,this.m[3]=M,this}multiply(C){const R=this.m[0]*C.m[0]+this.m[2]*C.m[1],z=this.m[1]*C.m[0]+this.m[3]*C.m[1],F=this.m[0]*C.m[2]+this.m[2]*C.m[3],A=this.m[1]*C.m[2]+this.m[3]*C.m[3],M=this.m[0]*C.m[4]+this.m[2]*C.m[5]+this.m[4],G=this.m[1]*C.m[4]+this.m[3]*C.m[5]+this.m[5];return this.m[0]=R,this.m[1]=z,this.m[2]=F,this.m[3]=A,this.m[4]=M,this.m[5]=G,this}invert(){const C=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),R=this.m[3]*C,z=-this.m[1]*C,F=-this.m[2]*C,A=this.m[0]*C,M=C*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),G=C*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=R,this.m[1]=z,this.m[2]=F,this.m[3]=A,this.m[4]=M,this.m[5]=G,this}getMatrix(){return this.m}decompose(){const C=this.m[0],R=this.m[1],z=this.m[2],F=this.m[3],A=this.m[4],M=this.m[5],G=C*F-R*z,L={x:A,y:M,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(C!=0||R!=0){const K=Math.sqrt(C*C+R*R);L.rotation=R>0?Math.acos(C/K):-Math.acos(C/K),L.scaleX=K,L.scaleY=G/K,L.skewX=(C*z+R*F)/G,L.skewY=0}else if(z!=0||F!=0){const K=Math.sqrt(z*z+F*F);L.rotation=Math.PI/2-(F>0?Math.acos(-z/K):-Math.acos(z/K)),L.scaleX=G/K,L.scaleY=K,L.skewX=0,L.skewY=(C*z+R*F)/G}return L.rotation=i.Util._getRotation(L.rotation),L}}i.Transform=m;const h="[object Array]",r="[object Number]",d="[object String]",c="[object Boolean]",f=Math.PI/180,v=180/Math.PI,p="#",_="",x="0",b="Konva warning: ",y="Konva error: ",g="rgb(",E={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},N=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let D=[];const S=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(o){setTimeout(o,60)};i.Util={_isElement(o){return!!(o&&o.nodeType==1)},_isFunction(o){return!!(o&&o.constructor&&o.call&&o.apply)},_isPlainObject(o){return!!o&&o.constructor===Object},_isArray(o){return Object.prototype.toString.call(o)===h},_isNumber(o){return Object.prototype.toString.call(o)===r&&!isNaN(o)&&isFinite(o)},_isString(o){return Object.prototype.toString.call(o)===d},_isBoolean(o){return Object.prototype.toString.call(o)===c},isObject(o){return o instanceof Object},isValidSelector(o){if(typeof o!="string")return!1;const C=o[0];return C==="#"||C==="."||C===C.toUpperCase()},_sign(o){return o===0||o>0?1:-1},requestAnimFrame(o){D.push(o),D.length===1&&S(function(){const C=D;D=[],C.forEach(function(R){R()})})},createCanvasElement(){const o=document.createElement("canvas");try{o.style=o.style||{}}catch{}return o},createImageElement(){return document.createElement("img")},_isInDocument(o){for(;o=o.parentNode;)if(o==document)return!0;return!1},_urlToImage(o,C){const R=i.Util.createImageElement();R.onload=function(){C(R)},R.src=o},_rgbToHex(o,C,R){return((1<<24)+(o<<16)+(C<<8)+R).toString(16).slice(1)},_hexToRgb(o){o=o.replace(p,_);const C=parseInt(o,16);return{r:C>>16&255,g:C>>8&255,b:C&255}},getRandomColor(){let o=(Math.random()*16777215<<0).toString(16);for(;o.length<6;)o=x+o;return p+o},getRGB(o){let C;return o in E?(C=E[o],{r:C[0],g:C[1],b:C[2]}):o[0]===p?this._hexToRgb(o.substring(1)):o.substr(0,4)===g?(C=N.exec(o.replace(/ /g,"")),{r:parseInt(C[1],10),g:parseInt(C[2],10),b:parseInt(C[3],10)}):{r:0,g:0,b:0}},colorToRGBA(o){return o=o||"black",i.Util._namedColorToRBA(o)||i.Util._hex3ColorToRGBA(o)||i.Util._hex4ColorToRGBA(o)||i.Util._hex6ColorToRGBA(o)||i.Util._hex8ColorToRGBA(o)||i.Util._rgbColorToRGBA(o)||i.Util._rgbaColorToRGBA(o)||i.Util._hslColorToRGBA(o)},_namedColorToRBA(o){const C=E[o.toLowerCase()];return C?{r:C[0],g:C[1],b:C[2],a:1}:null},_rgbColorToRGBA(o){if(o.indexOf("rgb(")===0){o=o.match(/rgb\(([^)]+)\)/)[1];const C=o.split(/ *, */).map(Number);return{r:C[0],g:C[1],b:C[2],a:1}}},_rgbaColorToRGBA(o){if(o.indexOf("rgba(")===0){o=o.match(/rgba\(([^)]+)\)/)[1];const C=o.split(/ *, */).map((R,z)=>R.slice(-1)==="%"?z===3?parseInt(R)/100:parseInt(R)/100*255:Number(R));return{r:C[0],g:C[1],b:C[2],a:C[3]}}},_hex8ColorToRGBA(o){if(o[0]==="#"&&o.length===9)return{r:parseInt(o.slice(1,3),16),g:parseInt(o.slice(3,5),16),b:parseInt(o.slice(5,7),16),a:parseInt(o.slice(7,9),16)/255}},_hex6ColorToRGBA(o){if(o[0]==="#"&&o.length===7)return{r:parseInt(o.slice(1,3),16),g:parseInt(o.slice(3,5),16),b:parseInt(o.slice(5,7),16),a:1}},_hex4ColorToRGBA(o){if(o[0]==="#"&&o.length===5)return{r:parseInt(o[1]+o[1],16),g:parseInt(o[2]+o[2],16),b:parseInt(o[3]+o[3],16),a:parseInt(o[4]+o[4],16)/255}},_hex3ColorToRGBA(o){if(o[0]==="#"&&o.length===4)return{r:parseInt(o[1]+o[1],16),g:parseInt(o[2]+o[2],16),b:parseInt(o[3]+o[3],16),a:1}},_hslColorToRGBA(o){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(o)){const[C,...R]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(o),z=Number(R[0])/360,F=Number(R[1])/100,A=Number(R[2])/100;let M,G,L;if(F===0)return L=A*255,{r:Math.round(L),g:Math.round(L),b:Math.round(L),a:1};A<.5?M=A*(1+F):M=A+F-A*F;const K=2*A-M,X=[0,0,0];for(let V=0;V<3;V++)G=z+1/3*-(V-1),G<0&&G++,G>1&&G--,6*G<1?L=K+(M-K)*6*G:2*G<1?L=M:3*G<2?L=K+(M-K)*(2/3-G)*6:L=K,X[V]=L*255;return{r:Math.round(X[0]),g:Math.round(X[1]),b:Math.round(X[2]),a:1}}},haveIntersection(o,C){return!(C.x>o.x+o.width||C.x+C.width<o.x||C.y>o.y+o.height||C.y+C.height<o.y)},cloneObject(o){const C={};for(const R in o)this._isPlainObject(o[R])?C[R]=this.cloneObject(o[R]):this._isArray(o[R])?C[R]=this.cloneArray(o[R]):C[R]=o[R];return C},cloneArray(o){return o.slice(0)},degToRad(o){return o*f},radToDeg(o){return o*v},_degToRad(o){return i.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),i.Util.degToRad(o)},_radToDeg(o){return i.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),i.Util.radToDeg(o)},_getRotation(o){return s.Konva.angleDeg?i.Util.radToDeg(o):o},_capitalize(o){return o.charAt(0).toUpperCase()+o.slice(1)},throw(o){throw new Error(y+o)},error(o){console.error(y+o)},warn(o){s.Konva.showWarnings&&console.warn(b+o)},each(o,C){for(const R in o)C(R,o[R])},_inRange(o,C,R){return C<=o&&o<R},_getProjectionToSegment(o,C,R,z,F,A){let M,G,L;const K=(o-R)*(o-R)+(C-z)*(C-z);if(K==0)M=o,G=C,L=(F-R)*(F-R)+(A-z)*(A-z);else{const X=((F-o)*(R-o)+(A-C)*(z-C))/K;X<0?(M=o,G=C,L=(o-F)*(o-F)+(C-A)*(C-A)):X>1?(M=R,G=z,L=(R-F)*(R-F)+(z-A)*(z-A)):(M=o+X*(R-o),G=C+X*(z-C),L=(M-F)*(M-F)+(G-A)*(G-A))}return[M,G,L]},_getProjectionToLine(o,C,R){const z=i.Util.cloneObject(o);let F=Number.MAX_VALUE;return C.forEach(function(A,M){if(!R&&M===C.length-1)return;const G=C[(M+1)%C.length],L=i.Util._getProjectionToSegment(A.x,A.y,G.x,G.y,o.x,o.y),K=L[0],X=L[1],V=L[2];V<F&&(z.x=K,z.y=X,F=V)}),z},_prepareArrayForTween(o,C,R){const z=[],F=[];if(o.length>C.length){const M=C;C=o,o=M}for(let M=0;M<o.length;M+=2)z.push({x:o[M],y:o[M+1]});for(let M=0;M<C.length;M+=2)F.push({x:C[M],y:C[M+1]});const A=[];return F.forEach(function(M){const G=i.Util._getProjectionToLine(M,z,R);A.push(G.x),A.push(G.y)}),A},_prepareToStringify(o){let C;o.visitedByCircularReferenceRemoval=!0;for(const R in o)if(o.hasOwnProperty(R)&&o[R]&&typeof o[R]=="object"){if(C=Object.getOwnPropertyDescriptor(o,R),o[R].visitedByCircularReferenceRemoval||i.Util._isElement(o[R]))if(C.configurable)delete o[R];else return null;else if(i.Util._prepareToStringify(o[R])===null)if(C.configurable)delete o[R];else return null}return delete o.visitedByCircularReferenceRemoval,o},_assign(o,C){for(const R in C)o[R]=C[R];return o},_getFirstPointerId(o){return o.touches?o.changedTouches[0].identifier:o.pointerId||999},releaseCanvas(...o){s.Konva.releaseCanvasOnDestroy&&o.forEach(C=>{C.width=0,C.height=0})},drawRoundedRectPath(o,C,R,z){let F=0,A=0,M=0,G=0;typeof z=="number"?F=A=M=G=Math.min(z,C/2,R/2):(F=Math.min(z[0]||0,C/2,R/2),A=Math.min(z[1]||0,C/2,R/2),G=Math.min(z[2]||0,C/2,R/2),M=Math.min(z[3]||0,C/2,R/2)),o.moveTo(F,0),o.lineTo(C-A,0),o.arc(C-A,A,A,Math.PI*3/2,0,!1),o.lineTo(C,R-G),o.arc(C-G,R-G,G,0,Math.PI/2,!1),o.lineTo(M,R),o.arc(M,R-M,M,Math.PI/2,Math.PI,!1),o.lineTo(0,F),o.arc(F,F,F,Math.PI,Math.PI*3/2,!1)}}}(po)),po}var Ti={},_n={},Sn={},kh;function zf(){if(kh)return Sn;kh=1,Object.defineProperty(Sn,"__esModule",{value:!0}),Sn.HitContext=Sn.SceneContext=Sn.Context=void 0;const i=Xt(),s=xt();function m(D){const S=[],o=D.length,C=i.Util;for(let R=0;R<o;R++){let z=D[R];C._isNumber(z)?z=Math.round(z*1e3)/1e3:C._isString(z)||(z=z+""),S.push(z)}return S}const h=",",r="(",d=")",c="([",f="])",v=";",p="()",_="=",x=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],b=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"],y=100;let g=class{constructor(S){this.canvas=S,s.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(S){S.fillEnabled()&&this._fill(S)}_fill(S){}strokeShape(S){S.hasStroke()&&this._stroke(S)}_stroke(S){}fillStrokeShape(S){S.attrs.fillAfterStrokeEnabled?(this.strokeShape(S),this.fillShape(S)):(this.fillShape(S),this.strokeShape(S))}getTrace(S,o){let C=this.traceArr,R=C.length,z="",F,A,M,G;for(F=0;F<R;F++)A=C[F],M=A.method,M?(G=A.args,z+=M,S?z+=p:i.Util._isArray(G[0])?z+=c+G.join(h)+f:(o&&(G=G.map(L=>typeof L=="number"?Math.floor(L):L)),z+=r+G.join(h)+d)):(z+=A.property,S||(z+=_+A.val)),z+=v;return z}clearTrace(){this.traceArr=[]}_trace(S){let o=this.traceArr,C;o.push(S),C=o.length,C>=y&&o.shift()}reset(){const S=this.getCanvas().getPixelRatio();this.setTransform(1*S,0,0,1*S,0,0)}getCanvas(){return this.canvas}clear(S){const o=this.getCanvas();S?this.clearRect(S.x||0,S.y||0,S.width||0,S.height||0):this.clearRect(0,0,o.getWidth()/o.pixelRatio,o.getHeight()/o.pixelRatio)}_applyLineCap(S){const o=S.attrs.lineCap;o&&this.setAttr("lineCap",o)}_applyOpacity(S){const o=S.getAbsoluteOpacity();o!==1&&this.setAttr("globalAlpha",o)}_applyLineJoin(S){const o=S.attrs.lineJoin;o&&this.setAttr("lineJoin",o)}setAttr(S,o){this._context[S]=o}arc(S,o,C,R,z,F){this._context.arc(S,o,C,R,z,F)}arcTo(S,o,C,R,z){this._context.arcTo(S,o,C,R,z)}beginPath(){this._context.beginPath()}bezierCurveTo(S,o,C,R,z,F){this._context.bezierCurveTo(S,o,C,R,z,F)}clearRect(S,o,C,R){this._context.clearRect(S,o,C,R)}clip(...S){this._context.clip.apply(this._context,S)}closePath(){this._context.closePath()}createImageData(S,o){const C=arguments;if(C.length===2)return this._context.createImageData(S,o);if(C.length===1)return this._context.createImageData(S)}createLinearGradient(S,o,C,R){return this._context.createLinearGradient(S,o,C,R)}createPattern(S,o){return this._context.createPattern(S,o)}createRadialGradient(S,o,C,R,z,F){return this._context.createRadialGradient(S,o,C,R,z,F)}drawImage(S,o,C,R,z,F,A,M,G){const L=arguments,K=this._context;L.length===3?K.drawImage(S,o,C):L.length===5?K.drawImage(S,o,C,R,z):L.length===9&&K.drawImage(S,o,C,R,z,F,A,M,G)}ellipse(S,o,C,R,z,F,A,M){this._context.ellipse(S,o,C,R,z,F,A,M)}isPointInPath(S,o,C,R){return C?this._context.isPointInPath(C,S,o,R):this._context.isPointInPath(S,o,R)}fill(...S){this._context.fill.apply(this._context,S)}fillRect(S,o,C,R){this._context.fillRect(S,o,C,R)}strokeRect(S,o,C,R){this._context.strokeRect(S,o,C,R)}fillText(S,o,C,R){R?this._context.fillText(S,o,C,R):this._context.fillText(S,o,C)}measureText(S){return this._context.measureText(S)}getImageData(S,o,C,R){return this._context.getImageData(S,o,C,R)}lineTo(S,o){this._context.lineTo(S,o)}moveTo(S,o){this._context.moveTo(S,o)}rect(S,o,C,R){this._context.rect(S,o,C,R)}roundRect(S,o,C,R,z){this._context.roundRect(S,o,C,R,z)}putImageData(S,o,C){this._context.putImageData(S,o,C)}quadraticCurveTo(S,o,C,R){this._context.quadraticCurveTo(S,o,C,R)}restore(){this._context.restore()}rotate(S){this._context.rotate(S)}save(){this._context.save()}scale(S,o){this._context.scale(S,o)}setLineDash(S){this._context.setLineDash?this._context.setLineDash(S):"mozDash"in this._context?this._context.mozDash=S:"webkitLineDash"in this._context&&(this._context.webkitLineDash=S)}getLineDash(){return this._context.getLineDash()}setTransform(S,o,C,R,z,F){this._context.setTransform(S,o,C,R,z,F)}stroke(S){S?this._context.stroke(S):this._context.stroke()}strokeText(S,o,C,R){this._context.strokeText(S,o,C,R)}transform(S,o,C,R,z,F){this._context.transform(S,o,C,R,z,F)}translate(S,o){this._context.translate(S,o)}_enableTrace(){let S=this,o=x.length,C=this.setAttr,R,z;const F=function(A){let M=S[A],G;S[A]=function(){return z=m(Array.prototype.slice.call(arguments,0)),G=M.apply(S,arguments),S._trace({method:A,args:z}),G}};for(R=0;R<o;R++)F(x[R]);S.setAttr=function(){C.apply(S,arguments);const A=arguments[0];let M=arguments[1];(A==="shadowOffsetX"||A==="shadowOffsetY"||A==="shadowBlur")&&(M=M/this.canvas.getPixelRatio()),S._trace({property:A,val:M})}}_applyGlobalCompositeOperation(S){const o=S.attrs.globalCompositeOperation;!o||o==="source-over"||this.setAttr("globalCompositeOperation",o)}};Sn.Context=g,b.forEach(function(D){Object.defineProperty(g.prototype,D,{get(){return this._context[D]},set(S){this._context[D]=S}})});class E extends g{constructor(S,{willReadFrequently:o=!1}={}){super(S),this._context=S._canvas.getContext("2d",{willReadFrequently:o})}_fillColor(S){const o=S.fill();this.setAttr("fillStyle",o),S._fillFunc(this)}_fillPattern(S){this.setAttr("fillStyle",S._getFillPattern()),S._fillFunc(this)}_fillLinearGradient(S){const o=S._getLinearGradient();o&&(this.setAttr("fillStyle",o),S._fillFunc(this))}_fillRadialGradient(S){const o=S._getRadialGradient();o&&(this.setAttr("fillStyle",o),S._fillFunc(this))}_fill(S){const o=S.fill(),C=S.getFillPriority();if(o&&C==="color"){this._fillColor(S);return}const R=S.getFillPatternImage();if(R&&C==="pattern"){this._fillPattern(S);return}const z=S.getFillLinearGradientColorStops();if(z&&C==="linear-gradient"){this._fillLinearGradient(S);return}const F=S.getFillRadialGradientColorStops();if(F&&C==="radial-gradient"){this._fillRadialGradient(S);return}o?this._fillColor(S):R?this._fillPattern(S):z?this._fillLinearGradient(S):F&&this._fillRadialGradient(S)}_strokeLinearGradient(S){const o=S.getStrokeLinearGradientStartPoint(),C=S.getStrokeLinearGradientEndPoint(),R=S.getStrokeLinearGradientColorStops(),z=this.createLinearGradient(o.x,o.y,C.x,C.y);if(R){for(let F=0;F<R.length;F+=2)z.addColorStop(R[F],R[F+1]);this.setAttr("strokeStyle",z)}}_stroke(S){const o=S.dash(),C=S.getStrokeScaleEnabled();if(S.hasStroke()){if(!C){this.save();const z=this.getCanvas().getPixelRatio();this.setTransform(z,0,0,z,0,0)}this._applyLineCap(S),o&&S.dashEnabled()&&(this.setLineDash(o),this.setAttr("lineDashOffset",S.dashOffset())),this.setAttr("lineWidth",S.strokeWidth()),S.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),S.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(S):this.setAttr("strokeStyle",S.stroke()),S._strokeFunc(this),C||this.restore()}}_applyShadow(S){var o,C,R;const z=(o=S.getShadowRGBA())!==null&&o!==void 0?o:"black",F=(C=S.getShadowBlur())!==null&&C!==void 0?C:5,A=(R=S.getShadowOffset())!==null&&R!==void 0?R:{x:0,y:0},M=S.getAbsoluteScale(),G=this.canvas.getPixelRatio(),L=M.x*G,K=M.y*G;this.setAttr("shadowColor",z),this.setAttr("shadowBlur",F*Math.min(Math.abs(L),Math.abs(K))),this.setAttr("shadowOffsetX",A.x*L),this.setAttr("shadowOffsetY",A.y*K)}}Sn.SceneContext=E;class N extends g{constructor(S){super(S),this._context=S._canvas.getContext("2d",{willReadFrequently:!0})}_fill(S){this.save(),this.setAttr("fillStyle",S.colorKey),S._fillFuncHit(this),this.restore()}strokeShape(S){S.hasHitStroke()&&this._stroke(S)}_stroke(S){if(S.hasHitStroke()){const o=S.getStrokeScaleEnabled();if(!o){this.save();const z=this.getCanvas().getPixelRatio();this.setTransform(z,0,0,z,0,0)}this._applyLineCap(S);const C=S.hitStrokeWidth(),R=C==="auto"?S.strokeWidth():C;this.setAttr("lineWidth",R),this.setAttr("strokeStyle",S.colorKey),S._strokeFuncHit(this),o||this.restore()}}}return Sn.HitContext=N,Sn}var Zh;function Nl(){if(Zh)return _n;Zh=1,Object.defineProperty(_n,"__esModule",{value:!0}),_n.HitCanvas=_n.SceneCanvas=_n.Canvas=void 0;const i=Xt(),s=zf(),m=xt();let h;function r(){if(h)return h;const v=i.Util.createCanvasElement(),p=v.getContext("2d");return h=function(){const _=m.Konva._global.devicePixelRatio||1,x=p.webkitBackingStorePixelRatio||p.mozBackingStorePixelRatio||p.msBackingStorePixelRatio||p.oBackingStorePixelRatio||p.backingStorePixelRatio||1;return _/x}(),i.Util.releaseCanvas(v),h}let d=class{constructor(p){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const x=(p||{}).pixelRatio||m.Konva.pixelRatio||r();this.pixelRatio=x,this._canvas=i.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(p){const _=this.pixelRatio;this.pixelRatio=p,this.setSize(this.getWidth()/_,this.getHeight()/_)}setWidth(p){this.width=this._canvas.width=p*this.pixelRatio,this._canvas.style.width=p+"px";const _=this.pixelRatio;this.getContext()._context.scale(_,_)}setHeight(p){this.height=this._canvas.height=p*this.pixelRatio,this._canvas.style.height=p+"px";const _=this.pixelRatio;this.getContext()._context.scale(_,_)}getWidth(){return this.width}getHeight(){return this.height}setSize(p,_){this.setWidth(p||0),this.setHeight(_||0)}toDataURL(p,_){try{return this._canvas.toDataURL(p,_)}catch{try{return this._canvas.toDataURL()}catch(b){return i.Util.error("Unable to get data URL. "+b.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}};_n.Canvas=d;class c extends d{constructor(p={width:0,height:0,willReadFrequently:!1}){super(p),this.context=new s.SceneContext(this,{willReadFrequently:p.willReadFrequently}),this.setSize(p.width,p.height)}}_n.SceneCanvas=c;class f extends d{constructor(p={width:0,height:0}){super(p),this.hitCanvas=!0,this.context=new s.HitContext(this),this.setSize(p.width,p.height)}}return _n.HitCanvas=f,_n}var yo={},Jh;function qo(){return Jh||(Jh=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.DD=void 0;const s=xt(),m=Xt();i.DD={get isDragging(){let h=!1;return i.DD._dragElements.forEach(r=>{r.dragStatus==="dragging"&&(h=!0)}),h},justDragged:!1,get node(){let h;return i.DD._dragElements.forEach(r=>{h=r.node}),h},_dragElements:new Map,_drag(h){const r=[];i.DD._dragElements.forEach((d,c)=>{const{node:f}=d,v=f.getStage();v.setPointersPositions(h),d.pointerId===void 0&&(d.pointerId=m.Util._getFirstPointerId(h));const p=v._changedPointerPositions.find(_=>_.id===d.pointerId);if(p){if(d.dragStatus!=="dragging"){const _=f.dragDistance();if(Math.max(Math.abs(p.x-d.startPointerPos.x),Math.abs(p.y-d.startPointerPos.y))<_||(f.startDrag({evt:h}),!f.isDragging()))return}f._setDragPosition(h,d),r.push(f)}}),r.forEach(d=>{d.fire("dragmove",{type:"dragmove",target:d,evt:h},!0)})},_endDragBefore(h){const r=[];i.DD._dragElements.forEach(d=>{const{node:c}=d,f=c.getStage();if(h&&f.setPointersPositions(h),!f._changedPointerPositions.find(_=>_.id===d.pointerId))return;(d.dragStatus==="dragging"||d.dragStatus==="stopped")&&(i.DD.justDragged=!0,s.Konva._mouseListenClick=!1,s.Konva._touchListenClick=!1,s.Konva._pointerListenClick=!1,d.dragStatus="stopped");const p=d.node.getLayer()||d.node instanceof s.Konva.Stage&&d.node;p&&r.indexOf(p)===-1&&r.push(p)}),r.forEach(d=>{d.draw()})},_endDragAfter(h){i.DD._dragElements.forEach((r,d)=>{r.dragStatus==="stopped"&&r.node.fire("dragend",{type:"dragend",target:r.node,evt:h},!0),r.dragStatus!=="dragging"&&i.DD._dragElements.delete(d)})}},s.Konva.isBrowser&&(window.addEventListener("mouseup",i.DD._endDragBefore,!0),window.addEventListener("touchend",i.DD._endDragBefore,!0),window.addEventListener("touchcancel",i.DD._endDragBefore,!0),window.addEventListener("mousemove",i.DD._drag),window.addEventListener("touchmove",i.DD._drag),window.addEventListener("mouseup",i.DD._endDragAfter,!1),window.addEventListener("touchend",i.DD._endDragAfter,!1),window.addEventListener("touchcancel",i.DD._endDragAfter,!1))}(yo)),yo}var vo={},Re={},Wh;function At(){if(Wh)return Re;Wh=1,Object.defineProperty(Re,"__esModule",{value:!0}),Re.RGBComponent=h,Re.alphaComponent=r,Re.getNumberValidator=d,Re.getNumberOrArrayOfNumbersValidator=c,Re.getNumberOrAutoValidator=f,Re.getStringValidator=v,Re.getStringOrGradientValidator=p,Re.getFunctionValidator=_,Re.getNumberArrayValidator=x,Re.getBooleanValidator=b,Re.getComponentValidator=y;const i=xt(),s=Xt();function m(g){return s.Util._isString(g)?'"'+g+'"':Object.prototype.toString.call(g)==="[object Number]"||s.Util._isBoolean(g)?g:Object.prototype.toString.call(g)}function h(g){return g>255?255:g<0?0:Math.round(g)}function r(g){return g>1?1:g<1e-4?1e-4:g}function d(){if(i.Konva.isUnminified)return function(g,E){return s.Util._isNumber(g)||s.Util.warn(m(g)+' is a not valid value for "'+E+'" attribute. The value should be a number.'),g}}function c(g){if(i.Konva.isUnminified)return function(E,N){let D=s.Util._isNumber(E),S=s.Util._isArray(E)&&E.length==g;return!D&&!S&&s.Util.warn(m(E)+' is a not valid value for "'+N+'" attribute. The value should be a number or Array<number>('+g+")"),E}}function f(){if(i.Konva.isUnminified)return function(g,E){return s.Util._isNumber(g)||g==="auto"||s.Util.warn(m(g)+' is a not valid value for "'+E+'" attribute. The value should be a number or "auto".'),g}}function v(){if(i.Konva.isUnminified)return function(g,E){return s.Util._isString(g)||s.Util.warn(m(g)+' is a not valid value for "'+E+'" attribute. The value should be a string.'),g}}function p(){if(i.Konva.isUnminified)return function(g,E){const N=s.Util._isString(g),D=Object.prototype.toString.call(g)==="[object CanvasGradient]"||g&&g.addColorStop;return N||D||s.Util.warn(m(g)+' is a not valid value for "'+E+'" attribute. The value should be a string or a native gradient.'),g}}function _(){if(i.Konva.isUnminified)return function(g,E){return s.Util._isFunction(g)||s.Util.warn(m(g)+' is a not valid value for "'+E+'" attribute. The value should be a function.'),g}}function x(){if(i.Konva.isUnminified)return function(g,E){const N=Int8Array?Object.getPrototypeOf(Int8Array):null;return N&&g instanceof N||(s.Util._isArray(g)?g.forEach(function(D){s.Util._isNumber(D)||s.Util.warn('"'+E+'" attribute has non numeric element '+D+". Make sure that all elements are numbers.")}):s.Util.warn(m(g)+' is a not valid value for "'+E+'" attribute. The value should be a array of numbers.')),g}}function b(){if(i.Konva.isUnminified)return function(g,E){return g===!0||g===!1||s.Util.warn(m(g)+' is a not valid value for "'+E+'" attribute. The value should be a boolean.'),g}}function y(g){if(i.Konva.isUnminified)return function(E,N){return E==null||s.Util.isObject(E)||s.Util.warn(m(E)+' is a not valid value for "'+N+'" attribute. The value should be an object with properties '+g),E}}return Re}var Ih;function Rt(){return Ih||(Ih=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.Factory=void 0;const s=Xt(),m=At(),h="get",r="set";i.Factory={addGetterSetter(d,c,f,v,p){i.Factory.addGetter(d,c,f),i.Factory.addSetter(d,c,v,p),i.Factory.addOverloadedGetterSetter(d,c)},addGetter(d,c,f){const v=h+s.Util._capitalize(c);d.prototype[v]=d.prototype[v]||function(){const p=this.attrs[c];return p===void 0?f:p}},addSetter(d,c,f,v){const p=r+s.Util._capitalize(c);d.prototype[p]||i.Factory.overWriteSetter(d,c,f,v)},overWriteSetter(d,c,f,v){const p=r+s.Util._capitalize(c);d.prototype[p]=function(_){return f&&_!==void 0&&_!==null&&(_=f.call(this,_,c)),this._setAttr(c,_),v&&v.call(this),this}},addComponentsGetterSetter(d,c,f,v,p){const _=f.length,x=s.Util._capitalize,b=h+x(c),y=r+x(c);d.prototype[b]=function(){const E={};for(let N=0;N<_;N++){const D=f[N];E[D]=this.getAttr(c+x(D))}return E};const g=(0,m.getComponentValidator)(f);d.prototype[y]=function(E){const N=this.attrs[c];v&&(E=v.call(this,E,c)),g&&g.call(this,E,c);for(const D in E)E.hasOwnProperty(D)&&this._setAttr(c+x(D),E[D]);return E||f.forEach(D=>{this._setAttr(c+x(D),void 0)}),this._fireChangeEvent(c,N,E),p&&p.call(this),this},i.Factory.addOverloadedGetterSetter(d,c)},addOverloadedGetterSetter(d,c){const f=s.Util._capitalize(c),v=r+f,p=h+f;d.prototype[c]=function(){return arguments.length?(this[v](arguments[0]),this):this[p]()}},addDeprecatedGetterSetter(d,c,f,v){s.Util.error("Adding deprecated "+c);const p=h+s.Util._capitalize(c),_=c+" property is deprecated and will be removed soon. Look at Konva change log for more information.";d.prototype[p]=function(){s.Util.error(_);const x=this.attrs[c];return x===void 0?f:x},i.Factory.addSetter(d,c,v,function(){s.Util.error(_)}),i.Factory.addOverloadedGetterSetter(d,c)},backCompat(d,c){s.Util.each(c,function(f,v){const p=d.prototype[v],_=h+s.Util._capitalize(f),x=r+s.Util._capitalize(f);function b(){p.apply(this,arguments),s.Util.error('"'+f+'" method is deprecated and will be removed soon. Use ""'+v+'" instead.')}d.prototype[f]=b,d.prototype[_]=b,d.prototype[x]=b})},afterSetFilter(){this._filterUpToDate=!1}}}(vo)),vo}var $h;function Jt(){if($h)return Ti;$h=1,Object.defineProperty(Ti,"__esModule",{value:!0}),Ti.Node=void 0;const i=Nl(),s=qo(),m=Rt(),h=xt(),r=Xt(),d=At(),c="absoluteOpacity",f="allEventListeners",v="absoluteTransform",p="absoluteScale",_="canvas",x="Change",b="children",y="konva",g="listening",E="mouseenter",N="mouseleave",D="pointerenter",S="pointerleave",o="touchenter",C="touchleave",R="set",z="Shape",F=" ",A="stage",M="transform",G="Stage",L="visible",K=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(F);let X=1,V=class wo{constructor(T){this._id=X++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(T),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(T){(T===M||T===v)&&this._cache.get(T)?this._cache.get(T).dirty=!0:T?this._cache.delete(T):this._cache.clear()}_getCache(T,O){let w=this._cache.get(T);return(w===void 0||(T===M||T===v)&&w.dirty===!0)&&(w=O.call(this),this._cache.set(T,w)),w}_calculate(T,O,w){if(!this._attachedDepsListeners.get(T)){const B=O.map(q=>q+"Change.konva").join(F);this.on(B,()=>{this._clearCache(T)}),this._attachedDepsListeners.set(T,!0)}return this._getCache(T,w)}_getCanvasCache(){return this._cache.get(_)}_clearSelfAndDescendantCache(T){this._clearCache(T),T===v&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(_)){const{scene:T,filter:O,hit:w,buffer:B}=this._cache.get(_);r.Util.releaseCanvas(T,O,w,B),this._cache.delete(_)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(T){const O=T||{};let w={};(O.x===void 0||O.y===void 0||O.width===void 0||O.height===void 0)&&(w=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let B=Math.ceil(O.width||w.width),q=Math.ceil(O.height||w.height),W=O.pixelRatio,Y=O.x===void 0?Math.floor(w.x):O.x,tt=O.y===void 0?Math.floor(w.y):O.y,ot=O.offset||0,I=O.drawBorder||!1,H=O.hitCanvasPixelRatio||1;if(!B||!q){r.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const Z=Math.abs(Math.round(w.x)-Y)>.5?1:0,rt=Math.abs(Math.round(w.y)-tt)>.5?1:0;B+=ot*2+Z,q+=ot*2+rt,Y-=ot,tt-=ot;const ut=new i.SceneCanvas({pixelRatio:W,width:B,height:q}),dt=new i.SceneCanvas({pixelRatio:W,width:0,height:0,willReadFrequently:!0}),yt=new i.HitCanvas({pixelRatio:H,width:B,height:q}),vt=ut.getContext(),Gt=yt.getContext(),gt=new i.SceneCanvas({width:ut.width/ut.pixelRatio+Math.abs(Y),height:ut.height/ut.pixelRatio+Math.abs(tt),pixelRatio:ut.pixelRatio}),jt=gt.getContext();return yt.isCache=!0,ut.isCache=!0,this._cache.delete(_),this._filterUpToDate=!1,O.imageSmoothingEnabled===!1&&(ut.getContext()._context.imageSmoothingEnabled=!1,dt.getContext()._context.imageSmoothingEnabled=!1),vt.save(),Gt.save(),jt.save(),vt.translate(-Y,-tt),Gt.translate(-Y,-tt),jt.translate(-Y,-tt),gt.x=Y,gt.y=tt,this._isUnderCache=!0,this._clearSelfAndDescendantCache(c),this._clearSelfAndDescendantCache(p),this.drawScene(ut,this,gt),this.drawHit(yt,this),this._isUnderCache=!1,vt.restore(),Gt.restore(),I&&(vt.save(),vt.beginPath(),vt.rect(0,0,B,q),vt.closePath(),vt.setAttr("strokeStyle","red"),vt.setAttr("lineWidth",5),vt.stroke(),vt.restore()),this._cache.set(_,{scene:ut,filter:dt,hit:yt,buffer:gt,x:Y,y:tt}),this._requestDraw(),this}isCached(){return this._cache.has(_)}getClientRect(T){throw new Error('abstract "getClientRect" method call')}_transformedRect(T,O){const w=[{x:T.x,y:T.y},{x:T.x+T.width,y:T.y},{x:T.x+T.width,y:T.y+T.height},{x:T.x,y:T.y+T.height}];let B=1/0,q=1/0,W=-1/0,Y=-1/0;const tt=this.getAbsoluteTransform(O);return w.forEach(function(ot){const I=tt.point(ot);B===void 0&&(B=W=I.x,q=Y=I.y),B=Math.min(B,I.x),q=Math.min(q,I.y),W=Math.max(W,I.x),Y=Math.max(Y,I.y)}),{x:B,y:q,width:W-B,height:Y-q}}_drawCachedSceneCanvas(T){T.save(),T._applyOpacity(this),T._applyGlobalCompositeOperation(this);const O=this._getCanvasCache();T.translate(O.x,O.y);const w=this._getCachedSceneCanvas(),B=w.pixelRatio;T.drawImage(w._canvas,0,0,w.width/B,w.height/B),T.restore()}_drawCachedHitCanvas(T){const O=this._getCanvasCache(),w=O.hit;T.save(),T.translate(O.x,O.y),T.drawImage(w._canvas,0,0,w.width/w.pixelRatio,w.height/w.pixelRatio),T.restore()}_getCachedSceneCanvas(){let T=this.filters(),O=this._getCanvasCache(),w=O.scene,B=O.filter,q=B.getContext(),W,Y,tt,ot;if(T){if(!this._filterUpToDate){const I=w.pixelRatio;B.setSize(w.width/w.pixelRatio,w.height/w.pixelRatio);try{for(W=T.length,q.clear(),q.drawImage(w._canvas,0,0,w.getWidth()/I,w.getHeight()/I),Y=q.getImageData(0,0,B.getWidth(),B.getHeight()),tt=0;tt<W;tt++){if(ot=T[tt],typeof ot!="function"){r.Util.error("Filter should be type of function, but got "+typeof ot+" instead. Please check correct filters");continue}ot.call(this,Y),q.putImageData(Y,0,0)}}catch(H){r.Util.error("Unable to apply filter. "+H.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return B}return w}on(T,O){if(this._cache&&this._cache.delete(f),arguments.length===3)return this._delegate.apply(this,arguments);const w=T.split(F);for(let B=0;B<w.length;B++){const W=w[B].split("."),Y=W[0],tt=W[1]||"";this.eventListeners[Y]||(this.eventListeners[Y]=[]),this.eventListeners[Y].push({name:tt,handler:O})}return this}off(T,O){let w=(T||"").split(F),B=w.length,q,W,Y,tt,ot,I;if(this._cache&&this._cache.delete(f),!T)for(W in this.eventListeners)this._off(W);for(q=0;q<B;q++)if(Y=w[q],tt=Y.split("."),ot=tt[0],I=tt[1],ot)this.eventListeners[ot]&&this._off(ot,I,O);else for(W in this.eventListeners)this._off(W,I,O);return this}dispatchEvent(T){const O={target:this,type:T.type,evt:T};return this.fire(T.type,O),this}addEventListener(T,O){return this.on(T,function(w){O.call(this,w.evt)}),this}removeEventListener(T){return this.off(T),this}_delegate(T,O,w){const B=this;this.on(T,function(q){const W=q.target.findAncestors(O,!0,B);for(let Y=0;Y<W.length;Y++)q=r.Util.cloneObject(q),q.currentTarget=W[Y],w.call(W[Y],q)})}remove(){return this.isDragging()&&this.stopDrag(),s.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(v),this._clearSelfAndDescendantCache(c),this._clearSelfAndDescendantCache(p),this._clearSelfAndDescendantCache(A),this._clearSelfAndDescendantCache(L),this._clearSelfAndDescendantCache(g)}_remove(){this._clearCaches();const T=this.getParent();T&&T.children&&(T.children.splice(this.index,1),T._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(T){const O="get"+r.Util._capitalize(T);return r.Util._isFunction(this[O])?this[O]():this.attrs[T]}getAncestors(){let T=this.getParent(),O=[];for(;T;)O.push(T),T=T.getParent();return O}getAttrs(){return this.attrs||{}}setAttrs(T){return this._batchTransformChanges(()=>{let O,w;if(!T)return this;for(O in T)O!==b&&(w=R+r.Util._capitalize(O),r.Util._isFunction(this[w])?this[w](T[O]):this._setAttr(O,T[O]))}),this}isListening(){return this._getCache(g,this._isListening)}_isListening(T){if(!this.listening())return!1;const w=this.getParent();return w&&w!==T&&this!==T?w._isListening(T):!0}isVisible(){return this._getCache(L,this._isVisible)}_isVisible(T){if(!this.visible())return!1;const w=this.getParent();return w&&w!==T&&this!==T?w._isVisible(T):!0}shouldDrawHit(T,O=!1){if(T)return this._isVisible(T)&&this._isListening(T);const w=this.getLayer();let B=!1;s.DD._dragElements.forEach(W=>{W.dragStatus==="dragging"&&(W.node.nodeType==="Stage"||W.node.getLayer()===w)&&(B=!0)});const q=!O&&!h.Konva.hitOnDragEnabled&&(B||h.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!q}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let T=this.getDepth(),O=this,w=0,B,q,W,Y;function tt(I){for(B=[],q=I.length,W=0;W<q;W++)Y=I[W],w++,Y.nodeType!==z&&(B=B.concat(Y.getChildren().slice())),Y._id===O._id&&(W=q);B.length>0&&B[0].getDepth()<=T&&tt(B)}const ot=this.getStage();return O.nodeType!==G&&ot&&tt(ot.getChildren()),w}getDepth(){let T=0,O=this.parent;for(;O;)T++,O=O.parent;return T}_batchTransformChanges(T){this._batchingTransformChange=!0,T(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(M),this._clearSelfAndDescendantCache(v)),this._needClearTransformCache=!1}setPosition(T){return this._batchTransformChanges(()=>{this.x(T.x),this.y(T.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const T=this.getStage();if(!T)return null;const O=T.getPointerPosition();if(!O)return null;const w=this.getAbsoluteTransform().copy();return w.invert(),w.point(O)}getAbsolutePosition(T){let O=!1,w=this.parent;for(;w;){if(w.isCached()){O=!0;break}w=w.parent}O&&!T&&(T=!0);const B=this.getAbsoluteTransform(T).getMatrix(),q=new r.Transform,W=this.offset();return q.m=B.slice(),q.translate(W.x,W.y),q.getTranslation()}setAbsolutePosition(T){const{x:O,y:w,...B}=this._clearTransform();this.attrs.x=O,this.attrs.y=w,this._clearCache(M);const q=this._getAbsoluteTransform().copy();return q.invert(),q.translate(T.x,T.y),T={x:this.attrs.x+q.getTranslation().x,y:this.attrs.y+q.getTranslation().y},this._setTransform(B),this.setPosition({x:T.x,y:T.y}),this._clearCache(M),this._clearSelfAndDescendantCache(v),this}_setTransform(T){let O;for(O in T)this.attrs[O]=T[O]}_clearTransform(){const T={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,T}move(T){let O=T.x,w=T.y,B=this.x(),q=this.y();return O!==void 0&&(B+=O),w!==void 0&&(q+=w),this.setPosition({x:B,y:q}),this}_eachAncestorReverse(T,O){let w=[],B=this.getParent(),q,W;if(!(O&&O._id===this._id)){for(w.unshift(this);B&&(!O||B._id!==O._id);)w.unshift(B),B=B.parent;for(q=w.length,W=0;W<q;W++)T(w[W])}}rotate(T){return this.rotation(this.rotation()+T),this}moveToTop(){if(!this.parent)return r.Util.warn("Node has no parent. moveToTop function is ignored."),!1;const T=this.index,O=this.parent.getChildren().length;return T<O-1?(this.parent.children.splice(T,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return r.Util.warn("Node has no parent. moveUp function is ignored."),!1;const T=this.index,O=this.parent.getChildren().length;return T<O-1?(this.parent.children.splice(T,1),this.parent.children.splice(T+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return r.Util.warn("Node has no parent. moveDown function is ignored."),!1;const T=this.index;return T>0?(this.parent.children.splice(T,1),this.parent.children.splice(T-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return r.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;const T=this.index;return T>0?(this.parent.children.splice(T,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(T){if(!this.parent)return r.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(T<0||T>=this.parent.children.length)&&r.Util.warn("Unexpected value "+T+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const O=this.index;return this.parent.children.splice(O,1),this.parent.children.splice(T,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(c,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let T=this.opacity();const O=this.getParent();return O&&!O._isUnderCache&&(T*=O.getAbsoluteOpacity()),T}moveTo(T){return this.getParent()!==T&&(this._remove(),T.add(this)),this}toObject(){let T=this.getAttrs(),O,w,B,q,W;const Y={attrs:{},className:this.getClassName()};for(O in T)w=T[O],W=r.Util.isObject(w)&&!r.Util._isPlainObject(w)&&!r.Util._isArray(w),!W&&(B=typeof this[O]=="function"&&this[O],delete T[O],q=B?B.call(this):null,T[O]=w,q!==w&&(Y.attrs[O]=w));return r.Util._prepareToStringify(Y)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(T,O,w){const B=[];O&&this._isMatch(T)&&B.push(this);let q=this.parent;for(;q;){if(q===w)return B;q._isMatch(T)&&B.push(q),q=q.parent}return B}isAncestorOf(T){return!1}findAncestor(T,O,w){return this.findAncestors(T,O,w)[0]}_isMatch(T){if(!T)return!1;if(typeof T=="function")return T(this);let O=T.replace(/ /g,"").split(","),w=O.length,B,q;for(B=0;B<w;B++)if(q=O[B],r.Util.isValidSelector(q)||(r.Util.warn('Selector "'+q+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),r.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),r.Util.warn("Konva is awesome, right?")),q.charAt(0)==="#"){if(this.id()===q.slice(1))return!0}else if(q.charAt(0)==="."){if(this.hasName(q.slice(1)))return!0}else if(this.className===q||this.nodeType===q)return!0;return!1}getLayer(){const T=this.getParent();return T?T.getLayer():null}getStage(){return this._getCache(A,this._getStage)}_getStage(){const T=this.getParent();return T?T.getStage():null}fire(T,O={},w){return O.target=O.target||this,w?this._fireAndBubble(T,O):this._fire(T,O),this}getAbsoluteTransform(T){return T?this._getAbsoluteTransform(T):this._getCache(v,this._getAbsoluteTransform)}_getAbsoluteTransform(T){let O;if(T)return O=new r.Transform,this._eachAncestorReverse(function(w){const B=w.transformsEnabled();B==="all"?O.multiply(w.getTransform()):B==="position"&&O.translate(w.x()-w.offsetX(),w.y()-w.offsetY())},T),O;{O=this._cache.get(v)||new r.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(O):O.reset();const w=this.transformsEnabled();if(w==="all")O.multiply(this.getTransform());else if(w==="position"){const B=this.attrs.x||0,q=this.attrs.y||0,W=this.attrs.offsetX||0,Y=this.attrs.offsetY||0;O.translate(B-W,q-Y)}return O.dirty=!1,O}}getAbsoluteScale(T){let O=this;for(;O;)O._isUnderCache&&(T=O),O=O.getParent();const B=this.getAbsoluteTransform(T).decompose();return{x:B.scaleX,y:B.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(M,this._getTransform)}_getTransform(){var T,O;const w=this._cache.get(M)||new r.Transform;w.reset();const B=this.x(),q=this.y(),W=h.Konva.getAngle(this.rotation()),Y=(T=this.attrs.scaleX)!==null&&T!==void 0?T:1,tt=(O=this.attrs.scaleY)!==null&&O!==void 0?O:1,ot=this.attrs.skewX||0,I=this.attrs.skewY||0,H=this.attrs.offsetX||0,Z=this.attrs.offsetY||0;return(B!==0||q!==0)&&w.translate(B,q),W!==0&&w.rotate(W),(ot!==0||I!==0)&&w.skew(ot,I),(Y!==1||tt!==1)&&w.scale(Y,tt),(H!==0||Z!==0)&&w.translate(-1*H,-1*Z),w.dirty=!1,w}clone(T){let O=r.Util.cloneObject(this.attrs),w,B,q,W,Y;for(w in T)O[w]=T[w];const tt=new this.constructor(O);for(w in this.eventListeners)for(B=this.eventListeners[w],q=B.length,W=0;W<q;W++)Y=B[W],Y.name.indexOf(y)<0&&(tt.eventListeners[w]||(tt.eventListeners[w]=[]),tt.eventListeners[w].push(Y));return tt}_toKonvaCanvas(T){T=T||{};const O=this.getClientRect(),w=this.getStage(),B=T.x!==void 0?T.x:Math.floor(O.x),q=T.y!==void 0?T.y:Math.floor(O.y),W=T.pixelRatio||1,Y=new i.SceneCanvas({width:T.width||Math.ceil(O.width)||(w?w.width():0),height:T.height||Math.ceil(O.height)||(w?w.height():0),pixelRatio:W}),tt=Y.getContext(),ot=new i.SceneCanvas({width:Y.width/Y.pixelRatio+Math.abs(B),height:Y.height/Y.pixelRatio+Math.abs(q),pixelRatio:Y.pixelRatio});return T.imageSmoothingEnabled===!1&&(tt._context.imageSmoothingEnabled=!1),tt.save(),(B||q)&&tt.translate(-1*B,-1*q),this.drawScene(Y,void 0,ot),tt.restore(),Y}toCanvas(T){return this._toKonvaCanvas(T)._canvas}toDataURL(T){T=T||{};const O=T.mimeType||null,w=T.quality||null,B=this._toKonvaCanvas(T).toDataURL(O,w);return T.callback&&T.callback(B),B}toImage(T){return new Promise((O,w)=>{try{const B=T?.callback;B&&delete T.callback,r.Util._urlToImage(this.toDataURL(T),function(q){O(q),B?.(q)})}catch(B){w(B)}})}toBlob(T){return new Promise((O,w)=>{try{const B=T?.callback;B&&delete T.callback,this.toCanvas(T).toBlob(q=>{O(q),B?.(q)},T?.mimeType,T?.quality)}catch(B){w(B)}})}setSize(T){return this.width(T.width),this.height(T.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():h.Konva.dragDistance}_off(T,O,w){let B=this.eventListeners[T],q,W,Y;for(q=0;q<B.length;q++)if(W=B[q].name,Y=B[q].handler,(W!=="konva"||O==="konva")&&(!O||W===O)&&(!w||w===Y)){if(B.splice(q,1),B.length===0){delete this.eventListeners[T];break}q--}}_fireChangeEvent(T,O,w){this._fire(T+x,{oldVal:O,newVal:w})}addName(T){if(!this.hasName(T)){const O=this.name(),w=O?O+" "+T:T;this.name(w)}return this}hasName(T){if(!T)return!1;const O=this.name();return O?(O||"").split(/\s/g).indexOf(T)!==-1:!1}removeName(T){const O=(this.name()||"").split(/\s/g),w=O.indexOf(T);return w!==-1&&(O.splice(w,1),this.name(O.join(" "))),this}setAttr(T,O){const w=this[R+r.Util._capitalize(T)];return r.Util._isFunction(w)?w.call(this,O):this._setAttr(T,O),this}_requestDraw(){if(h.Konva.autoDrawEnabled){const T=this.getLayer()||this.getStage();T?.batchDraw()}}_setAttr(T,O){const w=this.attrs[T];w===O&&!r.Util.isObject(O)||(O==null?delete this.attrs[T]:this.attrs[T]=O,this._shouldFireChangeEvents&&this._fireChangeEvent(T,w,O),this._requestDraw())}_setComponentAttr(T,O,w){let B;w!==void 0&&(B=this.attrs[T],B||(this.attrs[T]=this.getAttr(T)),this.attrs[T][O]=w,this._fireChangeEvent(T,B,w))}_fireAndBubble(T,O,w){O&&this.nodeType===z&&(O.target=this);const B=[E,N,D,S,o,C];if(!(B.indexOf(T)!==-1&&(w&&(this===w||this.isAncestorOf&&this.isAncestorOf(w))||this.nodeType==="Stage"&&!w))){this._fire(T,O);const W=B.indexOf(T)!==-1&&w&&w.isAncestorOf&&w.isAncestorOf(this)&&!w.isAncestorOf(this.parent);(O&&!O.cancelBubble||!O)&&this.parent&&this.parent.isListening()&&!W&&(w&&w.parent?this._fireAndBubble.call(this.parent,T,O,w):this._fireAndBubble.call(this.parent,T,O))}}_getProtoListeners(T){var O,w,B;const q=(O=this._cache.get(f))!==null&&O!==void 0?O:{};let W=q?.[T];if(W===void 0){W=[];let Y=Object.getPrototypeOf(this);for(;Y;){const tt=(B=(w=Y.eventListeners)===null||w===void 0?void 0:w[T])!==null&&B!==void 0?B:[];W.push(...tt),Y=Object.getPrototypeOf(Y)}q[T]=W,this._cache.set(f,q)}return W}_fire(T,O){O=O||{},O.currentTarget=this,O.type=T;const w=this._getProtoListeners(T);if(w)for(let q=0;q<w.length;q++)w[q].handler.call(this,O);const B=this.eventListeners[T];if(B)for(let q=0;q<B.length;q++)B[q].handler.call(this,O)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(T){const O=T?T.pointerId:void 0,w=this.getStage(),B=this.getAbsolutePosition();if(!w)return;const q=w._getPointerById(O)||w._changedPointerPositions[0]||B;s.DD._dragElements.set(this._id,{node:this,startPointerPos:q,offset:{x:q.x-B.x,y:q.y-B.y},dragStatus:"ready",pointerId:O})}startDrag(T,O=!0){s.DD._dragElements.has(this._id)||this._createDragElement(T);const w=s.DD._dragElements.get(this._id);w.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:T&&T.evt},O)}_setDragPosition(T,O){const w=this.getStage()._getPointerById(O.pointerId);if(!w)return;let B={x:w.x-O.offset.x,y:w.y-O.offset.y};const q=this.dragBoundFunc();if(q!==void 0){const W=q.call(this,B,T);W?B=W:r.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==B.x||this._lastPos.y!==B.y)&&(this.setAbsolutePosition(B),this._requestDraw()),this._lastPos=B}stopDrag(T){const O=s.DD._dragElements.get(this._id);O&&(O.dragStatus="stopped"),s.DD._endDragBefore(T),s.DD._endDragAfter(T)}setDraggable(T){this._setAttr("draggable",T),this._dragChange()}isDragging(){const T=s.DD._dragElements.get(this._id);return T?T.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(T){if(!(!(T.evt.button!==void 0)||h.Konva.dragButtons.indexOf(T.evt.button)>=0)||this.isDragging())return;let B=!1;s.DD._dragElements.forEach(q=>{this.isAncestorOf(q.node)&&(B=!0)}),B||this._createDragElement(T)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const O=s.DD._dragElements.get(this._id),w=O&&O.dragStatus==="dragging",B=O&&O.dragStatus==="ready";w?this.stopDrag():B&&s.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(T={x:0,y:0}){const O=this.getStage();if(!O)return!1;const w={x:-T.x,y:-T.y,width:O.width()+2*T.x,height:O.height()+2*T.y};return r.Util.haveIntersection(w,this.getClientRect())}static create(T,O){return r.Util._isString(T)&&(T=JSON.parse(T)),this._createNode(T,O)}static _createNode(T,O){let w=wo.prototype.getClassName.call(T),B=T.children,q,W,Y;O&&(T.attrs.container=O),h.Konva[w]||(r.Util.warn('Can not find a node with class name "'+w+'". Fallback to "Shape".'),w="Shape");const tt=h.Konva[w];if(q=new tt(T.attrs),B)for(W=B.length,Y=0;Y<W;Y++)q.add(wo._createNode(B[Y]));return q}};Ti.Node=V,V.prototype.nodeType="Node",V.prototype._attrsAffectingSize=[],V.prototype.eventListeners={},V.prototype.on.call(V.prototype,K,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(M),this._clearSelfAndDescendantCache(v)}),V.prototype.on.call(V.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(L)}),V.prototype.on.call(V.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(g)}),V.prototype.on.call(V.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(c)});const j=m.Factory.addGetterSetter;return j(V,"zIndex"),j(V,"absolutePosition"),j(V,"position"),j(V,"x",0,(0,d.getNumberValidator)()),j(V,"y",0,(0,d.getNumberValidator)()),j(V,"globalCompositeOperation","source-over",(0,d.getStringValidator)()),j(V,"opacity",1,(0,d.getNumberValidator)()),j(V,"name","",(0,d.getStringValidator)()),j(V,"id","",(0,d.getStringValidator)()),j(V,"rotation",0,(0,d.getNumberValidator)()),m.Factory.addComponentsGetterSetter(V,"scale",["x","y"]),j(V,"scaleX",1,(0,d.getNumberValidator)()),j(V,"scaleY",1,(0,d.getNumberValidator)()),m.Factory.addComponentsGetterSetter(V,"skew",["x","y"]),j(V,"skewX",0,(0,d.getNumberValidator)()),j(V,"skewY",0,(0,d.getNumberValidator)()),m.Factory.addComponentsGetterSetter(V,"offset",["x","y"]),j(V,"offsetX",0,(0,d.getNumberValidator)()),j(V,"offsetY",0,(0,d.getNumberValidator)()),j(V,"dragDistance",void 0,(0,d.getNumberValidator)()),j(V,"width",0,(0,d.getNumberValidator)()),j(V,"height",0,(0,d.getNumberValidator)()),j(V,"listening",!0,(0,d.getBooleanValidator)()),j(V,"preventDefault",!0,(0,d.getBooleanValidator)()),j(V,"filters",void 0,function(nt){return this._filterUpToDate=!1,nt}),j(V,"visible",!0,(0,d.getBooleanValidator)()),j(V,"transformsEnabled","all",(0,d.getStringValidator)()),j(V,"size"),j(V,"dragBoundFunc"),j(V,"draggable",!1,(0,d.getBooleanValidator)()),m.Factory.backCompat(V,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),Ti}var Ni={},td;function Rl(){if(td)return Ni;td=1,Object.defineProperty(Ni,"__esModule",{value:!0}),Ni.Container=void 0;const i=Rt(),s=Jt(),m=At();let h=class extends s.Node{constructor(){super(...arguments),this.children=[]}getChildren(d){const c=this.children||[];return d?c.filter(d):c}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(d=>{d.parent=null,d.index=0,d.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(d=>{d.parent=null,d.index=0,d.destroy()}),this.children=[],this._requestDraw(),this}add(...d){if(d.length===0)return this;if(d.length>1){for(let f=0;f<d.length;f++)this.add(d[f]);return this}const c=d[0];return c.getParent()?(c.moveTo(this),this):(this._validateAdd(c),c.index=this.getChildren().length,c.parent=this,c._clearCaches(),this.getChildren().push(c),this._fire("add",{child:c}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(d){return this._generalFind(d,!1)}findOne(d){const c=this._generalFind(d,!0);return c.length>0?c[0]:void 0}_generalFind(d,c){const f=[];return this._descendants(v=>{const p=v._isMatch(d);return p&&f.push(v),!!(p&&c)}),f}_descendants(d){let c=!1;const f=this.getChildren();for(const v of f){if(c=d(v),c)return!0;if(v.hasChildren()&&(c=v._descendants(d),c))return!0}return!1}toObject(){const d=s.Node.prototype.toObject.call(this);return d.children=[],this.getChildren().forEach(c=>{d.children.push(c.toObject())}),d}isAncestorOf(d){let c=d.getParent();for(;c;){if(c._id===this._id)return!0;c=c.getParent()}return!1}clone(d){const c=s.Node.prototype.clone.call(this,d);return this.getChildren().forEach(function(f){c.add(f.clone())}),c}getAllIntersections(d){const c=[];return this.find("Shape").forEach(f=>{f.isVisible()&&f.intersects(d)&&c.push(f)}),c}_clearSelfAndDescendantCache(d){var c;super._clearSelfAndDescendantCache(d),!this.isCached()&&((c=this.children)===null||c===void 0||c.forEach(function(f){f._clearSelfAndDescendantCache(d)}))}_setChildrenIndices(){var d;(d=this.children)===null||d===void 0||d.forEach(function(c,f){c.index=f}),this._requestDraw()}drawScene(d,c,f){const v=this.getLayer(),p=d||v&&v.getCanvas(),_=p&&p.getContext(),x=this._getCanvasCache(),b=x&&x.scene,y=p&&p.isCache;if(!this.isVisible()&&!y)return this;if(b){_.save();const g=this.getAbsoluteTransform(c).getMatrix();_.transform(g[0],g[1],g[2],g[3],g[4],g[5]),this._drawCachedSceneCanvas(_),_.restore()}else this._drawChildren("drawScene",p,c,f);return this}drawHit(d,c){if(!this.shouldDrawHit(c))return this;const f=this.getLayer(),v=d||f&&f.hitCanvas,p=v&&v.getContext(),_=this._getCanvasCache();if(_&&_.hit){p.save();const b=this.getAbsoluteTransform(c).getMatrix();p.transform(b[0],b[1],b[2],b[3],b[4],b[5]),this._drawCachedHitCanvas(p),p.restore()}else this._drawChildren("drawHit",v,c);return this}_drawChildren(d,c,f,v){var p;const _=c&&c.getContext(),x=this.clipWidth(),b=this.clipHeight(),y=this.clipFunc(),g=typeof x=="number"&&typeof b=="number"||y,E=f===this;if(g){_.save();const D=this.getAbsoluteTransform(f);let S=D.getMatrix();_.transform(S[0],S[1],S[2],S[3],S[4],S[5]),_.beginPath();let o;if(y)o=y.call(this,_,this);else{const C=this.clipX(),R=this.clipY();_.rect(C||0,R||0,x,b)}_.clip.apply(_,o),S=D.copy().invert().getMatrix(),_.transform(S[0],S[1],S[2],S[3],S[4],S[5])}const N=!E&&this.globalCompositeOperation()!=="source-over"&&d==="drawScene";N&&(_.save(),_._applyGlobalCompositeOperation(this)),(p=this.children)===null||p===void 0||p.forEach(function(D){D[d](c,f,v)}),N&&_.restore(),g&&_.restore()}getClientRect(d={}){var c;const f=d.skipTransform,v=d.relativeTo;let p,_,x,b,y={x:1/0,y:1/0,width:0,height:0};const g=this;(c=this.children)===null||c===void 0||c.forEach(function(D){if(!D.visible())return;const S=D.getClientRect({relativeTo:g,skipShadow:d.skipShadow,skipStroke:d.skipStroke});S.width===0&&S.height===0||(p===void 0?(p=S.x,_=S.y,x=S.x+S.width,b=S.y+S.height):(p=Math.min(p,S.x),_=Math.min(_,S.y),x=Math.max(x,S.x+S.width),b=Math.max(b,S.y+S.height)))});const E=this.find("Shape");let N=!1;for(let D=0;D<E.length;D++)if(E[D]._isVisible(this)){N=!0;break}return N&&p!==void 0?y={x:p,y:_,width:x-p,height:b-_}:y={x:0,y:0,width:0,height:0},f?y:this._transformedRect(y,v)}};return Ni.Container=h,i.Factory.addComponentsGetterSetter(h,"clip",["x","y","width","height"]),i.Factory.addGetterSetter(h,"clipX",void 0,(0,m.getNumberValidator)()),i.Factory.addGetterSetter(h,"clipY",void 0,(0,m.getNumberValidator)()),i.Factory.addGetterSetter(h,"clipWidth",void 0,(0,m.getNumberValidator)()),i.Factory.addGetterSetter(h,"clipHeight",void 0,(0,m.getNumberValidator)()),i.Factory.addGetterSetter(h,"clipFunc"),Ni}var _o={},Vn={},ed;function wf(){if(ed)return Vn;ed=1,Object.defineProperty(Vn,"__esModule",{value:!0}),Vn.getCapturedShape=h,Vn.createEvent=r,Vn.hasPointerCapture=d,Vn.setPointerCapture=c,Vn.releaseCapture=f;const i=xt(),s=new Map,m=i.Konva._global.PointerEvent!==void 0;function h(v){return s.get(v)}function r(v){return{evt:v,pointerId:v.pointerId}}function d(v,p){return s.get(v)===p}function c(v,p){f(v),p.getStage()&&(s.set(v,p),m&&p._fire("gotpointercapture",r(new PointerEvent("gotpointercapture"))))}function f(v,p){const _=s.get(v);if(!_)return;const x=_.getStage();x&&x.content,s.delete(v),m&&_._fire("lostpointercapture",r(new PointerEvent("lostpointercapture")))}return Vn}var nd;function kg(){return nd||(nd=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.Stage=i.stages=void 0;const s=Xt(),m=Rt(),h=Rl(),r=xt(),d=Nl(),c=qo(),f=xt(),v=wf(),p="Stage",_="string",x="px",b="mouseout",y="mouseleave",g="mouseover",E="mouseenter",N="mousemove",D="mousedown",S="mouseup",o="pointermove",C="pointerdown",R="pointerup",z="pointercancel",F="lostpointercapture",A="pointerout",M="pointerleave",G="pointerover",L="pointerenter",K="contextmenu",X="touchstart",V="touchend",j="touchmove",nt="touchcancel",T="wheel",O=5,w=[[E,"_pointerenter"],[D,"_pointerdown"],[N,"_pointermove"],[S,"_pointerup"],[y,"_pointerleave"],[X,"_pointerdown"],[j,"_pointermove"],[V,"_pointerup"],[nt,"_pointercancel"],[g,"_pointerover"],[T,"_wheel"],[K,"_contextmenu"],[C,"_pointerdown"],[o,"_pointermove"],[R,"_pointerup"],[z,"_pointercancel"],[M,"_pointerleave"],[F,"_lostpointercapture"]],B={mouse:{[A]:b,[M]:y,[G]:g,[L]:E,[o]:N,[C]:D,[R]:S,[z]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[A]:"touchout",[M]:"touchleave",[G]:"touchover",[L]:"touchenter",[o]:j,[C]:X,[R]:V,[z]:nt,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[A]:A,[M]:M,[G]:G,[L]:L,[o]:o,[C]:C,[R]:R,[z]:z,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},q=I=>I.indexOf("pointer")>=0?"pointer":I.indexOf("touch")>=0?"touch":"mouse",W=I=>{const H=q(I);if(H==="pointer")return r.Konva.pointerEventsEnabled&&B.pointer;if(H==="touch")return B.touch;if(H==="mouse")return B.mouse};function Y(I={}){return(I.clipFunc||I.clipWidth||I.clipHeight)&&s.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),I}const tt="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";i.stages=[];class ot extends h.Container{constructor(H){super(Y(H)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),i.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{Y(this.attrs)}),this._checkVisibility()}_validateAdd(H){const Z=H.getType()==="Layer",rt=H.getType()==="FastLayer";Z||rt||s.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const H=this.visible()?"":"none";this.content.style.display=H}setContainer(H){if(typeof H===_){let Z;if(H.charAt(0)==="."){const rt=H.slice(1);H=document.getElementsByClassName(rt)[0]}else H.charAt(0)!=="#"?Z=H:Z=H.slice(1),H=document.getElementById(Z);if(!H)throw"Can not find container in document with id "+Z}return this._setAttr("container",H),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),H.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const H=this.children,Z=H.length;for(let rt=0;rt<Z;rt++)H[rt].clear();return this}clone(H){return H||(H={}),H.container=typeof document<"u"&&document.createElement("div"),h.Container.prototype.clone.call(this,H)}destroy(){super.destroy();const H=this.content;H&&s.Util._isInDocument(H)&&this.container().removeChild(H);const Z=i.stages.indexOf(this);return Z>-1&&i.stages.splice(Z,1),s.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const H=this._pointerPositions[0]||this._changedPointerPositions[0];return H?{x:H.x,y:H.y}:(s.Util.warn(tt),null)}_getPointerById(H){return this._pointerPositions.find(Z=>Z.id===H)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(H){H=H||{},H.x=H.x||0,H.y=H.y||0,H.width=H.width||this.width(),H.height=H.height||this.height();const Z=new d.SceneCanvas({width:H.width,height:H.height,pixelRatio:H.pixelRatio||1}),rt=Z.getContext()._context,ut=this.children;return(H.x||H.y)&&rt.translate(-1*H.x,-1*H.y),ut.forEach(function(dt){if(!dt.isVisible())return;const yt=dt._toKonvaCanvas(H);rt.drawImage(yt._canvas,H.x,H.y,yt.getWidth()/yt.getPixelRatio(),yt.getHeight()/yt.getPixelRatio())}),Z}getIntersection(H){if(!H)return null;const Z=this.children,rt=Z.length,ut=rt-1;for(let dt=ut;dt>=0;dt--){const yt=Z[dt].getIntersection(H);if(yt)return yt}return null}_resizeDOM(){const H=this.width(),Z=this.height();this.content&&(this.content.style.width=H+x,this.content.style.height=Z+x),this.bufferCanvas.setSize(H,Z),this.bufferHitCanvas.setSize(H,Z),this.children.forEach(rt=>{rt.setSize({width:H,height:Z}),rt.draw()})}add(H,...Z){if(arguments.length>1){for(let ut=0;ut<arguments.length;ut++)this.add(arguments[ut]);return this}super.add(H);const rt=this.children.length;return rt>O&&s.Util.warn("The stage has "+rt+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),H.setSize({width:this.width(),height:this.height()}),H.draw(),r.Konva.isBrowser&&this.content.appendChild(H.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(H){return v.hasPointerCapture(H,this)}setPointerCapture(H){v.setPointerCapture(H,this)}releaseCapture(H){v.releaseCapture(H,this)}getLayers(){return this.children}_bindContentEvents(){r.Konva.isBrowser&&w.forEach(([H,Z])=>{this.content.addEventListener(H,rt=>{this[Z](rt)},{passive:!1})})}_pointerenter(H){this.setPointersPositions(H);const Z=W(H.type);Z&&this._fire(Z.pointerenter,{evt:H,target:this,currentTarget:this})}_pointerover(H){this.setPointersPositions(H);const Z=W(H.type);Z&&this._fire(Z.pointerover,{evt:H,target:this,currentTarget:this})}_getTargetShape(H){let Z=this[H+"targetShape"];return Z&&!Z.getStage()&&(Z=null),Z}_pointerleave(H){const Z=W(H.type),rt=q(H.type);if(!Z)return;this.setPointersPositions(H);const ut=this._getTargetShape(rt),dt=!(r.Konva.isDragging()||r.Konva.isTransforming())||r.Konva.hitOnDragEnabled;ut&&dt?(ut._fireAndBubble(Z.pointerout,{evt:H}),ut._fireAndBubble(Z.pointerleave,{evt:H}),this._fire(Z.pointerleave,{evt:H,target:this,currentTarget:this}),this[rt+"targetShape"]=null):dt&&(this._fire(Z.pointerleave,{evt:H,target:this,currentTarget:this}),this._fire(Z.pointerout,{evt:H,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(H){const Z=W(H.type),rt=q(H.type);if(!Z)return;this.setPointersPositions(H);let ut=!1;this._changedPointerPositions.forEach(dt=>{const yt=this.getIntersection(dt);if(c.DD.justDragged=!1,r.Konva["_"+rt+"ListenClick"]=!0,!yt||!yt.isListening()){this[rt+"ClickStartShape"]=void 0;return}r.Konva.capturePointerEventsEnabled&&yt.setPointerCapture(dt.id),this[rt+"ClickStartShape"]=yt,yt._fireAndBubble(Z.pointerdown,{evt:H,pointerId:dt.id}),ut=!0;const vt=H.type.indexOf("touch")>=0;yt.preventDefault()&&H.cancelable&&vt&&H.preventDefault()}),ut||this._fire(Z.pointerdown,{evt:H,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(H){const Z=W(H.type),rt=q(H.type);if(!Z||(r.Konva.isDragging()&&c.DD.node.preventDefault()&&H.cancelable&&H.preventDefault(),this.setPointersPositions(H),!(!(r.Konva.isDragging()||r.Konva.isTransforming())||r.Konva.hitOnDragEnabled)))return;const dt={};let yt=!1;const vt=this._getTargetShape(rt);this._changedPointerPositions.forEach(Gt=>{const gt=v.getCapturedShape(Gt.id)||this.getIntersection(Gt),jt=Gt.id,zt={evt:H,pointerId:jt},Pt=vt!==gt;if(Pt&&vt&&(vt._fireAndBubble(Z.pointerout,{...zt},gt),vt._fireAndBubble(Z.pointerleave,{...zt},gt)),gt){if(dt[gt._id])return;dt[gt._id]=!0}gt&&gt.isListening()?(yt=!0,Pt&&(gt._fireAndBubble(Z.pointerover,{...zt},vt),gt._fireAndBubble(Z.pointerenter,{...zt},vt),this[rt+"targetShape"]=gt),gt._fireAndBubble(Z.pointermove,{...zt})):vt&&(this._fire(Z.pointerover,{evt:H,target:this,currentTarget:this,pointerId:jt}),this[rt+"targetShape"]=null)}),yt||this._fire(Z.pointermove,{evt:H,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(H){const Z=W(H.type),rt=q(H.type);if(!Z)return;this.setPointersPositions(H);const ut=this[rt+"ClickStartShape"],dt=this[rt+"ClickEndShape"],yt={};let vt=!1;this._changedPointerPositions.forEach(Gt=>{const gt=v.getCapturedShape(Gt.id)||this.getIntersection(Gt);if(gt){if(gt.releaseCapture(Gt.id),yt[gt._id])return;yt[gt._id]=!0}const jt=Gt.id,zt={evt:H,pointerId:jt};let Pt=!1;r.Konva["_"+rt+"InDblClickWindow"]?(Pt=!0,clearTimeout(this[rt+"DblTimeout"])):c.DD.justDragged||(r.Konva["_"+rt+"InDblClickWindow"]=!0,clearTimeout(this[rt+"DblTimeout"])),this[rt+"DblTimeout"]=setTimeout(function(){r.Konva["_"+rt+"InDblClickWindow"]=!1},r.Konva.dblClickWindow),gt&&gt.isListening()?(vt=!0,this[rt+"ClickEndShape"]=gt,gt._fireAndBubble(Z.pointerup,{...zt}),r.Konva["_"+rt+"ListenClick"]&&ut&&ut===gt&&(gt._fireAndBubble(Z.pointerclick,{...zt}),Pt&&dt&&dt===gt&&gt._fireAndBubble(Z.pointerdblclick,{...zt}))):(this[rt+"ClickEndShape"]=null,r.Konva["_"+rt+"ListenClick"]&&this._fire(Z.pointerclick,{evt:H,target:this,currentTarget:this,pointerId:jt}),Pt&&this._fire(Z.pointerdblclick,{evt:H,target:this,currentTarget:this,pointerId:jt}))}),vt||this._fire(Z.pointerup,{evt:H,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),r.Konva["_"+rt+"ListenClick"]=!1,H.cancelable&&rt!=="touch"&&rt!=="pointer"&&H.preventDefault()}_contextmenu(H){this.setPointersPositions(H);const Z=this.getIntersection(this.getPointerPosition());Z&&Z.isListening()?Z._fireAndBubble(K,{evt:H}):this._fire(K,{evt:H,target:this,currentTarget:this})}_wheel(H){this.setPointersPositions(H);const Z=this.getIntersection(this.getPointerPosition());Z&&Z.isListening()?Z._fireAndBubble(T,{evt:H}):this._fire(T,{evt:H,target:this,currentTarget:this})}_pointercancel(H){this.setPointersPositions(H);const Z=v.getCapturedShape(H.pointerId)||this.getIntersection(this.getPointerPosition());Z&&Z._fireAndBubble(R,v.createEvent(H)),v.releaseCapture(H.pointerId)}_lostpointercapture(H){v.releaseCapture(H.pointerId)}setPointersPositions(H){const Z=this._getContentPosition();let rt=null,ut=null;H=H||window.event,H.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(H.touches,dt=>{this._pointerPositions.push({id:dt.identifier,x:(dt.clientX-Z.left)/Z.scaleX,y:(dt.clientY-Z.top)/Z.scaleY})}),Array.prototype.forEach.call(H.changedTouches||H.touches,dt=>{this._changedPointerPositions.push({id:dt.identifier,x:(dt.clientX-Z.left)/Z.scaleX,y:(dt.clientY-Z.top)/Z.scaleY})})):(rt=(H.clientX-Z.left)/Z.scaleX,ut=(H.clientY-Z.top)/Z.scaleY,this.pointerPos={x:rt,y:ut},this._pointerPositions=[{x:rt,y:ut,id:s.Util._getFirstPointerId(H)}],this._changedPointerPositions=[{x:rt,y:ut,id:s.Util._getFirstPointerId(H)}])}_setPointerPosition(H){s.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(H)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const H=this.content.getBoundingClientRect();return{top:H.top,left:H.left,scaleX:H.width/this.content.clientWidth||1,scaleY:H.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new d.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new d.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!r.Konva.isBrowser)return;const H=this.container();if(!H)throw"Stage has no container. A container is required.";H.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),H.appendChild(this.content),this._resizeDOM()}cache(){return s.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(H){H.batchDraw()}),this}}i.Stage=ot,ot.prototype.nodeType=p,(0,f._registerNode)(ot),m.Factory.addGetterSetter(ot,"container"),r.Konva.isBrowser&&document.addEventListener("visibilitychange",()=>{i.stages.forEach(I=>{I.batchDraw()})})}(_o)),_o}var Ri={},So={},ad;function he(){return ad||(ad=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.Shape=i.shapes=void 0;const s=xt(),m=Xt(),h=Rt(),r=Jt(),d=At(),c=xt(),f=wf(),v="hasShadow",p="shadowRGBA",_="patternImage",x="linearGradient",b="radialGradient";let y;function g(){return y||(y=m.Util.createCanvasElement().getContext("2d"),y)}i.shapes={};function E(M){const G=this.attrs.fillRule;G?M.fill(G):M.fill()}function N(M){M.stroke()}function D(M){const G=this.attrs.fillRule;G?M.fill(G):M.fill()}function S(M){M.stroke()}function o(){this._clearCache(v)}function C(){this._clearCache(p)}function R(){this._clearCache(_)}function z(){this._clearCache(x)}function F(){this._clearCache(b)}class A extends r.Node{constructor(G){super(G);let L;for(;L=m.Util.getRandomColor(),!(L&&!(L in i.shapes)););this.colorKey=L,i.shapes[L]=this}getContext(){return m.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return m.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(v,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(_,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const L=g().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(L&&L.setTransform){const K=new m.Transform;K.translate(this.fillPatternX(),this.fillPatternY()),K.rotate(s.Konva.getAngle(this.fillPatternRotation())),K.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),K.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const X=K.getMatrix(),V=typeof DOMMatrix>"u"?{a:X[0],b:X[1],c:X[2],d:X[3],e:X[4],f:X[5]}:new DOMMatrix(X);L.setTransform(V)}return L}}_getLinearGradient(){return this._getCache(x,this.__getLinearGradient)}__getLinearGradient(){const G=this.fillLinearGradientColorStops();if(G){const L=g(),K=this.fillLinearGradientStartPoint(),X=this.fillLinearGradientEndPoint(),V=L.createLinearGradient(K.x,K.y,X.x,X.y);for(let j=0;j<G.length;j+=2)V.addColorStop(G[j],G[j+1]);return V}}_getRadialGradient(){return this._getCache(b,this.__getRadialGradient)}__getRadialGradient(){const G=this.fillRadialGradientColorStops();if(G){const L=g(),K=this.fillRadialGradientStartPoint(),X=this.fillRadialGradientEndPoint(),V=L.createRadialGradient(K.x,K.y,this.fillRadialGradientStartRadius(),X.x,X.y,this.fillRadialGradientEndRadius());for(let j=0;j<G.length;j+=2)V.addColorStop(G[j],G[j+1]);return V}}getShadowRGBA(){return this._getCache(p,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const G=m.Util.colorToRGBA(this.shadowColor());if(G)return"rgba("+G.r+","+G.g+","+G.b+","+G.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const G=this.hitStrokeWidth();return G==="auto"?this.hasStroke():this.strokeEnabled()&&!!G}intersects(G){const L=this.getStage();if(!L)return!1;const K=L.bufferHitCanvas;return K.getContext().clear(),this.drawHit(K,void 0,!0),K.context.getImageData(Math.round(G.x),Math.round(G.y),1,1).data[3]>0}destroy(){return r.Node.prototype.destroy.call(this),delete i.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(G){var L;if(!((L=this.attrs.perfectDrawEnabled)!==null&&L!==void 0?L:!0))return!1;const X=G||this.hasFill(),V=this.hasStroke(),j=this.getAbsoluteOpacity()!==1;if(X&&V&&j)return!0;const nt=this.hasShadow(),T=this.shadowForStrokeEnabled();return!!(X&&V&&nt&&T)}setStrokeHitEnabled(G){m.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),G?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const G=this.size();return{x:this._centroid?-G.width/2:0,y:this._centroid?-G.height/2:0,width:G.width,height:G.height}}getClientRect(G={}){let L=!1,K=this.getParent();for(;K;){if(K.isCached()){L=!0;break}K=K.getParent()}const X=G.skipTransform,V=G.relativeTo||L&&this.getStage()||void 0,j=this.getSelfRect(),T=!G.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,O=j.width+T,w=j.height+T,B=!G.skipShadow&&this.hasShadow(),q=B?this.shadowOffsetX():0,W=B?this.shadowOffsetY():0,Y=O+Math.abs(q),tt=w+Math.abs(W),ot=B&&this.shadowBlur()||0,I=Y+ot*2,H=tt+ot*2,Z={width:I,height:H,x:-(T/2+ot)+Math.min(q,0)+j.x,y:-(T/2+ot)+Math.min(W,0)+j.y};return X?Z:this._transformedRect(Z,V)}drawScene(G,L,K){const X=this.getLayer(),V=G||X.getCanvas(),j=V.getContext(),nt=this._getCanvasCache(),T=this.getSceneFunc(),O=this.hasShadow();let w;const B=L===this;if(!this.isVisible()&&!B)return this;if(nt){j.save();const q=this.getAbsoluteTransform(L).getMatrix();return j.transform(q[0],q[1],q[2],q[3],q[4],q[5]),this._drawCachedSceneCanvas(j),j.restore(),this}if(!T)return this;if(j.save(),this._useBufferCanvas()){w=this.getStage();const q=K||w.bufferCanvas,W=q.getContext();W.clear(),W.save(),W._applyLineJoin(this);const Y=this.getAbsoluteTransform(L).getMatrix();W.transform(Y[0],Y[1],Y[2],Y[3],Y[4],Y[5]),T.call(this,W,this),W.restore();const tt=q.pixelRatio;O&&j._applyShadow(this),j._applyOpacity(this),j._applyGlobalCompositeOperation(this),j.drawImage(q._canvas,q.x||0,q.y||0,q.width/tt,q.height/tt)}else{if(j._applyLineJoin(this),!B){const q=this.getAbsoluteTransform(L).getMatrix();j.transform(q[0],q[1],q[2],q[3],q[4],q[5]),j._applyOpacity(this),j._applyGlobalCompositeOperation(this)}O&&j._applyShadow(this),T.call(this,j,this)}return j.restore(),this}drawHit(G,L,K=!1){if(!this.shouldDrawHit(L,K))return this;const X=this.getLayer(),V=G||X.hitCanvas,j=V&&V.getContext(),nt=this.hitFunc()||this.sceneFunc(),T=this._getCanvasCache(),O=T&&T.hit;if(this.colorKey||m.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),O){j.save();const B=this.getAbsoluteTransform(L).getMatrix();return j.transform(B[0],B[1],B[2],B[3],B[4],B[5]),this._drawCachedHitCanvas(j),j.restore(),this}if(!nt)return this;if(j.save(),j._applyLineJoin(this),!(this===L)){const B=this.getAbsoluteTransform(L).getMatrix();j.transform(B[0],B[1],B[2],B[3],B[4],B[5])}return nt.call(this,j,this),j.restore(),this}drawHitFromCache(G=0){const L=this._getCanvasCache(),K=this._getCachedSceneCanvas(),X=L.hit,V=X.getContext(),j=X.getWidth(),nt=X.getHeight();V.clear(),V.drawImage(K._canvas,0,0,j,nt);try{const T=V.getImageData(0,0,j,nt),O=T.data,w=O.length,B=m.Util._hexToRgb(this.colorKey);for(let q=0;q<w;q+=4)O[q+3]>G?(O[q]=B.r,O[q+1]=B.g,O[q+2]=B.b,O[q+3]=255):O[q+3]=0;V.putImageData(T,0,0)}catch(T){m.Util.error("Unable to draw hit graph from cached scene canvas. "+T.message)}return this}hasPointerCapture(G){return f.hasPointerCapture(G,this)}setPointerCapture(G){f.setPointerCapture(G,this)}releaseCapture(G){f.releaseCapture(G,this)}}i.Shape=A,A.prototype._fillFunc=E,A.prototype._strokeFunc=N,A.prototype._fillFuncHit=D,A.prototype._strokeFuncHit=S,A.prototype._centroid=!1,A.prototype.nodeType="Shape",(0,c._registerNode)(A),A.prototype.eventListeners={},A.prototype.on.call(A.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",o),A.prototype.on.call(A.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",C),A.prototype.on.call(A.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",R),A.prototype.on.call(A.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",z),A.prototype.on.call(A.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",F),h.Factory.addGetterSetter(A,"stroke",void 0,(0,d.getStringOrGradientValidator)()),h.Factory.addGetterSetter(A,"strokeWidth",2,(0,d.getNumberValidator)()),h.Factory.addGetterSetter(A,"fillAfterStrokeEnabled",!1),h.Factory.addGetterSetter(A,"hitStrokeWidth","auto",(0,d.getNumberOrAutoValidator)()),h.Factory.addGetterSetter(A,"strokeHitEnabled",!0,(0,d.getBooleanValidator)()),h.Factory.addGetterSetter(A,"perfectDrawEnabled",!0,(0,d.getBooleanValidator)()),h.Factory.addGetterSetter(A,"shadowForStrokeEnabled",!0,(0,d.getBooleanValidator)()),h.Factory.addGetterSetter(A,"lineJoin"),h.Factory.addGetterSetter(A,"lineCap"),h.Factory.addGetterSetter(A,"sceneFunc"),h.Factory.addGetterSetter(A,"hitFunc"),h.Factory.addGetterSetter(A,"dash"),h.Factory.addGetterSetter(A,"dashOffset",0,(0,d.getNumberValidator)()),h.Factory.addGetterSetter(A,"shadowColor",void 0,(0,d.getStringValidator)()),h.Factory.addGetterSetter(A,"shadowBlur",0,(0,d.getNumberValidator)()),h.Factory.addGetterSetter(A,"shadowOpacity",1,(0,d.getNumberValidator)()),h.Factory.addComponentsGetterSetter(A,"shadowOffset",["x","y"]),h.Factory.addGetterSetter(A,"shadowOffsetX",0,(0,d.getNumberValidator)()),h.Factory.addGetterSetter(A,"shadowOffsetY",0,(0,d.getNumberValidator)()),h.Factory.addGetterSetter(A,"fillPatternImage"),h.Factory.addGetterSetter(A,"fill",void 0,(0,d.getStringOrGradientValidator)()),h.Factory.addGetterSetter(A,"fillPatternX",0,(0,d.getNumberValidator)()),h.Factory.addGetterSetter(A,"fillPatternY",0,(0,d.getNumberValidator)()),h.Factory.addGetterSetter(A,"fillLinearGradientColorStops"),h.Factory.addGetterSetter(A,"strokeLinearGradientColorStops"),h.Factory.addGetterSetter(A,"fillRadialGradientStartRadius",0),h.Factory.addGetterSetter(A,"fillRadialGradientEndRadius",0),h.Factory.addGetterSetter(A,"fillRadialGradientColorStops"),h.Factory.addGetterSetter(A,"fillPatternRepeat","repeat"),h.Factory.addGetterSetter(A,"fillEnabled",!0),h.Factory.addGetterSetter(A,"strokeEnabled",!0),h.Factory.addGetterSetter(A,"shadowEnabled",!0),h.Factory.addGetterSetter(A,"dashEnabled",!0),h.Factory.addGetterSetter(A,"strokeScaleEnabled",!0),h.Factory.addGetterSetter(A,"fillPriority","color"),h.Factory.addComponentsGetterSetter(A,"fillPatternOffset",["x","y"]),h.Factory.addGetterSetter(A,"fillPatternOffsetX",0,(0,d.getNumberValidator)()),h.Factory.addGetterSetter(A,"fillPatternOffsetY",0,(0,d.getNumberValidator)()),h.Factory.addComponentsGetterSetter(A,"fillPatternScale",["x","y"]),h.Factory.addGetterSetter(A,"fillPatternScaleX",1,(0,d.getNumberValidator)()),h.Factory.addGetterSetter(A,"fillPatternScaleY",1,(0,d.getNumberValidator)()),h.Factory.addComponentsGetterSetter(A,"fillLinearGradientStartPoint",["x","y"]),h.Factory.addComponentsGetterSetter(A,"strokeLinearGradientStartPoint",["x","y"]),h.Factory.addGetterSetter(A,"fillLinearGradientStartPointX",0),h.Factory.addGetterSetter(A,"strokeLinearGradientStartPointX",0),h.Factory.addGetterSetter(A,"fillLinearGradientStartPointY",0),h.Factory.addGetterSetter(A,"strokeLinearGradientStartPointY",0),h.Factory.addComponentsGetterSetter(A,"fillLinearGradientEndPoint",["x","y"]),h.Factory.addComponentsGetterSetter(A,"strokeLinearGradientEndPoint",["x","y"]),h.Factory.addGetterSetter(A,"fillLinearGradientEndPointX",0),h.Factory.addGetterSetter(A,"strokeLinearGradientEndPointX",0),h.Factory.addGetterSetter(A,"fillLinearGradientEndPointY",0),h.Factory.addGetterSetter(A,"strokeLinearGradientEndPointY",0),h.Factory.addComponentsGetterSetter(A,"fillRadialGradientStartPoint",["x","y"]),h.Factory.addGetterSetter(A,"fillRadialGradientStartPointX",0),h.Factory.addGetterSetter(A,"fillRadialGradientStartPointY",0),h.Factory.addComponentsGetterSetter(A,"fillRadialGradientEndPoint",["x","y"]),h.Factory.addGetterSetter(A,"fillRadialGradientEndPointX",0),h.Factory.addGetterSetter(A,"fillRadialGradientEndPointY",0),h.Factory.addGetterSetter(A,"fillPatternRotation",0),h.Factory.addGetterSetter(A,"fillRule",void 0,(0,d.getStringValidator)()),h.Factory.backCompat(A,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})}(So)),So}var id;function Bf(){if(id)return Ri;id=1,Object.defineProperty(Ri,"__esModule",{value:!0}),Ri.Layer=void 0;const i=Xt(),s=Rl(),m=Jt(),h=Rt(),r=Nl(),d=At(),c=he(),f=xt(),v="#",p="beforeDraw",_="draw",x=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],b=x.length;class y extends s.Container{constructor(E){super(E),this.canvas=new r.SceneCanvas,this.hitCanvas=new r.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(E){return this.getContext().clear(E),this.getHitCanvas().getContext().clear(E),this}setZIndex(E){super.setZIndex(E);const N=this.getStage();return N&&N.content&&(N.content.removeChild(this.getNativeCanvasElement()),E<N.children.length-1?N.content.insertBefore(this.getNativeCanvasElement(),N.children[E+1].getCanvas()._canvas):N.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){m.Node.prototype.moveToTop.call(this);const E=this.getStage();return E&&E.content&&(E.content.removeChild(this.getNativeCanvasElement()),E.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!m.Node.prototype.moveUp.call(this))return!1;const N=this.getStage();return!N||!N.content?!1:(N.content.removeChild(this.getNativeCanvasElement()),this.index<N.children.length-1?N.content.insertBefore(this.getNativeCanvasElement(),N.children[this.index+1].getCanvas()._canvas):N.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(m.Node.prototype.moveDown.call(this)){const E=this.getStage();if(E){const N=E.children;E.content&&(E.content.removeChild(this.getNativeCanvasElement()),E.content.insertBefore(this.getNativeCanvasElement(),N[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(m.Node.prototype.moveToBottom.call(this)){const E=this.getStage();if(E){const N=E.children;E.content&&(E.content.removeChild(this.getNativeCanvasElement()),E.content.insertBefore(this.getNativeCanvasElement(),N[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const E=this.getNativeCanvasElement();return m.Node.prototype.remove.call(this),E&&E.parentNode&&i.Util._isInDocument(E)&&E.parentNode.removeChild(E),this}getStage(){return this.parent}setSize({width:E,height:N}){return this.canvas.setSize(E,N),this.hitCanvas.setSize(E,N),this._setSmoothEnabled(),this}_validateAdd(E){const N=E.getType();N!=="Group"&&N!=="Shape"&&i.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(E){return E=E||{},E.width=E.width||this.getWidth(),E.height=E.height||this.getHeight(),E.x=E.x!==void 0?E.x:this.x(),E.y=E.y!==void 0?E.y:this.y(),m.Node.prototype._toKonvaCanvas.call(this,E)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){i.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){i.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,i.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(E){if(!this.isListening()||!this.isVisible())return null;let N=1,D=!1;for(;;){for(let S=0;S<b;S++){const o=x[S],C=this._getIntersection({x:E.x+o.x*N,y:E.y+o.y*N}),R=C.shape;if(R)return R;if(D=!!C.antialiased,!C.antialiased)break}if(D)N+=1;else return null}}_getIntersection(E){const N=this.hitCanvas.pixelRatio,D=this.hitCanvas.context.getImageData(Math.round(E.x*N),Math.round(E.y*N),1,1).data,S=D[3];if(S===255){const o=i.Util._rgbToHex(D[0],D[1],D[2]),C=c.shapes[v+o];return C?{shape:C}:{antialiased:!0}}else if(S>0)return{antialiased:!0};return{}}drawScene(E,N,D){const S=this.getLayer(),o=E||S&&S.getCanvas();return this._fire(p,{node:this}),this.clearBeforeDraw()&&o.getContext().clear(),s.Container.prototype.drawScene.call(this,o,N,D),this._fire(_,{node:this}),this}drawHit(E,N){const D=this.getLayer(),S=E||D&&D.hitCanvas;return D&&D.clearBeforeDraw()&&D.getHitCanvas().getContext().clear(),s.Container.prototype.drawHit.call(this,S,N),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(E){i.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(E)}getHitGraphEnabled(E){return i.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const E=this.parent;!!this.hitCanvas._canvas.parentNode?E.content.removeChild(this.hitCanvas._canvas):E.content.appendChild(this.hitCanvas._canvas)}destroy(){return i.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}return Ri.Layer=y,y.prototype.nodeType="Layer",(0,f._registerNode)(y),h.Factory.addGetterSetter(y,"imageSmoothingEnabled",!0),h.Factory.addGetterSetter(y,"clearBeforeDraw",!0),h.Factory.addGetterSetter(y,"hitGraphEnabled",!0,(0,d.getBooleanValidator)()),Ri}var Ai={},sd;function Zg(){if(sd)return Ai;sd=1,Object.defineProperty(Ai,"__esModule",{value:!0}),Ai.FastLayer=void 0;const i=Xt(),s=Bf(),m=xt();let h=class extends s.Layer{constructor(d){super(d),this.listening(!1),i.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}};return Ai.FastLayer=h,h.prototype.nodeType="FastLayer",(0,m._registerNode)(h),Ai}var Oi={},ld;function Po(){if(ld)return Oi;ld=1,Object.defineProperty(Oi,"__esModule",{value:!0}),Oi.Group=void 0;const i=Xt(),s=Rl(),m=xt();let h=class extends s.Container{_validateAdd(d){const c=d.getType();c!=="Group"&&c!=="Shape"&&i.Util.throw("You may only add groups and shapes to groups.")}};return Oi.Group=h,h.prototype.nodeType="Group",(0,m._registerNode)(h),Oi}var Mi={},rd;function Fo(){if(rd)return Mi;rd=1,Object.defineProperty(Mi,"__esModule",{value:!0}),Mi.Animation=void 0;const i=xt(),s=Xt(),m=function(){return i.glob.performance&&i.glob.performance.now?function(){return i.glob.performance.now()}:function(){return new Date().getTime()}}();let h=class qa{constructor(d,c){this.id=qa.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:m(),frameRate:0},this.func=d,this.setLayers(c)}setLayers(d){let c=[];return d&&(c=Array.isArray(d)?d:[d]),this.layers=c,this}getLayers(){return this.layers}addLayer(d){const c=this.layers,f=c.length;for(let v=0;v<f;v++)if(c[v]._id===d._id)return!1;return this.layers.push(d),!0}isRunning(){const c=qa.animations,f=c.length;for(let v=0;v<f;v++)if(c[v].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=m(),qa._addAnimation(this),this}stop(){return qa._removeAnimation(this),this}_updateFrameObject(d){this.frame.timeDiff=d-this.frame.lastTime,this.frame.lastTime=d,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(d){this.animations.push(d),this._handleAnimation()}static _removeAnimation(d){const c=d.id,f=this.animations,v=f.length;for(let p=0;p<v;p++)if(f[p].id===c){this.animations.splice(p,1);break}}static _runFrames(){const d={},c=this.animations;for(let f=0;f<c.length;f++){const v=c[f],p=v.layers,_=v.func;v._updateFrameObject(m());const x=p.length;let b;if(_?b=_.call(v,v.frame)!==!1:b=!0,!!b)for(let y=0;y<x;y++){const g=p[y];g._id!==void 0&&(d[g._id]=g)}}for(const f in d)d.hasOwnProperty(f)&&d[f].batchDraw()}static _animationLoop(){const d=qa;d.animations.length?(d._runFrames(),s.Util.requestAnimFrame(d._animationLoop)):d.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,s.Util.requestAnimFrame(this._animationLoop))}};return Mi.Animation=h,h.animations=[],h.animIdCounter=0,h.animRunning=!1,Mi}var bo={},od;function Jg(){return od||(od=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.Easings=i.Tween=void 0;const s=Xt(),m=Fo(),h=Jt(),r=xt(),d={node:1,duration:1,easing:1,onFinish:1,yoyo:1},c=1,f=2,v=3,p=["fill","stroke","shadowColor"];let _=0;class x{constructor(g,E,N,D,S,o,C){this.prop=g,this.propFunc=E,this.begin=D,this._pos=D,this.duration=o,this._change=0,this.prevPos=0,this.yoyo=C,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=N,this._change=S-this.begin,this.pause()}fire(g){const E=this[g];E&&E()}setTime(g){g>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():g<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=g,this.update())}getTime(){return this._time}setPosition(g){this.prevPos=this._pos,this.propFunc(g),this._pos=g}getPosition(g){return g===void 0&&(g=this._time),this.func(g,this.begin,this._change,this.duration)}play(){this.state=f,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=v,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(g){this.pause(),this._time=g,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const g=this.getTimer()-this._startTime;this.state===f?this.setTime(g):this.state===v&&this.setTime(this.duration-g)}pause(){this.state=c,this.fire("onPause")}getTimer(){return new Date().getTime()}}class b{constructor(g){const E=this,N=g.node,D=N._id,S=g.easing||i.Easings.Linear,o=!!g.yoyo;let C,R;typeof g.duration>"u"?C=.3:g.duration===0?C=.001:C=g.duration,this.node=N,this._id=_++;const z=N.getLayer()||(N instanceof r.Konva.Stage?N.getLayers():null);z||s.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new m.Animation(function(){E.tween.onEnterFrame()},z),this.tween=new x(R,function(F){E._tweenFunc(F)},S,0,1,C*1e3,o),this._addListeners(),b.attrs[D]||(b.attrs[D]={}),b.attrs[D][this._id]||(b.attrs[D][this._id]={}),b.tweens[D]||(b.tweens[D]={});for(R in g)d[R]===void 0&&this._addAttr(R,g[R]);this.reset(),this.onFinish=g.onFinish,this.onReset=g.onReset,this.onUpdate=g.onUpdate}_addAttr(g,E){const N=this.node,D=N._id;let S,o,C,R,z;const F=b.tweens[D][g];F&&delete b.attrs[D][F][g];let A=N.getAttr(g);if(s.Util._isArray(E))if(S=[],o=Math.max(E.length,A.length),g==="points"&&E.length!==A.length&&(E.length>A.length?(R=A,A=s.Util._prepareArrayForTween(A,E,N.closed())):(C=E,E=s.Util._prepareArrayForTween(E,A,N.closed()))),g.indexOf("fill")===0)for(let M=0;M<o;M++)if(M%2===0)S.push(E[M]-A[M]);else{const G=s.Util.colorToRGBA(A[M]);z=s.Util.colorToRGBA(E[M]),A[M]=G,S.push({r:z.r-G.r,g:z.g-G.g,b:z.b-G.b,a:z.a-G.a})}else for(let M=0;M<o;M++)S.push(E[M]-A[M]);else p.indexOf(g)!==-1?(A=s.Util.colorToRGBA(A),z=s.Util.colorToRGBA(E),S={r:z.r-A.r,g:z.g-A.g,b:z.b-A.b,a:z.a-A.a}):S=E-A;b.attrs[D][this._id][g]={start:A,diff:S,end:E,trueEnd:C,trueStart:R},b.tweens[D][g]=this._id}_tweenFunc(g){const E=this.node,N=b.attrs[E._id][this._id];let D,S,o,C,R,z,F,A;for(D in N){if(S=N[D],o=S.start,C=S.diff,A=S.end,s.Util._isArray(o))if(R=[],F=Math.max(o.length,A.length),D.indexOf("fill")===0)for(z=0;z<F;z++)z%2===0?R.push((o[z]||0)+C[z]*g):R.push("rgba("+Math.round(o[z].r+C[z].r*g)+","+Math.round(o[z].g+C[z].g*g)+","+Math.round(o[z].b+C[z].b*g)+","+(o[z].a+C[z].a*g)+")");else for(z=0;z<F;z++)R.push((o[z]||0)+C[z]*g);else p.indexOf(D)!==-1?R="rgba("+Math.round(o.r+C.r*g)+","+Math.round(o.g+C.g*g)+","+Math.round(o.b+C.b*g)+","+(o.a+C.a*g)+")":R=o+C*g;E.setAttr(D,R)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const g=this.node,E=b.attrs[g._id][this._id];E.points&&E.points.trueEnd&&g.setAttr("points",E.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const g=this.node,E=b.attrs[g._id][this._id];E.points&&E.points.trueStart&&g.points(E.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(g){return this.tween.seek(g*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const g=this.node._id,E=this._id,N=b.tweens[g];this.pause(),this.anim&&this.anim.stop();for(const D in N)delete b.tweens[g][D];delete b.attrs[g][E],b.tweens[g]&&(Object.keys(b.tweens[g]).length===0&&delete b.tweens[g],Object.keys(b.attrs[g]).length===0&&delete b.attrs[g])}}i.Tween=b,b.attrs={},b.tweens={},h.Node.prototype.to=function(y){const g=y.onFinish;y.node=this,y.onFinish=function(){this.destroy(),g&&g()},new b(y).play()},i.Easings={BackEaseIn(y,g,E,N){return E*(y/=N)*y*((1.70158+1)*y-1.70158)+g},BackEaseOut(y,g,E,N){return E*((y=y/N-1)*y*((1.70158+1)*y+1.70158)+1)+g},BackEaseInOut(y,g,E,N){let D=1.70158;return(y/=N/2)<1?E/2*(y*y*(((D*=1.525)+1)*y-D))+g:E/2*((y-=2)*y*(((D*=1.525)+1)*y+D)+2)+g},ElasticEaseIn(y,g,E,N,D,S){let o=0;return y===0?g:(y/=N)===1?g+E:(S||(S=N*.3),!D||D<Math.abs(E)?(D=E,o=S/4):o=S/(2*Math.PI)*Math.asin(E/D),-(D*Math.pow(2,10*(y-=1))*Math.sin((y*N-o)*(2*Math.PI)/S))+g)},ElasticEaseOut(y,g,E,N,D,S){let o=0;return y===0?g:(y/=N)===1?g+E:(S||(S=N*.3),!D||D<Math.abs(E)?(D=E,o=S/4):o=S/(2*Math.PI)*Math.asin(E/D),D*Math.pow(2,-10*y)*Math.sin((y*N-o)*(2*Math.PI)/S)+E+g)},ElasticEaseInOut(y,g,E,N,D,S){let o=0;return y===0?g:(y/=N/2)===2?g+E:(S||(S=N*(.3*1.5)),!D||D<Math.abs(E)?(D=E,o=S/4):o=S/(2*Math.PI)*Math.asin(E/D),y<1?-.5*(D*Math.pow(2,10*(y-=1))*Math.sin((y*N-o)*(2*Math.PI)/S))+g:D*Math.pow(2,-10*(y-=1))*Math.sin((y*N-o)*(2*Math.PI)/S)*.5+E+g)},BounceEaseOut(y,g,E,N){return(y/=N)<1/2.75?E*(7.5625*y*y)+g:y<2/2.75?E*(7.5625*(y-=1.5/2.75)*y+.75)+g:y<2.5/2.75?E*(7.5625*(y-=2.25/2.75)*y+.9375)+g:E*(7.5625*(y-=2.625/2.75)*y+.984375)+g},BounceEaseIn(y,g,E,N){return E-i.Easings.BounceEaseOut(N-y,0,E,N)+g},BounceEaseInOut(y,g,E,N){return y<N/2?i.Easings.BounceEaseIn(y*2,0,E,N)*.5+g:i.Easings.BounceEaseOut(y*2-N,0,E,N)*.5+E*.5+g},EaseIn(y,g,E,N){return E*(y/=N)*y+g},EaseOut(y,g,E,N){return-E*(y/=N)*(y-2)+g},EaseInOut(y,g,E,N){return(y/=N/2)<1?E/2*y*y+g:-E/2*(--y*(y-2)-1)+g},StrongEaseIn(y,g,E,N){return E*(y/=N)*y*y*y*y+g},StrongEaseOut(y,g,E,N){return E*((y=y/N-1)*y*y*y*y+1)+g},StrongEaseInOut(y,g,E,N){return(y/=N/2)<1?E/2*y*y*y*y*y+g:E/2*((y-=2)*y*y*y*y+2)+g},Linear(y,g,E,N){return E*y/N+g}}}(bo)),bo}var ud;function Bo(){return ud||(ud=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.Konva=void 0;const s=xt(),m=Xt(),h=Jt(),r=Rl(),d=kg(),c=Bf(),f=Zg(),v=Po(),p=qo(),_=he(),x=Fo(),b=Jg(),y=zf(),g=Nl();i.Konva=m.Util._assign(s.Konva,{Util:m.Util,Transform:m.Transform,Node:h.Node,Container:r.Container,Stage:d.Stage,stages:d.stages,Layer:c.Layer,FastLayer:f.FastLayer,Group:v.Group,DD:p.DD,Shape:_.Shape,shapes:_.shapes,Animation:x.Animation,Tween:b.Tween,Easings:b.Easings,Context:y.Context,Canvas:g.Canvas}),i.default=i.Konva}(go)),go}var Di={},cd;function Wg(){if(cd)return Di;cd=1,Object.defineProperty(Di,"__esModule",{value:!0}),Di.Arc=void 0;const i=Rt(),s=he(),m=xt(),h=At(),r=xt();let d=class extends s.Shape{_sceneFunc(f){const v=m.Konva.getAngle(this.angle()),p=this.clockwise();f.beginPath(),f.arc(0,0,this.outerRadius(),0,v,p),f.arc(0,0,this.innerRadius(),v,0,!p),f.closePath(),f.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(f){this.outerRadius(f/2)}setHeight(f){this.outerRadius(f/2)}getSelfRect(){const f=this.innerRadius(),v=this.outerRadius(),p=this.clockwise(),_=m.Konva.getAngle(p?360-this.angle():this.angle()),x=Math.cos(Math.min(_,Math.PI)),b=1,y=Math.sin(Math.min(Math.max(Math.PI,_),3*Math.PI/2)),g=Math.sin(Math.min(_,Math.PI/2)),E=x*(x>0?f:v),N=b*v,D=y*(y>0?f:v),S=g*(g>0?v:f);return{x:E,y:p?-1*S:D,width:N-E,height:S-D}}};return Di.Arc=d,d.prototype._centroid=!0,d.prototype.className="Arc",d.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"],(0,r._registerNode)(d),i.Factory.addGetterSetter(d,"innerRadius",0,(0,h.getNumberValidator)()),i.Factory.addGetterSetter(d,"outerRadius",0,(0,h.getNumberValidator)()),i.Factory.addGetterSetter(d,"angle",0,(0,h.getNumberValidator)()),i.Factory.addGetterSetter(d,"clockwise",!1,(0,h.getBooleanValidator)()),Di}var Ui={},Gi={},hd;function Hf(){if(hd)return Gi;hd=1,Object.defineProperty(Gi,"__esModule",{value:!0}),Gi.Line=void 0;const i=Rt(),s=xt(),m=he(),h=At();function r(f,v,p,_,x,b,y){const g=Math.sqrt(Math.pow(p-f,2)+Math.pow(_-v,2)),E=Math.sqrt(Math.pow(x-p,2)+Math.pow(b-_,2)),N=y*g/(g+E),D=y*E/(g+E),S=p-N*(x-f),o=_-N*(b-v),C=p+D*(x-f),R=_+D*(b-v);return[S,o,C,R]}function d(f,v){const p=f.length,_=[];for(let x=2;x<p-2;x+=2){const b=r(f[x-2],f[x-1],f[x],f[x+1],f[x+2],f[x+3],v);isNaN(b[0])||(_.push(b[0]),_.push(b[1]),_.push(f[x]),_.push(f[x+1]),_.push(b[2]),_.push(b[3]))}return _}class c extends m.Shape{constructor(v){super(v),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(v){const p=this.points(),_=p.length,x=this.tension(),b=this.closed(),y=this.bezier();if(!_)return;let g=0;if(v.beginPath(),v.moveTo(p[0],p[1]),x!==0&&_>4){const E=this.getTensionPoints(),N=E.length;for(g=b?0:4,b||v.quadraticCurveTo(E[0],E[1],E[2],E[3]);g<N-2;)v.bezierCurveTo(E[g++],E[g++],E[g++],E[g++],E[g++],E[g++]);b||v.quadraticCurveTo(E[N-2],E[N-1],p[_-2],p[_-1])}else if(y)for(g=2;g<_;)v.bezierCurveTo(p[g++],p[g++],p[g++],p[g++],p[g++],p[g++]);else for(g=2;g<_;g+=2)v.lineTo(p[g],p[g+1]);b?(v.closePath(),v.fillStrokeShape(this)):v.strokeShape(this)}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():d(this.points(),this.tension())}_getTensionPointsClosed(){const v=this.points(),p=v.length,_=this.tension(),x=r(v[p-2],v[p-1],v[0],v[1],v[2],v[3],_),b=r(v[p-4],v[p-3],v[p-2],v[p-1],v[0],v[1],_),y=d(v,_);return[x[2],x[3]].concat(y).concat([b[0],b[1],v[p-2],v[p-1],b[2],b[3],x[0],x[1],v[0],v[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let v=this.points();if(v.length<4)return{x:v[0]||0,y:v[1]||0,width:0,height:0};this.tension()!==0?v=[v[0],v[1],...this._getTensionPoints(),v[v.length-2],v[v.length-1]]:v=this.points();let p=v[0],_=v[0],x=v[1],b=v[1],y,g;for(let E=0;E<v.length/2;E++)y=v[E*2],g=v[E*2+1],p=Math.min(p,y),_=Math.max(_,y),x=Math.min(x,g),b=Math.max(b,g);return{x:p,y:x,width:_-p,height:b-x}}}return Gi.Line=c,c.prototype.className="Line",c.prototype._attrsAffectingSize=["points","bezier","tension"],(0,s._registerNode)(c),i.Factory.addGetterSetter(c,"closed",!1),i.Factory.addGetterSetter(c,"bezier",!1),i.Factory.addGetterSetter(c,"tension",0,(0,h.getNumberValidator)()),i.Factory.addGetterSetter(c,"points",[],(0,h.getNumberArrayValidator)()),Gi}var zi={},Eo={},dd;function Ig(){return dd||(dd=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.t2length=i.getQuadraticArcLength=i.getCubicArcLength=i.binomialCoefficients=i.cValues=i.tValues=void 0,i.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],i.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],i.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const s=(c,f,v)=>{let p,_;const b=v/2;p=0;for(let y=0;y<20;y++)_=b*i.tValues[20][y]+b,p+=i.cValues[20][y]*h(c,f,_);return b*p};i.getCubicArcLength=s;const m=(c,f,v)=>{v===void 0&&(v=1);const p=c[0]-2*c[1]+c[2],_=f[0]-2*f[1]+f[2],x=2*c[1]-2*c[0],b=2*f[1]-2*f[0],y=4*(p*p+_*_),g=4*(p*x+_*b),E=x*x+b*b;if(y===0)return v*Math.sqrt(Math.pow(c[2]-c[0],2)+Math.pow(f[2]-f[0],2));const N=g/(2*y),D=E/y,S=v+N,o=D-N*N,C=S*S+o>0?Math.sqrt(S*S+o):0,R=N*N+o>0?Math.sqrt(N*N+o):0,z=N+Math.sqrt(N*N+o)!==0?o*Math.log(Math.abs((S+C)/(N+R))):0;return Math.sqrt(y)/2*(S*C-N*R+z)};i.getQuadraticArcLength=m;function h(c,f,v){const p=r(1,v,c),_=r(1,v,f),x=p*p+_*_;return Math.sqrt(x)}const r=(c,f,v)=>{const p=v.length-1;let _,x;if(p===0)return 0;if(c===0){x=0;for(let b=0;b<=p;b++)x+=i.binomialCoefficients[p][b]*Math.pow(1-f,p-b)*Math.pow(f,b)*v[b];return x}else{_=new Array(p);for(let b=0;b<p;b++)_[b]=p*(v[b+1]-v[b]);return r(c-1,f,_)}},d=(c,f,v)=>{let p=1,_=c/f,x=(c-v(_))/f,b=0;for(;p>.001;){const y=v(_+x),g=Math.abs(c-y)/f;if(g<p)p=g,_+=x;else{const E=v(_-x),N=Math.abs(c-E)/f;N<p?(p=N,_-=x):x/=2}if(b++,b>500)break}return _};i.t2length=d}(Eo)),Eo}var fd;function Vo(){if(fd)return zi;fd=1,Object.defineProperty(zi,"__esModule",{value:!0}),zi.Path=void 0;const i=Rt(),s=xt(),m=he(),h=Ig();let r=class Ae extends m.Shape{constructor(c){super(c),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=Ae.parsePathData(this.data()),this.pathLength=Ae.getPathLength(this.dataArray)}_sceneFunc(c){const f=this.dataArray;c.beginPath();let v=!1;for(let p=0;p<f.length;p++){const _=f[p].command,x=f[p].points;switch(_){case"L":c.lineTo(x[0],x[1]);break;case"M":c.moveTo(x[0],x[1]);break;case"C":c.bezierCurveTo(x[0],x[1],x[2],x[3],x[4],x[5]);break;case"Q":c.quadraticCurveTo(x[0],x[1],x[2],x[3]);break;case"A":const b=x[0],y=x[1],g=x[2],E=x[3],N=x[4],D=x[5],S=x[6],o=x[7],C=g>E?g:E,R=g>E?1:g/E,z=g>E?E/g:1;c.translate(b,y),c.rotate(S),c.scale(R,z),c.arc(0,0,C,N,N+D,1-o),c.scale(1/R,1/z),c.rotate(-S),c.translate(-b,-y);break;case"z":v=!0,c.closePath();break}}!v&&!this.hasFill()?c.strokeShape(this):c.fillStrokeShape(this)}getSelfRect(){let c=[];this.dataArray.forEach(function(y){if(y.command==="A"){const g=y.points[4],E=y.points[5],N=y.points[4]+E;let D=Math.PI/180;if(Math.abs(g-N)<D&&(D=Math.abs(g-N)),E<0)for(let S=g-D;S>N;S-=D){const o=Ae.getPointOnEllipticalArc(y.points[0],y.points[1],y.points[2],y.points[3],S,0);c.push(o.x,o.y)}else for(let S=g+D;S<N;S+=D){const o=Ae.getPointOnEllipticalArc(y.points[0],y.points[1],y.points[2],y.points[3],S,0);c.push(o.x,o.y)}}else if(y.command==="C")for(let g=0;g<=1;g+=.01){const E=Ae.getPointOnCubicBezier(g,y.start.x,y.start.y,y.points[0],y.points[1],y.points[2],y.points[3],y.points[4],y.points[5]);c.push(E.x,E.y)}else c=c.concat(y.points)});let f=c[0],v=c[0],p=c[1],_=c[1],x,b;for(let y=0;y<c.length/2;y++)x=c[y*2],b=c[y*2+1],isNaN(x)||(f=Math.min(f,x),v=Math.max(v,x)),isNaN(b)||(p=Math.min(p,b),_=Math.max(_,b));return{x:f,y:p,width:v-f,height:_-p}}getLength(){return this.pathLength}getPointAtLength(c){return Ae.getPointAtLengthOfDataArray(c,this.dataArray)}static getLineLength(c,f,v,p){return Math.sqrt((v-c)*(v-c)+(p-f)*(p-f))}static getPathLength(c){let f=0;for(let v=0;v<c.length;++v)f+=c[v].pathLength;return f}static getPointAtLengthOfDataArray(c,f){let v,p=0,_=f.length;if(!_)return null;for(;p<_&&c>f[p].pathLength;)c-=f[p].pathLength,++p;if(p===_)return v=f[p-1].points.slice(-2),{x:v[0],y:v[1]};if(c<.01)return f[p].command==="M"?(v=f[p].points.slice(0,2),{x:v[0],y:v[1]}):{x:f[p].start.x,y:f[p].start.y};const x=f[p],b=x.points;switch(x.command){case"L":return Ae.getPointOnLine(c,x.start.x,x.start.y,b[0],b[1]);case"C":return Ae.getPointOnCubicBezier((0,h.t2length)(c,Ae.getPathLength(f),C=>(0,h.getCubicArcLength)([x.start.x,b[0],b[2],b[4]],[x.start.y,b[1],b[3],b[5]],C)),x.start.x,x.start.y,b[0],b[1],b[2],b[3],b[4],b[5]);case"Q":return Ae.getPointOnQuadraticBezier((0,h.t2length)(c,Ae.getPathLength(f),C=>(0,h.getQuadraticArcLength)([x.start.x,b[0],b[2]],[x.start.y,b[1],b[3]],C)),x.start.x,x.start.y,b[0],b[1],b[2],b[3]);case"A":const y=b[0],g=b[1],E=b[2],N=b[3],D=b[5],S=b[6];let o=b[4];return o+=D*c/x.pathLength,Ae.getPointOnEllipticalArc(y,g,E,N,o,S)}return null}static getPointOnLine(c,f,v,p,_,x,b){x=x??f,b=b??v;const y=this.getLineLength(f,v,p,_);if(y<1e-10)return{x:f,y:v};if(p===f)return{x,y:b+(_>v?c:-c)};const g=(_-v)/(p-f),E=Math.sqrt(c*c/(1+g*g))*(p<f?-1:1),N=g*E;if(Math.abs(b-v-g*(x-f))<1e-10)return{x:x+E,y:b+N};const D=((x-f)*(p-f)+(b-v)*(_-v))/(y*y),S=f+D*(p-f),o=v+D*(_-v),C=this.getLineLength(x,b,S,o),R=Math.sqrt(c*c-C*C),z=Math.sqrt(R*R/(1+g*g))*(p<f?-1:1),F=g*z;return{x:S+z,y:o+F}}static getPointOnCubicBezier(c,f,v,p,_,x,b,y,g){function E(R){return R*R*R}function N(R){return 3*R*R*(1-R)}function D(R){return 3*R*(1-R)*(1-R)}function S(R){return(1-R)*(1-R)*(1-R)}const o=y*E(c)+x*N(c)+p*D(c)+f*S(c),C=g*E(c)+b*N(c)+_*D(c)+v*S(c);return{x:o,y:C}}static getPointOnQuadraticBezier(c,f,v,p,_,x,b){function y(S){return S*S}function g(S){return 2*S*(1-S)}function E(S){return(1-S)*(1-S)}const N=x*y(c)+p*g(c)+f*E(c),D=b*y(c)+_*g(c)+v*E(c);return{x:N,y:D}}static getPointOnEllipticalArc(c,f,v,p,_,x){const b=Math.cos(x),y=Math.sin(x),g={x:v*Math.cos(_),y:p*Math.sin(_)};return{x:c+(g.x*b-g.y*y),y:f+(g.x*y+g.y*b)}}static parsePathData(c){if(!c)return[];let f=c;const v=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];f=f.replace(new RegExp(" ","g"),",");for(let N=0;N<v.length;N++)f=f.replace(new RegExp(v[N],"g"),"|"+v[N]);const p=f.split("|"),_=[],x=[];let b=0,y=0;const g=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let E;for(let N=1;N<p.length;N++){let D=p[N],S=D.charAt(0);for(D=D.slice(1),x.length=0;E=g.exec(D);)x.push(E[0]);const o=[];for(let C=0,R=x.length;C<R;C++){if(x[C]==="00"){o.push(0,0);continue}const z=parseFloat(x[C]);isNaN(z)?o.push(0):o.push(z)}for(;o.length>0&&!isNaN(o[0]);){let C="",R=[];const z=b,F=y;let A,M,G,L,K,X,V,j,nt,T;switch(S){case"l":b+=o.shift(),y+=o.shift(),C="L",R.push(b,y);break;case"L":b=o.shift(),y=o.shift(),R.push(b,y);break;case"m":const O=o.shift(),w=o.shift();if(b+=O,y+=w,C="M",_.length>2&&_[_.length-1].command==="z"){for(let B=_.length-2;B>=0;B--)if(_[B].command==="M"){b=_[B].points[0]+O,y=_[B].points[1]+w;break}}R.push(b,y),S="l";break;case"M":b=o.shift(),y=o.shift(),C="M",R.push(b,y),S="L";break;case"h":b+=o.shift(),C="L",R.push(b,y);break;case"H":b=o.shift(),C="L",R.push(b,y);break;case"v":y+=o.shift(),C="L",R.push(b,y);break;case"V":y=o.shift(),C="L",R.push(b,y);break;case"C":R.push(o.shift(),o.shift(),o.shift(),o.shift()),b=o.shift(),y=o.shift(),R.push(b,y);break;case"c":R.push(b+o.shift(),y+o.shift(),b+o.shift(),y+o.shift()),b+=o.shift(),y+=o.shift(),C="C",R.push(b,y);break;case"S":M=b,G=y,A=_[_.length-1],A.command==="C"&&(M=b+(b-A.points[2]),G=y+(y-A.points[3])),R.push(M,G,o.shift(),o.shift()),b=o.shift(),y=o.shift(),C="C",R.push(b,y);break;case"s":M=b,G=y,A=_[_.length-1],A.command==="C"&&(M=b+(b-A.points[2]),G=y+(y-A.points[3])),R.push(M,G,b+o.shift(),y+o.shift()),b+=o.shift(),y+=o.shift(),C="C",R.push(b,y);break;case"Q":R.push(o.shift(),o.shift()),b=o.shift(),y=o.shift(),R.push(b,y);break;case"q":R.push(b+o.shift(),y+o.shift()),b+=o.shift(),y+=o.shift(),C="Q",R.push(b,y);break;case"T":M=b,G=y,A=_[_.length-1],A.command==="Q"&&(M=b+(b-A.points[0]),G=y+(y-A.points[1])),b=o.shift(),y=o.shift(),C="Q",R.push(M,G,b,y);break;case"t":M=b,G=y,A=_[_.length-1],A.command==="Q"&&(M=b+(b-A.points[0]),G=y+(y-A.points[1])),b+=o.shift(),y+=o.shift(),C="Q",R.push(M,G,b,y);break;case"A":L=o.shift(),K=o.shift(),X=o.shift(),V=o.shift(),j=o.shift(),nt=b,T=y,b=o.shift(),y=o.shift(),C="A",R=this.convertEndpointToCenterParameterization(nt,T,b,y,V,j,L,K,X);break;case"a":L=o.shift(),K=o.shift(),X=o.shift(),V=o.shift(),j=o.shift(),nt=b,T=y,b+=o.shift(),y+=o.shift(),C="A",R=this.convertEndpointToCenterParameterization(nt,T,b,y,V,j,L,K,X);break}_.push({command:C||S,points:R,start:{x:z,y:F},pathLength:this.calcLength(z,F,C||S,R)})}(S==="z"||S==="Z")&&_.push({command:"z",points:[],start:void 0,pathLength:0})}return _}static calcLength(c,f,v,p){let _,x,b,y;const g=Ae;switch(v){case"L":return g.getLineLength(c,f,p[0],p[1]);case"C":return(0,h.getCubicArcLength)([c,p[0],p[2],p[4]],[f,p[1],p[3],p[5]],1);case"Q":return(0,h.getQuadraticArcLength)([c,p[0],p[2]],[f,p[1],p[3]],1);case"A":_=0;const E=p[4],N=p[5],D=p[4]+N;let S=Math.PI/180;if(Math.abs(E-D)<S&&(S=Math.abs(E-D)),x=g.getPointOnEllipticalArc(p[0],p[1],p[2],p[3],E,0),N<0)for(y=E-S;y>D;y-=S)b=g.getPointOnEllipticalArc(p[0],p[1],p[2],p[3],y,0),_+=g.getLineLength(x.x,x.y,b.x,b.y),x=b;else for(y=E+S;y<D;y+=S)b=g.getPointOnEllipticalArc(p[0],p[1],p[2],p[3],y,0),_+=g.getLineLength(x.x,x.y,b.x,b.y),x=b;return b=g.getPointOnEllipticalArc(p[0],p[1],p[2],p[3],D,0),_+=g.getLineLength(x.x,x.y,b.x,b.y),_}return 0}static convertEndpointToCenterParameterization(c,f,v,p,_,x,b,y,g){const E=g*(Math.PI/180),N=Math.cos(E)*(c-v)/2+Math.sin(E)*(f-p)/2,D=-1*Math.sin(E)*(c-v)/2+Math.cos(E)*(f-p)/2,S=N*N/(b*b)+D*D/(y*y);S>1&&(b*=Math.sqrt(S),y*=Math.sqrt(S));let o=Math.sqrt((b*b*(y*y)-b*b*(D*D)-y*y*(N*N))/(b*b*(D*D)+y*y*(N*N)));_===x&&(o*=-1),isNaN(o)&&(o=0);const C=o*b*D/y,R=o*-y*N/b,z=(c+v)/2+Math.cos(E)*C-Math.sin(E)*R,F=(f+p)/2+Math.sin(E)*C+Math.cos(E)*R,A=function(j){return Math.sqrt(j[0]*j[0]+j[1]*j[1])},M=function(j,nt){return(j[0]*nt[0]+j[1]*nt[1])/(A(j)*A(nt))},G=function(j,nt){return(j[0]*nt[1]<j[1]*nt[0]?-1:1)*Math.acos(M(j,nt))},L=G([1,0],[(N-C)/b,(D-R)/y]),K=[(N-C)/b,(D-R)/y],X=[(-1*N-C)/b,(-1*D-R)/y];let V=G(K,X);return M(K,X)<=-1&&(V=Math.PI),M(K,X)>=1&&(V=0),x===0&&V>0&&(V=V-2*Math.PI),x===1&&V<0&&(V=V+2*Math.PI),[z,F,b,y,L,V,E,x]}};return zi.Path=r,r.prototype.className="Path",r.prototype._attrsAffectingSize=["data"],(0,s._registerNode)(r),i.Factory.addGetterSetter(r,"data"),zi}var gd;function $g(){if(gd)return Ui;gd=1,Object.defineProperty(Ui,"__esModule",{value:!0}),Ui.Arrow=void 0;const i=Rt(),s=Hf(),m=At(),h=xt(),r=Vo();let d=class extends s.Line{_sceneFunc(f){super._sceneFunc(f);const v=Math.PI*2,p=this.points();let _=p;const x=this.tension()!==0&&p.length>4;x&&(_=this.getTensionPoints());const b=this.pointerLength(),y=p.length;let g,E;if(x){const S=[_[_.length-4],_[_.length-3],_[_.length-2],_[_.length-1],p[y-2],p[y-1]],o=r.Path.calcLength(_[_.length-4],_[_.length-3],"C",S),C=r.Path.getPointOnQuadraticBezier(Math.min(1,1-b/o),S[0],S[1],S[2],S[3],S[4],S[5]);g=p[y-2]-C.x,E=p[y-1]-C.y}else g=p[y-2]-p[y-4],E=p[y-1]-p[y-3];const N=(Math.atan2(E,g)+v)%v,D=this.pointerWidth();this.pointerAtEnding()&&(f.save(),f.beginPath(),f.translate(p[y-2],p[y-1]),f.rotate(N),f.moveTo(0,0),f.lineTo(-b,D/2),f.lineTo(-b,-D/2),f.closePath(),f.restore(),this.__fillStroke(f)),this.pointerAtBeginning()&&(f.save(),f.beginPath(),f.translate(p[0],p[1]),x?(g=(_[0]+_[2])/2-p[0],E=(_[1]+_[3])/2-p[1]):(g=p[2]-p[0],E=p[3]-p[1]),f.rotate((Math.atan2(-E,-g)+v)%v),f.moveTo(0,0),f.lineTo(-b,D/2),f.lineTo(-b,-D/2),f.closePath(),f.restore(),this.__fillStroke(f))}__fillStroke(f){const v=this.dashEnabled();v&&(this.attrs.dashEnabled=!1,f.setLineDash([])),f.fillStrokeShape(this),v&&(this.attrs.dashEnabled=!0)}getSelfRect(){const f=super.getSelfRect(),v=this.pointerWidth()/2;return{x:f.x,y:f.y-v,width:f.width,height:f.height+v*2}}};return Ui.Arrow=d,d.prototype.className="Arrow",(0,h._registerNode)(d),i.Factory.addGetterSetter(d,"pointerLength",10,(0,m.getNumberValidator)()),i.Factory.addGetterSetter(d,"pointerWidth",10,(0,m.getNumberValidator)()),i.Factory.addGetterSetter(d,"pointerAtBeginning",!1),i.Factory.addGetterSetter(d,"pointerAtEnding",!0),Ui}var wi={},md;function tm(){if(md)return wi;md=1,Object.defineProperty(wi,"__esModule",{value:!0}),wi.Circle=void 0;const i=Rt(),s=he(),m=At(),h=xt();let r=class extends s.Shape{_sceneFunc(c){c.beginPath(),c.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),c.closePath(),c.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(c){this.radius()!==c/2&&this.radius(c/2)}setHeight(c){this.radius()!==c/2&&this.radius(c/2)}};return wi.Circle=r,r.prototype._centroid=!0,r.prototype.className="Circle",r.prototype._attrsAffectingSize=["radius"],(0,h._registerNode)(r),i.Factory.addGetterSetter(r,"radius",0,(0,m.getNumberValidator)()),wi}var Bi={},pd;function em(){if(pd)return Bi;pd=1,Object.defineProperty(Bi,"__esModule",{value:!0}),Bi.Ellipse=void 0;const i=Rt(),s=he(),m=At(),h=xt();let r=class extends s.Shape{_sceneFunc(c){const f=this.radiusX(),v=this.radiusY();c.beginPath(),c.save(),f!==v&&c.scale(1,v/f),c.arc(0,0,f,0,Math.PI*2,!1),c.restore(),c.closePath(),c.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(c){this.radiusX(c/2)}setHeight(c){this.radiusY(c/2)}};return Bi.Ellipse=r,r.prototype.className="Ellipse",r.prototype._centroid=!0,r.prototype._attrsAffectingSize=["radiusX","radiusY"],(0,h._registerNode)(r),i.Factory.addComponentsGetterSetter(r,"radius",["x","y"]),i.Factory.addGetterSetter(r,"radiusX",0,(0,m.getNumberValidator)()),i.Factory.addGetterSetter(r,"radiusY",0,(0,m.getNumberValidator)()),Bi}var Hi={},yd;function nm(){if(yd)return Hi;yd=1,Object.defineProperty(Hi,"__esModule",{value:!0}),Hi.Image=void 0;const i=Xt(),s=Rt(),m=he(),h=xt(),r=At();class d extends m.Shape{constructor(f){super(f),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",v=>{this._removeImageLoad(v.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const f=this.image();f&&f.complete||f&&f.readyState===4||f&&f.addEventListener&&f.addEventListener("load",this._loadListener)}_removeImageLoad(f){f&&f.removeEventListener&&f.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const f=!!this.cornerRadius(),v=this.hasShadow();return f&&v?!0:super._useBufferCanvas(!0)}_sceneFunc(f){const v=this.getWidth(),p=this.getHeight(),_=this.cornerRadius(),x=this.attrs.image;let b;if(x){const y=this.attrs.cropWidth,g=this.attrs.cropHeight;y&&g?b=[x,this.cropX(),this.cropY(),y,g,0,0,v,p]:b=[x,0,0,v,p]}(this.hasFill()||this.hasStroke()||_)&&(f.beginPath(),_?i.Util.drawRoundedRectPath(f,v,p,_):f.rect(0,0,v,p),f.closePath(),f.fillStrokeShape(this)),x&&(_&&f.clip(),f.drawImage.apply(f,b))}_hitFunc(f){const v=this.width(),p=this.height(),_=this.cornerRadius();f.beginPath(),_?i.Util.drawRoundedRectPath(f,v,p,_):f.rect(0,0,v,p),f.closePath(),f.fillStrokeShape(this)}getWidth(){var f,v;return(f=this.attrs.width)!==null&&f!==void 0?f:(v=this.image())===null||v===void 0?void 0:v.width}getHeight(){var f,v;return(f=this.attrs.height)!==null&&f!==void 0?f:(v=this.image())===null||v===void 0?void 0:v.height}static fromURL(f,v,p=null){const _=i.Util.createImageElement();_.onload=function(){const x=new d({image:_});v(x)},_.onerror=p,_.crossOrigin="Anonymous",_.src=f}}return Hi.Image=d,d.prototype.className="Image",(0,h._registerNode)(d),s.Factory.addGetterSetter(d,"cornerRadius",0,(0,r.getNumberOrArrayOfNumbersValidator)(4)),s.Factory.addGetterSetter(d,"image"),s.Factory.addComponentsGetterSetter(d,"crop",["x","y","width","height"]),s.Factory.addGetterSetter(d,"cropX",0,(0,r.getNumberValidator)()),s.Factory.addGetterSetter(d,"cropY",0,(0,r.getNumberValidator)()),s.Factory.addGetterSetter(d,"cropWidth",0,(0,r.getNumberValidator)()),s.Factory.addGetterSetter(d,"cropHeight",0,(0,r.getNumberValidator)()),Hi}var ia={},vd;function am(){if(vd)return ia;vd=1,Object.defineProperty(ia,"__esModule",{value:!0}),ia.Tag=ia.Label=void 0;const i=Rt(),s=he(),m=Po(),h=At(),r=xt(),d=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],c="Change.konva",f="none",v="up",p="right",_="down",x="left",b=d.length;let y=class extends m.Group{constructor(N){super(N),this.on("add.konva",function(D){this._addListeners(D.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(N){let D=this,S;const o=function(){D._sync()};for(S=0;S<b;S++)N.on(d[S]+c,o)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let N=this.getText(),D=this.getTag(),S,o,C,R,z,F,A;if(N&&D){switch(S=N.width(),o=N.height(),C=D.pointerDirection(),R=D.pointerWidth(),A=D.pointerHeight(),z=0,F=0,C){case v:z=S/2,F=-1*A;break;case p:z=S+R,F=o/2;break;case _:z=S/2,F=o+A;break;case x:z=-1*R,F=o/2;break}D.setAttrs({x:-1*z,y:-1*F,width:S,height:o}),N.setAttrs({x:-1*z,y:-1*F})}}};ia.Label=y,y.prototype.className="Label",(0,r._registerNode)(y);class g extends s.Shape{_sceneFunc(N){const D=this.width(),S=this.height(),o=this.pointerDirection(),C=this.pointerWidth(),R=this.pointerHeight(),z=this.cornerRadius();let F=0,A=0,M=0,G=0;typeof z=="number"?F=A=M=G=Math.min(z,D/2,S/2):(F=Math.min(z[0]||0,D/2,S/2),A=Math.min(z[1]||0,D/2,S/2),G=Math.min(z[2]||0,D/2,S/2),M=Math.min(z[3]||0,D/2,S/2)),N.beginPath(),N.moveTo(F,0),o===v&&(N.lineTo((D-C)/2,0),N.lineTo(D/2,-1*R),N.lineTo((D+C)/2,0)),N.lineTo(D-A,0),N.arc(D-A,A,A,Math.PI*3/2,0,!1),o===p&&(N.lineTo(D,(S-R)/2),N.lineTo(D+C,S/2),N.lineTo(D,(S+R)/2)),N.lineTo(D,S-G),N.arc(D-G,S-G,G,0,Math.PI/2,!1),o===_&&(N.lineTo((D+C)/2,S),N.lineTo(D/2,S+R),N.lineTo((D-C)/2,S)),N.lineTo(M,S),N.arc(M,S-M,M,Math.PI/2,Math.PI,!1),o===x&&(N.lineTo(0,(S+R)/2),N.lineTo(-1*C,S/2),N.lineTo(0,(S-R)/2)),N.lineTo(0,F),N.arc(F,F,F,Math.PI,Math.PI*3/2,!1),N.closePath(),N.fillStrokeShape(this)}getSelfRect(){let N=0,D=0,S=this.pointerWidth(),o=this.pointerHeight(),C=this.pointerDirection(),R=this.width(),z=this.height();return C===v?(D-=o,z+=o):C===_?z+=o:C===x?(N-=S*1.5,R+=S):C===p&&(R+=S*1.5),{x:N,y:D,width:R,height:z}}}return ia.Tag=g,g.prototype.className="Tag",(0,r._registerNode)(g),i.Factory.addGetterSetter(g,"pointerDirection",f),i.Factory.addGetterSetter(g,"pointerWidth",0,(0,h.getNumberValidator)()),i.Factory.addGetterSetter(g,"pointerHeight",0,(0,h.getNumberValidator)()),i.Factory.addGetterSetter(g,"cornerRadius",0,(0,h.getNumberOrArrayOfNumbersValidator)(4)),ia}var Li={},_d;function Lf(){if(_d)return Li;_d=1,Object.defineProperty(Li,"__esModule",{value:!0}),Li.Rect=void 0;const i=Rt(),s=he(),m=xt(),h=Xt(),r=At();class d extends s.Shape{_sceneFunc(f){const v=this.cornerRadius(),p=this.width(),_=this.height();f.beginPath(),v?h.Util.drawRoundedRectPath(f,p,_,v):f.rect(0,0,p,_),f.closePath(),f.fillStrokeShape(this)}}return Li.Rect=d,d.prototype.className="Rect",(0,m._registerNode)(d),i.Factory.addGetterSetter(d,"cornerRadius",0,(0,r.getNumberOrArrayOfNumbersValidator)(4)),Li}var ji={},Sd;function im(){if(Sd)return ji;Sd=1,Object.defineProperty(ji,"__esModule",{value:!0}),ji.RegularPolygon=void 0;const i=Rt(),s=he(),m=At(),h=xt();let r=class extends s.Shape{_sceneFunc(c){const f=this._getPoints();c.beginPath(),c.moveTo(f[0].x,f[0].y);for(let v=1;v<f.length;v++)c.lineTo(f[v].x,f[v].y);c.closePath(),c.fillStrokeShape(this)}_getPoints(){const c=this.attrs.sides,f=this.attrs.radius||0,v=[];for(let p=0;p<c;p++)v.push({x:f*Math.sin(p*2*Math.PI/c),y:-1*f*Math.cos(p*2*Math.PI/c)});return v}getSelfRect(){const c=this._getPoints();let f=c[0].x,v=c[0].y,p=c[0].x,_=c[0].y;return c.forEach(x=>{f=Math.min(f,x.x),v=Math.max(v,x.x),p=Math.min(p,x.y),_=Math.max(_,x.y)}),{x:f,y:p,width:v-f,height:_-p}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(c){this.radius(c/2)}setHeight(c){this.radius(c/2)}};return ji.RegularPolygon=r,r.prototype.className="RegularPolygon",r.prototype._centroid=!0,r.prototype._attrsAffectingSize=["radius"],(0,h._registerNode)(r),i.Factory.addGetterSetter(r,"radius",0,(0,m.getNumberValidator)()),i.Factory.addGetterSetter(r,"sides",0,(0,m.getNumberValidator)()),ji}var qi={},bd;function sm(){if(bd)return qi;bd=1,Object.defineProperty(qi,"__esModule",{value:!0}),qi.Ring=void 0;const i=Rt(),s=he(),m=At(),h=xt(),r=Math.PI*2;let d=class extends s.Shape{_sceneFunc(f){f.beginPath(),f.arc(0,0,this.innerRadius(),0,r,!1),f.moveTo(this.outerRadius(),0),f.arc(0,0,this.outerRadius(),r,0,!0),f.closePath(),f.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(f){this.outerRadius(f/2)}setHeight(f){this.outerRadius(f/2)}};return qi.Ring=d,d.prototype.className="Ring",d.prototype._centroid=!0,d.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,h._registerNode)(d),i.Factory.addGetterSetter(d,"innerRadius",0,(0,m.getNumberValidator)()),i.Factory.addGetterSetter(d,"outerRadius",0,(0,m.getNumberValidator)()),qi}var Pi={},Ed;function lm(){if(Ed)return Pi;Ed=1,Object.defineProperty(Pi,"__esModule",{value:!0}),Pi.Sprite=void 0;const i=Rt(),s=he(),m=Fo(),h=At(),r=xt();let d=class extends s.Shape{constructor(f){super(f),this._updated=!0,this.anim=new m.Animation(()=>{const v=this._updated;return this._updated=!1,v}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(f){const v=this.animation(),p=this.frameIndex(),_=p*4,x=this.animations()[v],b=this.frameOffsets(),y=x[_+0],g=x[_+1],E=x[_+2],N=x[_+3],D=this.image();if((this.hasFill()||this.hasStroke())&&(f.beginPath(),f.rect(0,0,E,N),f.closePath(),f.fillStrokeShape(this)),D)if(b){const S=b[v],o=p*2;f.drawImage(D,y,g,E,N,S[o+0],S[o+1],E,N)}else f.drawImage(D,y,g,E,N,0,0,E,N)}_hitFunc(f){const v=this.animation(),p=this.frameIndex(),_=p*4,x=this.animations()[v],b=this.frameOffsets(),y=x[_+2],g=x[_+3];if(f.beginPath(),b){const E=b[v],N=p*2;f.rect(E[N+0],E[N+1],y,g)}else f.rect(0,0,y,g);f.closePath(),f.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const f=this;this.interval=setInterval(function(){f._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const f=this.getLayer();this.anim.setLayers(f),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const f=this.frameIndex(),v=this.animation(),p=this.animations(),_=p[v],x=_.length/4;f<x-1?this.frameIndex(f+1):this.frameIndex(0)}};return Pi.Sprite=d,d.prototype.className="Sprite",(0,r._registerNode)(d),i.Factory.addGetterSetter(d,"animation"),i.Factory.addGetterSetter(d,"animations"),i.Factory.addGetterSetter(d,"frameOffsets"),i.Factory.addGetterSetter(d,"image"),i.Factory.addGetterSetter(d,"frameIndex",0,(0,h.getNumberValidator)()),i.Factory.addGetterSetter(d,"frameRate",17,(0,h.getNumberValidator)()),i.Factory.backCompat(d,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),Pi}var Fi={},Cd;function rm(){if(Cd)return Fi;Cd=1,Object.defineProperty(Fi,"__esModule",{value:!0}),Fi.Star=void 0;const i=Rt(),s=he(),m=At(),h=xt();let r=class extends s.Shape{_sceneFunc(c){const f=this.innerRadius(),v=this.outerRadius(),p=this.numPoints();c.beginPath(),c.moveTo(0,0-v);for(let _=1;_<p*2;_++){const x=_%2===0?v:f,b=x*Math.sin(_*Math.PI/p),y=-1*x*Math.cos(_*Math.PI/p);c.lineTo(b,y)}c.closePath(),c.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(c){this.outerRadius(c/2)}setHeight(c){this.outerRadius(c/2)}};return Fi.Star=r,r.prototype.className="Star",r.prototype._centroid=!0,r.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,h._registerNode)(r),i.Factory.addGetterSetter(r,"numPoints",5,(0,m.getNumberValidator)()),i.Factory.addGetterSetter(r,"innerRadius",0,(0,m.getNumberValidator)()),i.Factory.addGetterSetter(r,"outerRadius",0,(0,m.getNumberValidator)()),Fi}var ja={},xd;function jf(){if(xd)return ja;xd=1,Object.defineProperty(ja,"__esModule",{value:!0}),ja.Text=void 0,ja.stringToArray=c;const i=Xt(),s=Rt(),m=he(),h=xt(),r=At(),d=xt();function c(W){return[...W].reduce((Y,tt,ot,I)=>{if(new RegExp("\\p{Emoji}","u").test(tt)){const H=I[ot+1];H&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(H)?(Y.push(tt+H),I[ot+1]=""):Y.push(tt)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(tt+(I[ot+1]||""))?Y.push(tt+I[ot+1]):ot>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(tt)?Y[Y.length-1]+=tt:tt&&Y.push(tt);return Y},[])}const f="auto",v="center",p="inherit",_="justify",x="Change.konva",b="2d",y="-",g="left",E="text",N="Text",D="top",S="bottom",o="middle",C="normal",R="px ",z=" ",F="right",A="rtl",M="word",G="char",L="none",K="…",X=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],V=X.length;function j(W){return W.split(",").map(Y=>{Y=Y.trim();const tt=Y.indexOf(" ")>=0,ot=Y.indexOf('"')>=0||Y.indexOf("'")>=0;return tt&&!ot&&(Y=`"${Y}"`),Y}).join(", ")}let nt;function T(){return nt||(nt=i.Util.createCanvasElement().getContext(b),nt)}function O(W){W.fillText(this._partialText,this._partialTextX,this._partialTextY)}function w(W){W.setAttr("miterLimit",2),W.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function B(W){return W=W||{},!W.fillLinearGradientColorStops&&!W.fillRadialGradientColorStops&&!W.fillPatternImage&&(W.fill=W.fill||"black"),W}let q=class extends m.Shape{constructor(Y){super(B(Y)),this._partialTextX=0,this._partialTextY=0;for(let tt=0;tt<V;tt++)this.on(X[tt]+x,this._setTextData);this._setTextData()}_sceneFunc(Y){const tt=this.textArr,ot=tt.length;if(!this.text())return;let I=this.padding(),H=this.fontSize(),Z=this.lineHeight()*H,rt=this.verticalAlign(),ut=this.direction(),dt=0,yt=this.align(),vt=this.getWidth(),Gt=this.letterSpacing(),gt=this.fill(),jt=this.textDecoration(),zt=jt.indexOf("underline")!==-1,Pt=jt.indexOf("line-through")!==-1,Fe;ut=ut===p?Y.direction:ut;let de=Z/2,De=o;if(h.Konva._fixTextRendering){const St=this.measureSize("M");De="alphabetic",de=(St.fontBoundingBoxAscent-St.fontBoundingBoxDescent)/2+Z/2}for(ut===A&&Y.setAttr("direction",ut),Y.setAttr("font",this._getContextFont()),Y.setAttr("textBaseline",De),Y.setAttr("textAlign",g),rt===o?dt=(this.getHeight()-ot*Z-I*2)/2:rt===S&&(dt=this.getHeight()-ot*Z-I*2),Y.translate(I,dt+I),Fe=0;Fe<ot;Fe++){let St=0,ve=0;const Ue=tt[Fe],Je=Ue.text,Wt=Ue.width,ee=Ue.lastInParagraph;if(Y.save(),yt===F?St+=vt-Wt-I*2:yt===v&&(St+=(vt-Wt-I*2)/2),zt){Y.save(),Y.beginPath();const le=h.Konva._fixTextRendering?Math.round(H/4):Math.round(H/2),Ge=St,fe=de+ve+le;Y.moveTo(Ge,fe);const ge=yt===_&&!ee?vt-I*2:Wt;Y.lineTo(Ge+Math.round(ge),fe),Y.lineWidth=H/15;const En=this._getLinearGradient();Y.strokeStyle=En||gt,Y.stroke(),Y.restore()}if(Pt){Y.save(),Y.beginPath();const le=h.Konva._fixTextRendering?-Math.round(H/4):0;Y.moveTo(St,de+ve+le);const Ge=yt===_&&!ee?vt-I*2:Wt;Y.lineTo(St+Math.round(Ge),de+ve+le),Y.lineWidth=H/15;const fe=this._getLinearGradient();Y.strokeStyle=fe||gt,Y.stroke(),Y.restore()}if(ut!==A&&(Gt!==0||yt===_)){const le=Je.split(" ").length-1,Ge=c(Je);for(let fe=0;fe<Ge.length;fe++){const ge=Ge[fe];ge===" "&&!ee&&yt===_&&(St+=(vt-I*2-Wt)/le),this._partialTextX=St,this._partialTextY=de+ve,this._partialText=ge,Y.fillStrokeShape(this),St+=this.measureSize(ge).width+Gt}}else Gt!==0&&Y.setAttr("letterSpacing",`${Gt}px`),this._partialTextX=St,this._partialTextY=de+ve,this._partialText=Je,Y.fillStrokeShape(this);Y.restore(),ot>1&&(de+=Z)}}_hitFunc(Y){const tt=this.getWidth(),ot=this.getHeight();Y.beginPath(),Y.rect(0,0,tt,ot),Y.closePath(),Y.fillStrokeShape(this)}setText(Y){const tt=i.Util._isString(Y)?Y:Y==null?"":Y+"";return this._setAttr(E,tt),this}getWidth(){return this.attrs.width===f||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===f||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return i.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(Y){var tt,ot,I,H,Z,rt,ut,dt,yt,vt,Gt;let gt=T(),jt=this.fontSize(),zt;gt.save(),gt.font=this._getContextFont(),zt=gt.measureText(Y),gt.restore();const Pt=jt/100;return{actualBoundingBoxAscent:(tt=zt.actualBoundingBoxAscent)!==null&&tt!==void 0?tt:71.58203125*Pt,actualBoundingBoxDescent:(ot=zt.actualBoundingBoxDescent)!==null&&ot!==void 0?ot:0,actualBoundingBoxLeft:(I=zt.actualBoundingBoxLeft)!==null&&I!==void 0?I:-7.421875*Pt,actualBoundingBoxRight:(H=zt.actualBoundingBoxRight)!==null&&H!==void 0?H:75.732421875*Pt,alphabeticBaseline:(Z=zt.alphabeticBaseline)!==null&&Z!==void 0?Z:0,emHeightAscent:(rt=zt.emHeightAscent)!==null&&rt!==void 0?rt:100*Pt,emHeightDescent:(ut=zt.emHeightDescent)!==null&&ut!==void 0?ut:-20*Pt,fontBoundingBoxAscent:(dt=zt.fontBoundingBoxAscent)!==null&&dt!==void 0?dt:91*Pt,fontBoundingBoxDescent:(yt=zt.fontBoundingBoxDescent)!==null&&yt!==void 0?yt:21*Pt,hangingBaseline:(vt=zt.hangingBaseline)!==null&&vt!==void 0?vt:72.80000305175781*Pt,ideographicBaseline:(Gt=zt.ideographicBaseline)!==null&&Gt!==void 0?Gt:-21*Pt,width:zt.width,height:jt}}_getContextFont(){return this.fontStyle()+z+this.fontVariant()+z+(this.fontSize()+R)+j(this.fontFamily())}_addTextLine(Y){this.align()===_&&(Y=Y.trim());const ot=this._getTextWidth(Y);return this.textArr.push({text:Y,width:ot,lastInParagraph:!1})}_getTextWidth(Y){const tt=this.letterSpacing(),ot=Y.length;return T().measureText(Y).width+tt*ot}_setTextData(){let Y=this.text().split(`
`),tt=+this.fontSize(),ot=0,I=this.lineHeight()*tt,H=this.attrs.width,Z=this.attrs.height,rt=H!==f&&H!==void 0,ut=Z!==f&&Z!==void 0,dt=this.padding(),yt=H-dt*2,vt=Z-dt*2,Gt=0,gt=this.wrap(),jt=gt!==L,zt=gt!==G&&jt,Pt=this.ellipsis();this.textArr=[],T().font=this._getContextFont();const Fe=Pt?this._getTextWidth(K):0;for(let de=0,De=Y.length;de<De;++de){let St=Y[de],ve=this._getTextWidth(St);if(rt&&ve>yt)for(;St.length>0;){let Ue=0,Je=c(St).length,Wt="",ee=0;for(;Ue<Je;){const le=Ue+Je>>>1,Ge=c(St),fe=Ge.slice(0,le+1).join(""),ge=this._getTextWidth(fe);(Pt&&ut&&Gt+I>vt?ge+Fe:ge)<=yt?(Ue=le+1,Wt=fe,ee=ge):Je=le}if(Wt){if(zt){const fe=c(St),ge=c(Wt),En=fe[ge.length],Ka=En===z||En===y;let ua;if(Ka&&ee<=yt)ua=ge.length;else{const Ya=ge.lastIndexOf(z),Ml=ge.lastIndexOf(y);ua=Math.max(Ya,Ml)+1}ua>0&&(Ue=ua,Wt=fe.slice(0,Ue).join(""),ee=this._getTextWidth(Wt))}if(Wt=Wt.trimRight(),this._addTextLine(Wt),ot=Math.max(ot,ee),Gt+=I,this._shouldHandleEllipsis(Gt)){this._tryToAddEllipsisToLastLine();break}if(St=c(St).slice(Ue).join("").trimLeft(),St.length>0&&(ve=this._getTextWidth(St),ve<=yt)){this._addTextLine(St),Gt+=I,ot=Math.max(ot,ve);break}}else break}else this._addTextLine(St),Gt+=I,ot=Math.max(ot,ve),this._shouldHandleEllipsis(Gt)&&de<De-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),ut&&Gt+I>vt)break}this.textHeight=tt,this.textWidth=ot}_shouldHandleEllipsis(Y){const tt=+this.fontSize(),ot=this.lineHeight()*tt,I=this.attrs.height,H=I!==f&&I!==void 0,Z=this.padding(),rt=I-Z*2;return!(this.wrap()!==L)||H&&Y+ot>rt}_tryToAddEllipsisToLastLine(){const Y=this.attrs.width,tt=Y!==f&&Y!==void 0,ot=this.padding(),I=Y-ot*2,H=this.ellipsis(),Z=this.textArr[this.textArr.length-1];!Z||!H||(tt&&(this._getTextWidth(Z.text+K)<I||(Z.text=Z.text.slice(0,Z.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(Z.text+K))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const Y=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,tt=this.hasShadow();return Y&&tt?!0:super._useBufferCanvas()}};return ja.Text=q,q.prototype._fillFunc=O,q.prototype._strokeFunc=w,q.prototype.className=N,q.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],(0,d._registerNode)(q),s.Factory.overWriteSetter(q,"width",(0,r.getNumberOrAutoValidator)()),s.Factory.overWriteSetter(q,"height",(0,r.getNumberOrAutoValidator)()),s.Factory.addGetterSetter(q,"direction",p),s.Factory.addGetterSetter(q,"fontFamily","Arial"),s.Factory.addGetterSetter(q,"fontSize",12,(0,r.getNumberValidator)()),s.Factory.addGetterSetter(q,"fontStyle",C),s.Factory.addGetterSetter(q,"fontVariant",C),s.Factory.addGetterSetter(q,"padding",0,(0,r.getNumberValidator)()),s.Factory.addGetterSetter(q,"align",g),s.Factory.addGetterSetter(q,"verticalAlign",D),s.Factory.addGetterSetter(q,"lineHeight",1,(0,r.getNumberValidator)()),s.Factory.addGetterSetter(q,"wrap",M),s.Factory.addGetterSetter(q,"ellipsis",!1,(0,r.getBooleanValidator)()),s.Factory.addGetterSetter(q,"letterSpacing",0,(0,r.getNumberValidator)()),s.Factory.addGetterSetter(q,"text","",(0,r.getStringValidator)()),s.Factory.addGetterSetter(q,"textDecoration",""),ja}var Vi={},Td;function om(){if(Td)return Vi;Td=1,Object.defineProperty(Vi,"__esModule",{value:!0}),Vi.TextPath=void 0;const i=Xt(),s=Rt(),m=he(),h=Vo(),r=jf(),d=At(),c=xt(),f="",v="normal";function p(b){b.fillText(this.partialText,0,0)}function _(b){b.strokeText(this.partialText,0,0)}let x=class extends m.Shape{constructor(y){super(y),this.dummyCanvas=i.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return h.Path.getPathLength(this.dataArray)}_getPointAtLength(y){if(!this.attrs.data)return null;const g=this.pathLength;return y-1>g?null:h.Path.getPointAtLengthOfDataArray(y,this.dataArray)}_readDataAttribute(){this.dataArray=h.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(y){y.setAttr("font",this._getContextFont()),y.setAttr("textBaseline",this.textBaseline()),y.setAttr("textAlign","left"),y.save();const g=this.textDecoration(),E=this.fill(),N=this.fontSize(),D=this.glyphInfo;g==="underline"&&y.beginPath();for(let S=0;S<D.length;S++){y.save();const o=D[S].p0;y.translate(o.x,o.y),y.rotate(D[S].rotation),this.partialText=D[S].text,y.fillStrokeShape(this),g==="underline"&&(S===0&&y.moveTo(0,N/2+1),y.lineTo(N,N/2+1)),y.restore()}g==="underline"&&(y.strokeStyle=E,y.lineWidth=N/20,y.stroke()),y.restore()}_hitFunc(y){y.beginPath();const g=this.glyphInfo;if(g.length>=1){const E=g[0].p0;y.moveTo(E.x,E.y)}for(let E=0;E<g.length;E++){const N=g[E].p1;y.lineTo(N.x,N.y)}y.setAttr("lineWidth",this.fontSize()),y.setAttr("strokeStyle",this.colorKey),y.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return i.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(y){return r.Text.prototype.setText.call(this,y)}_getContextFont(){return r.Text.prototype._getContextFont.call(this)}_getTextSize(y){const E=this.dummyCanvas.getContext("2d");E.save(),E.font=this._getContextFont();const N=E.measureText(y);return E.restore(),{width:N.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:y,height:g}=this._getTextSize(this.attrs.text);if(this.textWidth=y,this.textHeight=g,this.glyphInfo=[],!this.attrs.data)return null;const E=this.letterSpacing(),N=this.align(),D=this.kerningFunc(),S=Math.max(this.textWidth+((this.attrs.text||"").length-1)*E,0);let o=0;N==="center"&&(o=Math.max(0,this.pathLength/2-S/2)),N==="right"&&(o=Math.max(0,this.pathLength-S));const C=(0,r.stringToArray)(this.text());let R=o;for(let z=0;z<C.length;z++){const F=this._getPointAtLength(R);if(!F)return;let A=this._getTextSize(C[z]).width+E;if(C[z]===" "&&N==="justify"){const V=this.text().split(" ").length-1;A+=(this.pathLength-S)/V}const M=this._getPointAtLength(R+A);if(!M)return;const G=h.Path.getLineLength(F.x,F.y,M.x,M.y);let L=0;if(D)try{L=D(C[z-1],C[z])*this.fontSize()}catch{L=0}F.x+=L,M.x+=L,this.textWidth+=L;const K=h.Path.getPointOnLine(L+G/2,F.x,F.y,M.x,M.y),X=Math.atan2(M.y-F.y,M.x-F.x);this.glyphInfo.push({transposeX:K.x,transposeY:K.y,text:C[z],rotation:X,p0:F,p1:M}),R+=A}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const y=[];this.glyphInfo.forEach(function(R){y.push(R.p0.x),y.push(R.p0.y),y.push(R.p1.x),y.push(R.p1.y)});let g=y[0]||0,E=y[0]||0,N=y[1]||0,D=y[1]||0,S,o;for(let R=0;R<y.length/2;R++)S=y[R*2],o=y[R*2+1],g=Math.min(g,S),E=Math.max(E,S),N=Math.min(N,o),D=Math.max(D,o);const C=this.fontSize();return{x:g-C/2,y:N-C/2,width:E-g+C,height:D-N+C}}destroy(){return i.Util.releaseCanvas(this.dummyCanvas),super.destroy()}};return Vi.TextPath=x,x.prototype._fillFunc=p,x.prototype._strokeFunc=_,x.prototype._fillFuncHit=p,x.prototype._strokeFuncHit=_,x.prototype.className="TextPath",x.prototype._attrsAffectingSize=["text","fontSize","data"],(0,c._registerNode)(x),s.Factory.addGetterSetter(x,"data"),s.Factory.addGetterSetter(x,"fontFamily","Arial"),s.Factory.addGetterSetter(x,"fontSize",12,(0,d.getNumberValidator)()),s.Factory.addGetterSetter(x,"fontStyle",v),s.Factory.addGetterSetter(x,"align","left"),s.Factory.addGetterSetter(x,"letterSpacing",0,(0,d.getNumberValidator)()),s.Factory.addGetterSetter(x,"textBaseline","middle"),s.Factory.addGetterSetter(x,"fontVariant",v),s.Factory.addGetterSetter(x,"text",f),s.Factory.addGetterSetter(x,"textDecoration",""),s.Factory.addGetterSetter(x,"kerningFunc",void 0),Vi}var Ki={},Nd;function um(){if(Nd)return Ki;Nd=1,Object.defineProperty(Ki,"__esModule",{value:!0}),Ki.Transformer=void 0;const i=Xt(),s=Rt(),m=Jt(),h=he(),r=Lf(),d=Po(),c=xt(),f=At(),v=xt(),p="tr-konva",_=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(A=>A+`.${p}`).join(" "),x="nodesRect",b=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],y={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},g="ontouchstart"in c.Konva._global;function E(A,M,G){if(A==="rotater")return G;M+=i.Util.degToRad(y[A]||0);const L=(i.Util.radToDeg(M)%360+360)%360;return i.Util._inRange(L,315+22.5,360)||i.Util._inRange(L,0,22.5)?"ns-resize":i.Util._inRange(L,45-22.5,45+22.5)?"nesw-resize":i.Util._inRange(L,90-22.5,90+22.5)?"ew-resize":i.Util._inRange(L,135-22.5,135+22.5)?"nwse-resize":i.Util._inRange(L,180-22.5,180+22.5)?"ns-resize":i.Util._inRange(L,225-22.5,225+22.5)?"nesw-resize":i.Util._inRange(L,270-22.5,270+22.5)?"ew-resize":i.Util._inRange(L,315-22.5,315+22.5)?"nwse-resize":(i.Util.error("Transformer has unknown angle for cursor detection: "+L),"pointer")}const N=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function D(A){return{x:A.x+A.width/2*Math.cos(A.rotation)+A.height/2*Math.sin(-A.rotation),y:A.y+A.height/2*Math.cos(A.rotation)+A.width/2*Math.sin(A.rotation)}}function S(A,M,G){const L=G.x+(A.x-G.x)*Math.cos(M)-(A.y-G.y)*Math.sin(M),K=G.y+(A.x-G.x)*Math.sin(M)+(A.y-G.y)*Math.cos(M);return{...A,rotation:A.rotation+M,x:L,y:K}}function o(A,M){const G=D(A);return S(A,M,G)}function C(A,M,G){let L=M;for(let K=0;K<A.length;K++){const X=c.Konva.getAngle(A[K]),V=Math.abs(X-M)%(Math.PI*2);Math.min(V,Math.PI*2-V)<G&&(L=X)}return L}let R=0,z=class extends d.Group{constructor(M){super(M),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(_,this.update),this.getNode()&&this.update()}attachTo(M){return this.setNode(M),this}setNode(M){return i.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([M])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return p+this._id}setNodes(M=[]){this._nodes&&this._nodes.length&&this.detach();const G=M.filter(K=>K.isAncestorOf(this)?(i.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=M=G,M.length===1&&this.useSingleNodeRotation()?this.rotation(M[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(K=>{const X=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(K._attrsAffectingSize.length){const V=K._attrsAffectingSize.map(j=>j+"Change."+this._getEventNamespace()).join(" ");K.on(V,X)}K.on(b.map(V=>V+`.${this._getEventNamespace()}`).join(" "),X),K.on(`absoluteTransformChange.${this._getEventNamespace()}`,X),this._proxyDrag(K)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(M){let G;M.on(`dragstart.${this._getEventNamespace()}`,L=>{G=M.getAbsolutePosition(),!this.isDragging()&&M!==this.findOne(".back")&&this.startDrag(L,!1)}),M.on(`dragmove.${this._getEventNamespace()}`,L=>{if(!G)return;const K=M.getAbsolutePosition(),X=K.x-G.x,V=K.y-G.y;this.nodes().forEach(j=>{if(j===M||j.isDragging())return;const nt=j.getAbsolutePosition();j.setAbsolutePosition({x:nt.x+X,y:nt.y+V}),j.startDrag(L)}),G=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(M=>{M.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(x),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(x,this.__getNodeRect)}__getNodeShape(M,G=this.rotation(),L){const K=M.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),X=M.getAbsoluteScale(L),V=M.getAbsolutePosition(L),j=K.x*X.x-M.offsetX()*X.x,nt=K.y*X.y-M.offsetY()*X.y,T=(c.Konva.getAngle(M.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),O={x:V.x+j*Math.cos(T)+nt*Math.sin(-T),y:V.y+nt*Math.cos(T)+j*Math.sin(T),width:K.width*X.x,height:K.height*X.y,rotation:T};return S(O,-c.Konva.getAngle(G),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const G=[];this.nodes().map(T=>{const O=T.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),w=[{x:O.x,y:O.y},{x:O.x+O.width,y:O.y},{x:O.x+O.width,y:O.y+O.height},{x:O.x,y:O.y+O.height}],B=T.getAbsoluteTransform();w.forEach(function(q){const W=B.point(q);G.push(W)})});const L=new i.Transform;L.rotate(-c.Konva.getAngle(this.rotation()));let K=1/0,X=1/0,V=-1/0,j=-1/0;G.forEach(function(T){const O=L.point(T);K===void 0&&(K=V=O.x,X=j=O.y),K=Math.min(K,O.x),X=Math.min(X,O.y),V=Math.max(V,O.x),j=Math.max(j,O.y)}),L.invert();const nt=L.point({x:K,y:X});return{x:nt.x,y:nt.y,width:V-K,height:j-X,rotation:c.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),N.forEach(M=>{this._createAnchor(M)}),this._createAnchor("rotater")}_createAnchor(M){const G=new r.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:M+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:g?10:"auto"}),L=this;G.on("mousedown touchstart",function(K){L._handleMouseDown(K)}),G.on("dragstart",K=>{G.stopDrag(),K.cancelBubble=!0}),G.on("dragend",K=>{K.cancelBubble=!0}),G.on("mouseenter",()=>{const K=c.Konva.getAngle(this.rotation()),X=this.rotateAnchorCursor(),V=E(M,K,X);G.getStage().content&&(G.getStage().content.style.cursor=V),this._cursorChange=!0}),G.on("mouseout",()=>{G.getStage().content&&(G.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(G)}_createBack(){const M=new h.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(G,L){const K=L.getParent(),X=K.padding();G.beginPath(),G.rect(-X,-X,L.width()+X*2,L.height()+X*2),G.moveTo(L.width()/2,-X),K.rotateEnabled()&&K.rotateLineVisible()&&G.lineTo(L.width()/2,-K.rotateAnchorOffset()*i.Util._sign(L.height())-X),G.fillStrokeShape(L)},hitFunc:(G,L)=>{if(!this.shouldOverdrawWholeArea())return;const K=this.padding();G.beginPath(),G.rect(-K,-K,L.width()+K*2,L.height()+K*2),G.fillStrokeShape(L)}});this.add(M),this._proxyDrag(M),M.on("dragstart",G=>{G.cancelBubble=!0}),M.on("dragmove",G=>{G.cancelBubble=!0}),M.on("dragend",G=>{G.cancelBubble=!0}),this.on("dragmove",G=>{this.update()})}_handleMouseDown(M){if(this._transforming)return;this._movingAnchorName=M.target.name().split(" ")[0];const G=this._getNodeRect(),L=G.width,K=G.height,X=Math.sqrt(Math.pow(L,2)+Math.pow(K,2));this.sin=Math.abs(K/X),this.cos=Math.abs(L/X),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const V=M.target.getAbsolutePosition(),j=M.target.getStage().getPointerPosition();this._anchorDragOffset={x:j.x-V.x,y:j.y-V.y},R++,this._fire("transformstart",{evt:M.evt,target:this.getNode()}),this._nodes.forEach(nt=>{nt._fire("transformstart",{evt:M.evt,target:nt})})}_handleMouseMove(M){let G,L,K;const X=this.findOne("."+this._movingAnchorName),V=X.getStage();V.setPointersPositions(M);const j=V.getPointerPosition();let nt={x:j.x-this._anchorDragOffset.x,y:j.y-this._anchorDragOffset.y};const T=X.getAbsolutePosition();this.anchorDragBoundFunc()&&(nt=this.anchorDragBoundFunc()(T,nt,M)),X.setAbsolutePosition(nt);const O=X.getAbsolutePosition();if(T.x===O.x&&T.y===O.y)return;if(this._movingAnchorName==="rotater"){const I=this._getNodeRect();G=X.x()-I.width/2,L=-X.y()+I.height/2;let H=Math.atan2(-L,G)+Math.PI/2;I.height<0&&(H-=Math.PI);const rt=c.Konva.getAngle(this.rotation())+H,ut=c.Konva.getAngle(this.rotationSnapTolerance()),yt=C(this.rotationSnaps(),rt,ut)-I.rotation,vt=o(I,yt);this._fitNodesInto(vt,M);return}const w=this.shiftBehavior();let B;w==="inverted"?B=this.keepRatio()&&!M.shiftKey:w==="none"?B=this.keepRatio():B=this.keepRatio()||M.shiftKey;let q=this.centeredScaling()||M.altKey;if(this._movingAnchorName==="top-left"){if(B){const I=q?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};K=Math.sqrt(Math.pow(I.x-X.x(),2)+Math.pow(I.y-X.y(),2));const H=this.findOne(".top-left").x()>I.x?-1:1,Z=this.findOne(".top-left").y()>I.y?-1:1;G=K*this.cos*H,L=K*this.sin*Z,this.findOne(".top-left").x(I.x-G),this.findOne(".top-left").y(I.y-L)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(X.y());else if(this._movingAnchorName==="top-right"){if(B){const I=q?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};K=Math.sqrt(Math.pow(X.x()-I.x,2)+Math.pow(I.y-X.y(),2));const H=this.findOne(".top-right").x()<I.x?-1:1,Z=this.findOne(".top-right").y()>I.y?-1:1;G=K*this.cos*H,L=K*this.sin*Z,this.findOne(".top-right").x(I.x+G),this.findOne(".top-right").y(I.y-L)}var W=X.position();this.findOne(".top-left").y(W.y),this.findOne(".bottom-right").x(W.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(X.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(X.x());else if(this._movingAnchorName==="bottom-left"){if(B){const I=q?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};K=Math.sqrt(Math.pow(I.x-X.x(),2)+Math.pow(X.y()-I.y,2));const H=I.x<X.x()?-1:1,Z=X.y()<I.y?-1:1;G=K*this.cos*H,L=K*this.sin*Z,X.x(I.x-G),X.y(I.y+L)}W=X.position(),this.findOne(".top-left").x(W.x),this.findOne(".bottom-right").y(W.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(X.y());else if(this._movingAnchorName==="bottom-right"){if(B){const I=q?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};K=Math.sqrt(Math.pow(X.x()-I.x,2)+Math.pow(X.y()-I.y,2));const H=this.findOne(".bottom-right").x()<I.x?-1:1,Z=this.findOne(".bottom-right").y()<I.y?-1:1;G=K*this.cos*H,L=K*this.sin*Z,this.findOne(".bottom-right").x(I.x+G),this.findOne(".bottom-right").y(I.y+L)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(q=this.centeredScaling()||M.altKey,q){const I=this.findOne(".top-left"),H=this.findOne(".bottom-right"),Z=I.x(),rt=I.y(),ut=this.getWidth()-H.x(),dt=this.getHeight()-H.y();H.move({x:-Z,y:-rt}),I.move({x:ut,y:dt})}const Y=this.findOne(".top-left").getAbsolutePosition();G=Y.x,L=Y.y;const tt=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),ot=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:G,y:L,width:tt,height:ot,rotation:c.Konva.getAngle(this.rotation())},M)}_handleMouseUp(M){this._removeEvents(M)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(M){var G;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const L=this.getNode();R--,this._fire("transformend",{evt:M,target:L}),(G=this.getLayer())===null||G===void 0||G.batchDraw(),L&&this._nodes.forEach(K=>{var X;K._fire("transformend",{evt:M,target:K}),(X=K.getLayer())===null||X===void 0||X.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(M,G){const L=this._getNodeRect(),K=1;if(i.Util._inRange(M.width,-this.padding()*2-K,K)){this.update();return}if(i.Util._inRange(M.height,-this.padding()*2-K,K)){this.update();return}const X=new i.Transform;if(X.rotate(c.Konva.getAngle(this.rotation())),this._movingAnchorName&&M.width<0&&this._movingAnchorName.indexOf("left")>=0){const B=X.point({x:-this.padding()*2,y:0});M.x+=B.x,M.y+=B.y,M.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=B.x,this._anchorDragOffset.y-=B.y}else if(this._movingAnchorName&&M.width<0&&this._movingAnchorName.indexOf("right")>=0){const B=X.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=B.x,this._anchorDragOffset.y-=B.y,M.width+=this.padding()*2}if(this._movingAnchorName&&M.height<0&&this._movingAnchorName.indexOf("top")>=0){const B=X.point({x:0,y:-this.padding()*2});M.x+=B.x,M.y+=B.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=B.x,this._anchorDragOffset.y-=B.y,M.height+=this.padding()*2}else if(this._movingAnchorName&&M.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const B=X.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=B.x,this._anchorDragOffset.y-=B.y,M.height+=this.padding()*2}if(this.boundBoxFunc()){const B=this.boundBoxFunc()(L,M);B?M=B:i.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const V=1e7,j=new i.Transform;j.translate(L.x,L.y),j.rotate(L.rotation),j.scale(L.width/V,L.height/V);const nt=new i.Transform,T=M.width/V,O=M.height/V;this.flipEnabled()===!1?(nt.translate(M.x,M.y),nt.rotate(M.rotation),nt.translate(M.width<0?M.width:0,M.height<0?M.height:0),nt.scale(Math.abs(T),Math.abs(O))):(nt.translate(M.x,M.y),nt.rotate(M.rotation),nt.scale(T,O));const w=nt.multiply(j.invert());this._nodes.forEach(B=>{var q;const W=B.getParent().getAbsoluteTransform(),Y=B.getTransform().copy();Y.translate(B.offsetX(),B.offsetY());const tt=new i.Transform;tt.multiply(W.copy().invert()).multiply(w).multiply(W).multiply(Y);const ot=tt.decompose();B.setAttrs(ot),(q=B.getLayer())===null||q===void 0||q.batchDraw()}),this.rotation(i.Util._getRotation(M.rotation)),this._nodes.forEach(B=>{this._fire("transform",{evt:G,target:B}),B._fire("transform",{evt:G,target:B})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(M,G){this.findOne(M).setAttrs(G)}update(){var M;const G=this._getNodeRect();this.rotation(i.Util._getRotation(G.rotation));const L=G.width,K=G.height,X=this.enabledAnchors(),V=this.resizeEnabled(),j=this.padding(),nt=this.anchorSize(),T=this.find("._anchor");T.forEach(w=>{w.setAttrs({width:nt,height:nt,offsetX:nt/2,offsetY:nt/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:nt/2+j,offsetY:nt/2+j,visible:V&&X.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:L/2,y:0,offsetY:nt/2+j,visible:V&&X.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:L,y:0,offsetX:nt/2-j,offsetY:nt/2+j,visible:V&&X.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:K/2,offsetX:nt/2+j,visible:V&&X.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:L,y:K/2,offsetX:nt/2-j,visible:V&&X.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:K,offsetX:nt/2+j,offsetY:nt/2-j,visible:V&&X.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:L/2,y:K,offsetY:nt/2-j,visible:V&&X.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:L,y:K,offsetX:nt/2-j,offsetY:nt/2-j,visible:V&&X.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:L/2,y:-this.rotateAnchorOffset()*i.Util._sign(K)-j,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:L,height:K,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const O=this.anchorStyleFunc();O&&T.forEach(w=>{O(w)}),(M=this.getLayer())===null||M===void 0||M.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const M=this.findOne("."+this._movingAnchorName);M&&M.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),d.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return m.Node.prototype.toObject.call(this)}clone(M){return m.Node.prototype.clone.call(this,M)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}};Ki.Transformer=z,z.isTransforming=()=>R>0;function F(A){return A instanceof Array||i.Util.warn("enabledAnchors value should be an array"),A instanceof Array&&A.forEach(function(M){N.indexOf(M)===-1&&i.Util.warn("Unknown anchor name: "+M+". Available names are: "+N.join(", "))}),A||[]}return z.prototype.className="Transformer",(0,v._registerNode)(z),s.Factory.addGetterSetter(z,"enabledAnchors",N,F),s.Factory.addGetterSetter(z,"flipEnabled",!0,(0,f.getBooleanValidator)()),s.Factory.addGetterSetter(z,"resizeEnabled",!0),s.Factory.addGetterSetter(z,"anchorSize",10,(0,f.getNumberValidator)()),s.Factory.addGetterSetter(z,"rotateEnabled",!0),s.Factory.addGetterSetter(z,"rotateLineVisible",!0),s.Factory.addGetterSetter(z,"rotationSnaps",[]),s.Factory.addGetterSetter(z,"rotateAnchorOffset",50,(0,f.getNumberValidator)()),s.Factory.addGetterSetter(z,"rotateAnchorCursor","crosshair"),s.Factory.addGetterSetter(z,"rotationSnapTolerance",5,(0,f.getNumberValidator)()),s.Factory.addGetterSetter(z,"borderEnabled",!0),s.Factory.addGetterSetter(z,"anchorStroke","rgb(0, 161, 255)"),s.Factory.addGetterSetter(z,"anchorStrokeWidth",1,(0,f.getNumberValidator)()),s.Factory.addGetterSetter(z,"anchorFill","white"),s.Factory.addGetterSetter(z,"anchorCornerRadius",0,(0,f.getNumberValidator)()),s.Factory.addGetterSetter(z,"borderStroke","rgb(0, 161, 255)"),s.Factory.addGetterSetter(z,"borderStrokeWidth",1,(0,f.getNumberValidator)()),s.Factory.addGetterSetter(z,"borderDash"),s.Factory.addGetterSetter(z,"keepRatio",!0),s.Factory.addGetterSetter(z,"shiftBehavior","default"),s.Factory.addGetterSetter(z,"centeredScaling",!1),s.Factory.addGetterSetter(z,"ignoreStroke",!1),s.Factory.addGetterSetter(z,"padding",0,(0,f.getNumberValidator)()),s.Factory.addGetterSetter(z,"nodes"),s.Factory.addGetterSetter(z,"node"),s.Factory.addGetterSetter(z,"boundBoxFunc"),s.Factory.addGetterSetter(z,"anchorDragBoundFunc"),s.Factory.addGetterSetter(z,"anchorStyleFunc"),s.Factory.addGetterSetter(z,"shouldOverdrawWholeArea",!1),s.Factory.addGetterSetter(z,"useSingleNodeRotation",!0),s.Factory.backCompat(z,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"}),Ki}var Yi={},Rd;function cm(){if(Rd)return Yi;Rd=1,Object.defineProperty(Yi,"__esModule",{value:!0}),Yi.Wedge=void 0;const i=Rt(),s=he(),m=xt(),h=At(),r=xt();let d=class extends s.Shape{_sceneFunc(f){f.beginPath(),f.arc(0,0,this.radius(),0,m.Konva.getAngle(this.angle()),this.clockwise()),f.lineTo(0,0),f.closePath(),f.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(f){this.radius(f/2)}setHeight(f){this.radius(f/2)}};return Yi.Wedge=d,d.prototype.className="Wedge",d.prototype._centroid=!0,d.prototype._attrsAffectingSize=["radius"],(0,r._registerNode)(d),i.Factory.addGetterSetter(d,"radius",0,(0,h.getNumberValidator)()),i.Factory.addGetterSetter(d,"angle",0,(0,h.getNumberValidator)()),i.Factory.addGetterSetter(d,"clockwise",!1),i.Factory.backCompat(d,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),Yi}var Xi={},Ad;function hm(){if(Ad)return Xi;Ad=1,Object.defineProperty(Xi,"__esModule",{value:!0}),Xi.Blur=void 0;const i=Rt(),s=Jt(),m=At();function h(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const r=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],d=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function c(v,p){const _=v.data,x=v.width,b=v.height;let y,g,E,N,D,S,o,C,R,z,F,A,M,G,L,K,X,V,j,nt;const T=p+p+1,O=x-1,w=b-1,B=p+1,q=B*(B+1)/2,W=new h,Y=r[p],tt=d[p];let ot=null,I=W,H=null,Z=null;for(let rt=1;rt<T;rt++)I=I.next=new h,rt===B&&(ot=I);I.next=W,E=g=0;for(let rt=0;rt<b;rt++){A=M=G=L=N=D=S=o=0,C=B*(K=_[g]),R=B*(X=_[g+1]),z=B*(V=_[g+2]),F=B*(j=_[g+3]),N+=q*K,D+=q*X,S+=q*V,o+=q*j,I=W;for(let ut=0;ut<B;ut++)I.r=K,I.g=X,I.b=V,I.a=j,I=I.next;for(let ut=1;ut<B;ut++)y=g+((O<ut?O:ut)<<2),N+=(I.r=K=_[y])*(nt=B-ut),D+=(I.g=X=_[y+1])*nt,S+=(I.b=V=_[y+2])*nt,o+=(I.a=j=_[y+3])*nt,A+=K,M+=X,G+=V,L+=j,I=I.next;H=W,Z=ot;for(let ut=0;ut<x;ut++)_[g+3]=j=o*Y>>tt,j!==0?(j=255/j,_[g]=(N*Y>>tt)*j,_[g+1]=(D*Y>>tt)*j,_[g+2]=(S*Y>>tt)*j):_[g]=_[g+1]=_[g+2]=0,N-=C,D-=R,S-=z,o-=F,C-=H.r,R-=H.g,z-=H.b,F-=H.a,y=E+((y=ut+p+1)<O?y:O)<<2,A+=H.r=_[y],M+=H.g=_[y+1],G+=H.b=_[y+2],L+=H.a=_[y+3],N+=A,D+=M,S+=G,o+=L,H=H.next,C+=K=Z.r,R+=X=Z.g,z+=V=Z.b,F+=j=Z.a,A-=K,M-=X,G-=V,L-=j,Z=Z.next,g+=4;E+=x}for(let rt=0;rt<x;rt++){M=G=L=A=D=S=o=N=0,g=rt<<2,C=B*(K=_[g]),R=B*(X=_[g+1]),z=B*(V=_[g+2]),F=B*(j=_[g+3]),N+=q*K,D+=q*X,S+=q*V,o+=q*j,I=W;for(let dt=0;dt<B;dt++)I.r=K,I.g=X,I.b=V,I.a=j,I=I.next;let ut=x;for(let dt=1;dt<=p;dt++)g=ut+rt<<2,N+=(I.r=K=_[g])*(nt=B-dt),D+=(I.g=X=_[g+1])*nt,S+=(I.b=V=_[g+2])*nt,o+=(I.a=j=_[g+3])*nt,A+=K,M+=X,G+=V,L+=j,I=I.next,dt<w&&(ut+=x);g=rt,H=W,Z=ot;for(let dt=0;dt<b;dt++)y=g<<2,_[y+3]=j=o*Y>>tt,j>0?(j=255/j,_[y]=(N*Y>>tt)*j,_[y+1]=(D*Y>>tt)*j,_[y+2]=(S*Y>>tt)*j):_[y]=_[y+1]=_[y+2]=0,N-=C,D-=R,S-=z,o-=F,C-=H.r,R-=H.g,z-=H.b,F-=H.a,y=rt+((y=dt+B)<w?y:w)*x<<2,N+=A+=H.r=_[y],D+=M+=H.g=_[y+1],S+=G+=H.b=_[y+2],o+=L+=H.a=_[y+3],H=H.next,C+=K=Z.r,R+=X=Z.g,z+=V=Z.b,F+=j=Z.a,A-=K,M-=X,G-=V,L-=j,Z=Z.next,g+=x}}const f=function(p){const _=Math.round(this.blurRadius());_>0&&c(p,_)};return Xi.Blur=f,i.Factory.addGetterSetter(s.Node,"blurRadius",0,(0,m.getNumberValidator)(),i.Factory.afterSetFilter),Xi}var Qi={},Od;function dm(){if(Od)return Qi;Od=1,Object.defineProperty(Qi,"__esModule",{value:!0}),Qi.Brighten=void 0;const i=Rt(),s=Jt(),m=At(),h=function(r){const d=this.brightness()*255,c=r.data,f=c.length;for(let v=0;v<f;v+=4)c[v]+=d,c[v+1]+=d,c[v+2]+=d};return Qi.Brighten=h,i.Factory.addGetterSetter(s.Node,"brightness",0,(0,m.getNumberValidator)(),i.Factory.afterSetFilter),Qi}var ki={},Md;function fm(){if(Md)return ki;Md=1,Object.defineProperty(ki,"__esModule",{value:!0}),ki.Contrast=void 0;const i=Rt(),s=Jt(),m=At(),h=function(r){const d=Math.pow((this.contrast()+100)/100,2),c=r.data,f=c.length;let v=150,p=150,_=150;for(let x=0;x<f;x+=4)v=c[x],p=c[x+1],_=c[x+2],v/=255,v-=.5,v*=d,v+=.5,v*=255,p/=255,p-=.5,p*=d,p+=.5,p*=255,_/=255,_-=.5,_*=d,_+=.5,_*=255,v=v<0?0:v>255?255:v,p=p<0?0:p>255?255:p,_=_<0?0:_>255?255:_,c[x]=v,c[x+1]=p,c[x+2]=_};return ki.Contrast=h,i.Factory.addGetterSetter(s.Node,"contrast",0,(0,m.getNumberValidator)(),i.Factory.afterSetFilter),ki}var Zi={},Dd;function gm(){if(Dd)return Zi;Dd=1,Object.defineProperty(Zi,"__esModule",{value:!0}),Zi.Emboss=void 0;const i=Rt(),s=Jt(),m=Xt(),h=At(),r=function(d){const c=this.embossStrength()*10,f=this.embossWhiteLevel()*255,v=this.embossDirection(),p=this.embossBlend(),_=d.data,x=d.width,b=d.height,y=x*4;let g=0,E=0,N=b;switch(v){case"top-left":g=-1,E=-1;break;case"top":g=-1,E=0;break;case"top-right":g=-1,E=1;break;case"right":g=0,E=1;break;case"bottom-right":g=1,E=1;break;case"bottom":g=1,E=0;break;case"bottom-left":g=1,E=-1;break;case"left":g=0,E=-1;break;default:m.Util.error("Unknown emboss direction: "+v)}do{const D=(N-1)*y;let S=g;N+S<1&&(S=0),N+S>b&&(S=0);const o=(N-1+S)*x*4;let C=x;do{const R=D+(C-1)*4;let z=E;C+z<1&&(z=0),C+z>x&&(z=0);const F=o+(C-1+z)*4,A=_[R]-_[F],M=_[R+1]-_[F+1],G=_[R+2]-_[F+2];let L=A;const K=L>0?L:-L,X=M>0?M:-M,V=G>0?G:-G;if(X>K&&(L=M),V>K&&(L=G),L*=c,p){const j=_[R]+L,nt=_[R+1]+L,T=_[R+2]+L;_[R]=j>255?255:j<0?0:j,_[R+1]=nt>255?255:nt<0?0:nt,_[R+2]=T>255?255:T<0?0:T}else{let j=f-L;j<0?j=0:j>255&&(j=255),_[R]=_[R+1]=_[R+2]=j}}while(--C)}while(--N)};return Zi.Emboss=r,i.Factory.addGetterSetter(s.Node,"embossStrength",.5,(0,h.getNumberValidator)(),i.Factory.afterSetFilter),i.Factory.addGetterSetter(s.Node,"embossWhiteLevel",.5,(0,h.getNumberValidator)(),i.Factory.afterSetFilter),i.Factory.addGetterSetter(s.Node,"embossDirection","top-left",void 0,i.Factory.afterSetFilter),i.Factory.addGetterSetter(s.Node,"embossBlend",!1,void 0,i.Factory.afterSetFilter),Zi}var Ji={},Ud;function mm(){if(Ud)return Ji;Ud=1,Object.defineProperty(Ji,"__esModule",{value:!0}),Ji.Enhance=void 0;const i=Rt(),s=Jt(),m=At();function h(d,c,f,v,p){const _=f-c,x=p-v;if(_===0)return v+x/2;if(x===0)return v;let b=(d-c)/_;return b=x*b+v,b}const r=function(d){const c=d.data,f=c.length;let v=c[0],p=v,_,x=c[1],b=x,y,g=c[2],E=g,N;const D=this.enhance();if(D===0)return;for(let A=0;A<f;A+=4)_=c[A+0],_<v?v=_:_>p&&(p=_),y=c[A+1],y<x?x=y:y>b&&(b=y),N=c[A+2],N<g?g=N:N>E&&(E=N);p===v&&(p=255,v=0),b===x&&(b=255,x=0),E===g&&(E=255,g=0);let S,o,C,R,z,F;if(D>0)S=p+D*(255-p),o=v-D*(v-0),C=b+D*(255-b),R=x-D*(x-0),z=E+D*(255-E),F=g-D*(g-0);else{const A=(p+v)*.5;S=p+D*(p-A),o=v+D*(v-A);const M=(b+x)*.5;C=b+D*(b-M),R=x+D*(x-M);const G=(E+g)*.5;z=E+D*(E-G),F=g+D*(g-G)}for(let A=0;A<f;A+=4)c[A+0]=h(c[A+0],v,p,o,S),c[A+1]=h(c[A+1],x,b,R,C),c[A+2]=h(c[A+2],g,E,F,z)};return Ji.Enhance=r,i.Factory.addGetterSetter(s.Node,"enhance",0,(0,m.getNumberValidator)(),i.Factory.afterSetFilter),Ji}var Wi={},Gd;function pm(){if(Gd)return Wi;Gd=1,Object.defineProperty(Wi,"__esModule",{value:!0}),Wi.Grayscale=void 0;const i=function(s){const m=s.data,h=m.length;for(let r=0;r<h;r+=4){const d=.34*m[r]+.5*m[r+1]+.16*m[r+2];m[r]=d,m[r+1]=d,m[r+2]=d}};return Wi.Grayscale=i,Wi}var Ii={},zd;function ym(){if(zd)return Ii;zd=1,Object.defineProperty(Ii,"__esModule",{value:!0}),Ii.HSL=void 0;const i=Rt(),s=Jt(),m=At();i.Factory.addGetterSetter(s.Node,"hue",0,(0,m.getNumberValidator)(),i.Factory.afterSetFilter),i.Factory.addGetterSetter(s.Node,"saturation",0,(0,m.getNumberValidator)(),i.Factory.afterSetFilter),i.Factory.addGetterSetter(s.Node,"luminance",0,(0,m.getNumberValidator)(),i.Factory.afterSetFilter);const h=function(r){const d=r.data,c=d.length,f=1,v=Math.pow(2,this.saturation()),p=Math.abs(this.hue()+360)%360,_=this.luminance()*127,x=f*v*Math.cos(p*Math.PI/180),b=f*v*Math.sin(p*Math.PI/180),y=.299*f+.701*x+.167*b,g=.587*f-.587*x+.33*b,E=.114*f-.114*x-.497*b,N=.299*f-.299*x-.328*b,D=.587*f+.413*x+.035*b,S=.114*f-.114*x+.293*b,o=.299*f-.3*x+1.25*b,C=.587*f-.586*x-1.05*b,R=.114*f+.886*x-.2*b;let z,F,A,M;for(let G=0;G<c;G+=4)z=d[G+0],F=d[G+1],A=d[G+2],M=d[G+3],d[G+0]=y*z+g*F+E*A+_,d[G+1]=N*z+D*F+S*A+_,d[G+2]=o*z+C*F+R*A+_,d[G+3]=M};return Ii.HSL=h,Ii}var $i={},wd;function vm(){if(wd)return $i;wd=1,Object.defineProperty($i,"__esModule",{value:!0}),$i.HSV=void 0;const i=Rt(),s=Jt(),m=At(),h=function(r){const d=r.data,c=d.length,f=Math.pow(2,this.value()),v=Math.pow(2,this.saturation()),p=Math.abs(this.hue()+360)%360,_=f*v*Math.cos(p*Math.PI/180),x=f*v*Math.sin(p*Math.PI/180),b=.299*f+.701*_+.167*x,y=.587*f-.587*_+.33*x,g=.114*f-.114*_-.497*x,E=.299*f-.299*_-.328*x,N=.587*f+.413*_+.035*x,D=.114*f-.114*_+.293*x,S=.299*f-.3*_+1.25*x,o=.587*f-.586*_-1.05*x,C=.114*f+.886*_-.2*x;for(let R=0;R<c;R+=4){const z=d[R+0],F=d[R+1],A=d[R+2],M=d[R+3];d[R+0]=b*z+y*F+g*A,d[R+1]=E*z+N*F+D*A,d[R+2]=S*z+o*F+C*A,d[R+3]=M}};return $i.HSV=h,i.Factory.addGetterSetter(s.Node,"hue",0,(0,m.getNumberValidator)(),i.Factory.afterSetFilter),i.Factory.addGetterSetter(s.Node,"saturation",0,(0,m.getNumberValidator)(),i.Factory.afterSetFilter),i.Factory.addGetterSetter(s.Node,"value",0,(0,m.getNumberValidator)(),i.Factory.afterSetFilter),$i}var ts={},Bd;function _m(){if(Bd)return ts;Bd=1,Object.defineProperty(ts,"__esModule",{value:!0}),ts.Invert=void 0;const i=function(s){const m=s.data,h=m.length;for(let r=0;r<h;r+=4)m[r]=255-m[r],m[r+1]=255-m[r+1],m[r+2]=255-m[r+2]};return ts.Invert=i,ts}var es={},Hd;function Sm(){if(Hd)return es;Hd=1,Object.defineProperty(es,"__esModule",{value:!0}),es.Kaleidoscope=void 0;const i=Rt(),s=Jt(),m=Xt(),h=At(),r=function(f,v,p){const _=f.data,x=v.data,b=f.width,y=f.height,g=p.polarCenterX||b/2,E=p.polarCenterY||y/2;let N=Math.sqrt(g*g+E*E),D=b-g,S=y-E;const o=Math.sqrt(D*D+S*S);N=o>N?o:N;const C=y,R=b,z=360/R*Math.PI/180;for(let F=0;F<R;F+=1){const A=Math.sin(F*z),M=Math.cos(F*z);for(let G=0;G<C;G+=1){D=Math.floor(g+N*G/C*M),S=Math.floor(E+N*G/C*A);let L=(S*b+D)*4;const K=_[L+0],X=_[L+1],V=_[L+2],j=_[L+3];L=(F+G*b)*4,x[L+0]=K,x[L+1]=X,x[L+2]=V,x[L+3]=j}}},d=function(f,v,p){const _=f.data,x=v.data,b=f.width,y=f.height,g=p.polarCenterX||b/2,E=p.polarCenterY||y/2;let N=Math.sqrt(g*g+E*E),D=b-g,S=y-E;const o=Math.sqrt(D*D+S*S);N=o>N?o:N;const C=y,R=b,z=0;let F,A;for(D=0;D<b;D+=1)for(S=0;S<y;S+=1){const M=D-g,G=S-E,L=Math.sqrt(M*M+G*G)*C/N;let K=(Math.atan2(G,M)*180/Math.PI+360+z)%360;K=K*R/360,F=Math.floor(K),A=Math.floor(L);let X=(A*b+F)*4;const V=_[X+0],j=_[X+1],nt=_[X+2],T=_[X+3];X=(S*b+D)*4,x[X+0]=V,x[X+1]=j,x[X+2]=nt,x[X+3]=T}},c=function(f){const v=f.width,p=f.height;let _,x,b,y,g,E,N,D,S,o,C=Math.round(this.kaleidoscopePower());const R=Math.round(this.kaleidoscopeAngle()),z=Math.floor(v*(R%360)/360);if(C<1)return;const F=m.Util.createCanvasElement();F.width=v,F.height=p;const A=F.getContext("2d").getImageData(0,0,v,p);m.Util.releaseCanvas(F),r(f,A,{polarCenterX:v/2,polarCenterY:p/2});let M=v/Math.pow(2,C);for(;M<=8;)M=M*2,C-=1;M=Math.ceil(M);let G=M,L=0,K=G,X=1;for(z+M>v&&(L=G,K=0,X=-1),x=0;x<p;x+=1)for(_=L;_!==K;_+=X)b=Math.round(_+z)%v,S=(v*x+b)*4,g=A.data[S+0],E=A.data[S+1],N=A.data[S+2],D=A.data[S+3],o=(v*x+_)*4,A.data[o+0]=g,A.data[o+1]=E,A.data[o+2]=N,A.data[o+3]=D;for(x=0;x<p;x+=1)for(G=Math.floor(M),y=0;y<C;y+=1){for(_=0;_<G+1;_+=1)S=(v*x+_)*4,g=A.data[S+0],E=A.data[S+1],N=A.data[S+2],D=A.data[S+3],o=(v*x+G*2-_-1)*4,A.data[o+0]=g,A.data[o+1]=E,A.data[o+2]=N,A.data[o+3]=D;G*=2}d(A,f,{})};return es.Kaleidoscope=c,i.Factory.addGetterSetter(s.Node,"kaleidoscopePower",2,(0,h.getNumberValidator)(),i.Factory.afterSetFilter),i.Factory.addGetterSetter(s.Node,"kaleidoscopeAngle",0,(0,h.getNumberValidator)(),i.Factory.afterSetFilter),es}var ns={},Ld;function bm(){if(Ld)return ns;Ld=1,Object.defineProperty(ns,"__esModule",{value:!0}),ns.Mask=void 0;const i=Rt(),s=Jt(),m=At();function h(b,y,g){let E=(g*b.width+y)*4;const N=[];return N.push(b.data[E++],b.data[E++],b.data[E++],b.data[E++]),N}function r(b,y){return Math.sqrt(Math.pow(b[0]-y[0],2)+Math.pow(b[1]-y[1],2)+Math.pow(b[2]-y[2],2))}function d(b){const y=[0,0,0];for(let g=0;g<b.length;g++)y[0]+=b[g][0],y[1]+=b[g][1],y[2]+=b[g][2];return y[0]/=b.length,y[1]/=b.length,y[2]/=b.length,y}function c(b,y){const g=h(b,0,0),E=h(b,b.width-1,0),N=h(b,0,b.height-1),D=h(b,b.width-1,b.height-1),S=y||10;if(r(g,E)<S&&r(E,D)<S&&r(D,N)<S&&r(N,g)<S){const o=d([E,g,D,N]),C=[];for(let R=0;R<b.width*b.height;R++){const z=r(o,[b.data[R*4],b.data[R*4+1],b.data[R*4+2]]);C[R]=z<S?0:255}return C}}function f(b,y){for(let g=0;g<b.width*b.height;g++)b.data[4*g+3]=y[g]}function v(b,y,g){const E=[1,1,1,1,0,1,1,1,1],N=Math.round(Math.sqrt(E.length)),D=Math.floor(N/2),S=[];for(let o=0;o<g;o++)for(let C=0;C<y;C++){const R=o*y+C;let z=0;for(let F=0;F<N;F++)for(let A=0;A<N;A++){const M=o+F-D,G=C+A-D;if(M>=0&&M<g&&G>=0&&G<y){const L=M*y+G,K=E[F*N+A];z+=b[L]*K}}S[R]=z===2040?255:0}return S}function p(b,y,g){const E=[1,1,1,1,1,1,1,1,1],N=Math.round(Math.sqrt(E.length)),D=Math.floor(N/2),S=[];for(let o=0;o<g;o++)for(let C=0;C<y;C++){const R=o*y+C;let z=0;for(let F=0;F<N;F++)for(let A=0;A<N;A++){const M=o+F-D,G=C+A-D;if(M>=0&&M<g&&G>=0&&G<y){const L=M*y+G,K=E[F*N+A];z+=b[L]*K}}S[R]=z>=1020?255:0}return S}function _(b,y,g){const E=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],N=Math.round(Math.sqrt(E.length)),D=Math.floor(N/2),S=[];for(let o=0;o<g;o++)for(let C=0;C<y;C++){const R=o*y+C;let z=0;for(let F=0;F<N;F++)for(let A=0;A<N;A++){const M=o+F-D,G=C+A-D;if(M>=0&&M<g&&G>=0&&G<y){const L=M*y+G,K=E[F*N+A];z+=b[L]*K}}S[R]=z}return S}const x=function(b){const y=this.threshold();let g=c(b,y);return g&&(g=v(g,b.width,b.height),g=p(g,b.width,b.height),g=_(g,b.width,b.height),f(b,g)),b};return ns.Mask=x,i.Factory.addGetterSetter(s.Node,"threshold",0,(0,m.getNumberValidator)(),i.Factory.afterSetFilter),ns}var as={},jd;function Em(){if(jd)return as;jd=1,Object.defineProperty(as,"__esModule",{value:!0}),as.Noise=void 0;const i=Rt(),s=Jt(),m=At(),h=function(r){const d=this.noise()*255,c=r.data,f=c.length,v=d/2;for(let p=0;p<f;p+=4)c[p+0]+=v-2*v*Math.random(),c[p+1]+=v-2*v*Math.random(),c[p+2]+=v-2*v*Math.random()};return as.Noise=h,i.Factory.addGetterSetter(s.Node,"noise",.2,(0,m.getNumberValidator)(),i.Factory.afterSetFilter),as}var is={},qd;function Cm(){if(qd)return is;qd=1,Object.defineProperty(is,"__esModule",{value:!0}),is.Pixelate=void 0;const i=Rt(),s=Xt(),m=Jt(),h=At(),r=function(d){let c=Math.ceil(this.pixelSize()),f=d.width,v=d.height,p=Math.ceil(f/c),_=Math.ceil(v/c),x=d.data;if(c<=0){s.Util.error("pixelSize value can not be <= 0");return}for(let b=0;b<p;b+=1)for(let y=0;y<_;y+=1){let g=0,E=0,N=0,D=0;const S=b*c,o=S+c,C=y*c,R=C+c;let z=0;for(let F=S;F<o;F+=1)if(!(F>=f))for(let A=C;A<R;A+=1){if(A>=v)continue;const M=(f*A+F)*4;g+=x[M+0],E+=x[M+1],N+=x[M+2],D+=x[M+3],z+=1}g=g/z,E=E/z,N=N/z,D=D/z;for(let F=S;F<o;F+=1)if(!(F>=f))for(let A=C;A<R;A+=1){if(A>=v)continue;const M=(f*A+F)*4;x[M+0]=g,x[M+1]=E,x[M+2]=N,x[M+3]=D}}};return is.Pixelate=r,i.Factory.addGetterSetter(m.Node,"pixelSize",8,(0,h.getNumberValidator)(),i.Factory.afterSetFilter),is}var ss={},Pd;function xm(){if(Pd)return ss;Pd=1,Object.defineProperty(ss,"__esModule",{value:!0}),ss.Posterize=void 0;const i=Rt(),s=Jt(),m=At(),h=function(r){const d=Math.round(this.levels()*254)+1,c=r.data,f=c.length,v=255/d;for(let p=0;p<f;p+=1)c[p]=Math.floor(c[p]/v)*v};return ss.Posterize=h,i.Factory.addGetterSetter(s.Node,"levels",.5,(0,m.getNumberValidator)(),i.Factory.afterSetFilter),ss}var ls={},Fd;function Tm(){if(Fd)return ls;Fd=1,Object.defineProperty(ls,"__esModule",{value:!0}),ls.RGB=void 0;const i=Rt(),s=Jt(),m=At(),h=function(r){const d=r.data,c=d.length,f=this.red(),v=this.green(),p=this.blue();for(let _=0;_<c;_+=4){const x=(.34*d[_]+.5*d[_+1]+.16*d[_+2])/255;d[_]=x*f,d[_+1]=x*v,d[_+2]=x*p,d[_+3]=d[_+3]}};return ls.RGB=h,i.Factory.addGetterSetter(s.Node,"red",0,function(r){return this._filterUpToDate=!1,r>255?255:r<0?0:Math.round(r)}),i.Factory.addGetterSetter(s.Node,"green",0,function(r){return this._filterUpToDate=!1,r>255?255:r<0?0:Math.round(r)}),i.Factory.addGetterSetter(s.Node,"blue",0,m.RGBComponent,i.Factory.afterSetFilter),ls}var rs={},Vd;function Nm(){if(Vd)return rs;Vd=1,Object.defineProperty(rs,"__esModule",{value:!0}),rs.RGBA=void 0;const i=Rt(),s=Jt(),m=At(),h=function(r){const d=r.data,c=d.length,f=this.red(),v=this.green(),p=this.blue(),_=this.alpha();for(let x=0;x<c;x+=4){const b=1-_;d[x]=f*_+d[x]*b,d[x+1]=v*_+d[x+1]*b,d[x+2]=p*_+d[x+2]*b}};return rs.RGBA=h,i.Factory.addGetterSetter(s.Node,"red",0,function(r){return this._filterUpToDate=!1,r>255?255:r<0?0:Math.round(r)}),i.Factory.addGetterSetter(s.Node,"green",0,function(r){return this._filterUpToDate=!1,r>255?255:r<0?0:Math.round(r)}),i.Factory.addGetterSetter(s.Node,"blue",0,m.RGBComponent,i.Factory.afterSetFilter),i.Factory.addGetterSetter(s.Node,"alpha",1,function(r){return this._filterUpToDate=!1,r>1?1:r<0?0:r}),rs}var os={},Kd;function Rm(){if(Kd)return os;Kd=1,Object.defineProperty(os,"__esModule",{value:!0}),os.Sepia=void 0;const i=function(s){const m=s.data,h=m.length;for(let r=0;r<h;r+=4){const d=m[r+0],c=m[r+1],f=m[r+2];m[r+0]=Math.min(255,d*.393+c*.769+f*.189),m[r+1]=Math.min(255,d*.349+c*.686+f*.168),m[r+2]=Math.min(255,d*.272+c*.534+f*.131)}};return os.Sepia=i,os}var us={},Yd;function Am(){if(Yd)return us;Yd=1,Object.defineProperty(us,"__esModule",{value:!0}),us.Solarize=void 0;const i=function(s){const m=s.data,h=s.width,r=s.height,d=h*4;let c=r;do{const f=(c-1)*d;let v=h;do{const p=f+(v-1)*4;let _=m[p],x=m[p+1],b=m[p+2];_>127&&(_=255-_),x>127&&(x=255-x),b>127&&(b=255-b),m[p]=_,m[p+1]=x,m[p+2]=b}while(--v)}while(--c)};return us.Solarize=i,us}var cs={},Xd;function Om(){if(Xd)return cs;Xd=1,Object.defineProperty(cs,"__esModule",{value:!0}),cs.Threshold=void 0;const i=Rt(),s=Jt(),m=At(),h=function(r){const d=this.threshold()*255,c=r.data,f=c.length;for(let v=0;v<f;v+=1)c[v]=c[v]<d?0:255};return cs.Threshold=h,i.Factory.addGetterSetter(s.Node,"threshold",.5,(0,m.getNumberValidator)(),i.Factory.afterSetFilter),cs}var Qd;function Mm(){if(Qd)return xi;Qd=1,Object.defineProperty(xi,"__esModule",{value:!0}),xi.Konva=void 0;const i=Bo(),s=Wg(),m=$g(),h=tm(),r=em(),d=nm(),c=am(),f=Hf(),v=Vo(),p=Lf(),_=im(),x=sm(),b=lm(),y=rm(),g=jf(),E=om(),N=um(),D=cm(),S=hm(),o=dm(),C=fm(),R=gm(),z=mm(),F=pm(),A=ym(),M=vm(),G=_m(),L=Sm(),K=bm(),X=Em(),V=Cm(),j=xm(),nt=Tm(),T=Nm(),O=Rm(),w=Am(),B=Om();return xi.Konva=i.Konva.Util._assign(i.Konva,{Arc:s.Arc,Arrow:m.Arrow,Circle:h.Circle,Ellipse:r.Ellipse,Image:d.Image,Label:c.Label,Tag:c.Tag,Line:f.Line,Path:v.Path,Rect:p.Rect,RegularPolygon:_.RegularPolygon,Ring:x.Ring,Sprite:b.Sprite,Star:y.Star,Text:g.Text,TextPath:E.TextPath,Transformer:N.Transformer,Wedge:D.Wedge,Filters:{Blur:S.Blur,Brighten:o.Brighten,Contrast:C.Contrast,Emboss:R.Emboss,Enhance:z.Enhance,Grayscale:F.Grayscale,HSL:A.HSL,HSV:M.HSV,Invert:G.Invert,Kaleidoscope:L.Kaleidoscope,Mask:K.Mask,Noise:X.Noise,Pixelate:V.Pixelate,Posterize:j.Posterize,RGB:nt.RGB,RGBA:T.RGBA,Sepia:O.Sepia,Solarize:w.Solarize,Threshold:B.Threshold}}),xi}var Dm=gl.exports,kd;function Um(){if(kd)return gl.exports;kd=1,Object.defineProperty(Dm,"__esModule",{value:!0});const i=Mm();return gl.exports=i.Konva,gl.exports}var Gm=Um();const Co=_l(Gm);var cl={exports:{}},Zd;function zm(){return Zd||(Zd=1,function(i,s){Object.defineProperty(s,"__esModule",{value:!0}),s.Konva=void 0;var m=Bo();Object.defineProperty(s,"Konva",{enumerable:!0,get:function(){return m.Konva}});const h=Bo();i.exports=h.Konva}(cl,cl.exports)),cl.exports}var wm=zm();const yl=_l(wm);var xo={exports:{}},To={exports:{}};/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jd;function Bm(){return Jd||(Jd=1,function(i){i.exports=function(s){function m(t,e,n,a){return new d0(t,e,n,a)}function h(){}function r(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function c(t){if(d(t)!==t)throw Error(r(188))}function f(t){var e=t.alternate;if(!e){if(e=d(t),e===null)throw Error(r(188));return e!==t?null:t}for(var n=t,a=e;;){var l=n.return;if(l===null)break;var u=l.alternate;if(u===null){if(a=l.return,a!==null){n=a;continue}break}if(l.child===u.child){for(u=l.child;u;){if(u===n)return c(l),t;if(u===a)return c(l),e;u=u.sibling}throw Error(r(188))}if(n.return!==a.return)n=l,a=u;else{for(var U=!1,P=l.child;P;){if(P===n){U=!0,n=l,a=u;break}if(P===a){U=!0,a=l,n=u;break}P=P.sibling}if(!U){for(P=u.child;P;){if(P===n){U=!0,n=u,a=l;break}if(P===a){U=!0,a=u,n=l;break}P=P.sibling}if(!U)throw Error(r(189))}}if(n.alternate!==a)throw Error(r(190))}if(n.tag!==3)throw Error(r(188));return n.stateNode.current===n?t:e}function v(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=v(t),e!==null)return e;t=t.sibling}return null}function p(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(t.tag!==4&&(e=p(t),e!==null))return e;t=t.sibling}return null}function _(t){return t===null||typeof t!="object"?null:(t=Wc&&t[Wc]||t["@@iterator"],typeof t=="function"?t:null)}function x(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===v0?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case pa:return"Fragment";case Dr:return"Profiler";case Zc:return"StrictMode";case Gr:return"Suspense";case zr:return"SuspenseList";case Br:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case ma:return"Portal";case Dn:return(t.displayName||"Context")+".Provider";case Jc:return(t._context.displayName||"Context")+".Consumer";case Ur:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case wr:return e=t.displayName||null,e!==null?e:x(t.type)||"Memo";case Un:e=t._payload,t=t._init;try{return x(t(e))}catch{}}return null}function b(t){return{current:t}}function y(t){0>_a||(t.current=Pr[_a],Pr[_a]=null,_a--)}function g(t,e){_a++,Pr[_a]=t.current,t.current=e}function E(t){return t>>>=0,t===0?32:31-(w1(t)/B1|0)|0}function N(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function D(t,e,n){var a=t.pendingLanes;if(a===0)return 0;var l=0,u=t.suspendedLanes,U=t.pingedLanes;t=t.warmLanes;var P=a&134217727;return P!==0?(a=P&~u,a!==0?l=N(a):(U&=P,U!==0?l=N(U):n||(n=P&~t,n!==0&&(l=N(n))))):(P=a&~u,P!==0?l=N(P):U!==0?l=N(U):n||(n=a&~t,n!==0&&(l=N(n)))),l===0?0:e!==0&&e!==l&&(e&u)===0&&(u=l&-l,n=e&-e,u>=n||u===32&&(n&4194048)!==0)?e:l}function S(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function o(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function C(){var t=Ps;return Ps<<=1,(Ps&4194048)===0&&(Ps=256),t}function R(){var t=Fs;return Fs<<=1,(Fs&62914560)===0&&(Fs=4194304),t}function z(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function F(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function A(t,e,n,a,l,u){var U=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var P=t.entanglements,J=t.expirationTimes,it=t.hiddenUpdates;for(n=U&~n;0<n;){var lt=31-Le(n),ct=1<<lt;P[lt]=0,J[lt]=-1;var ht=it[lt];if(ht!==null)for(it[lt]=null,lt=0;lt<ht.length;lt++){var bt=ht[lt];bt!==null&&(bt.lane&=-536870913)}n&=~ct}a!==0&&M(t,a,0),u!==0&&l===0&&t.tag!==0&&(t.suspendedLanes|=u&~(U&~e))}function M(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var a=31-Le(e);t.entangledLanes|=e,t.entanglements[a]=t.entanglements[a]|1073741824|n&4194090}function G(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var a=31-Le(n),l=1<<a;l&e|t[a]&e&&(t[a]|=e),n&=~l}}function L(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function K(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function X(t){if(typeof P1=="function"&&F1(t),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(oi,t)}catch{}}function V(t){if(Kr===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Kr=e&&e[1]||"",Eh=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Kr+t+Eh}function j(t,e){if(!t||Yr)return"";Yr=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(e){var ct=function(){throw Error()};if(Object.defineProperty(ct.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ct,[])}catch(bt){var ht=bt}Reflect.construct(t,[],ct)}else{try{ct.call()}catch(bt){ht=bt}t.call(ct.prototype)}}else{try{throw Error()}catch(bt){ht=bt}(ct=t())&&typeof ct.catch=="function"&&ct.catch(function(){})}}catch(bt){if(bt&&ht&&typeof bt.stack=="string")return[bt.stack,ht.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=a.DetermineComponentFrameRoot(),U=u[0],P=u[1];if(U&&P){var J=U.split(`
`),it=P.split(`
`);for(l=a=0;a<J.length&&!J[a].includes("DetermineComponentFrameRoot");)a++;for(;l<it.length&&!it[l].includes("DetermineComponentFrameRoot");)l++;if(a===J.length||l===it.length)for(a=J.length-1,l=it.length-1;1<=a&&0<=l&&J[a]!==it[l];)l--;for(;1<=a&&0<=l;a--,l--)if(J[a]!==it[l]){if(a!==1||l!==1)do if(a--,l--,0>l||J[a]!==it[l]){var lt=`
`+J[a].replace(" at new "," at ");return t.displayName&&lt.includes("<anonymous>")&&(lt=lt.replace("<anonymous>",t.displayName)),lt}while(1<=a&&0<=l);break}}}finally{Yr=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?V(n):""}function nt(t){switch(t.tag){case 26:case 27:case 5:return V(t.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 15:return j(t.type,!1);case 11:return j(t.type.render,!1);case 1:return j(t.type,!0);case 31:return V("Activity");default:return""}}function T(t){try{var e="";do e+=nt(t),t=t.return;while(t);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function O(t,e){if(typeof t=="object"&&t!==null){var n=Ch.get(t);return n!==void 0?n:(e={value:t,source:e,stack:T(e)},Ch.set(t,e),e)}return{value:t,source:e,stack:T(e)}}function w(t,e){ba[Ea++]=Ys,ba[Ea++]=Ks,Ks=t,Ys=e}function B(t,e,n){Ke[Ye++]=gn,Ke[Ye++]=mn,Ke[Ye++]=Wn,Wn=t;var a=gn;t=mn;var l=32-Le(a)-1;a&=~(1<<l),n+=1;var u=32-Le(e)+l;if(30<u){var U=l-l%5;u=(a&(1<<U)-1).toString(32),a>>=U,l-=U,gn=1<<32-Le(e)+l|n<<l|a,mn=u+t}else gn=1<<u|n<<l|a,mn=t}function q(t){t.return!==null&&(w(t,1),B(t,1,0))}function W(t){for(;t===Ks;)Ks=ba[--Ea],ba[Ea]=null,Ys=ba[--Ea],ba[Ea]=null;for(;t===Wn;)Wn=Ke[--Ye],Ke[Ye]=null,mn=Ke[--Ye],Ke[Ye]=null,gn=Ke[--Ye],Ke[Ye]=null}function Y(t,e){g(zn,e),g(ui,t),g(pe,null),t=b0(e),y(pe),g(pe,t)}function tt(){y(pe),y(ui),y(zn)}function ot(t){t.memoizedState!==null&&g(Xs,t);var e=pe.current,n=E0(e,t.type);e!==n&&(g(ui,t),g(pe,n))}function I(t){ui.current===t&&(y(pe),y(ui)),Xs.current===t&&(y(Xs),dn?Jn._currentValue=ya:Jn._currentValue2=ya)}function H(t){var e=Error(r(418,""));throw vt(O(e,t)),Xr}function Z(t,e){if(!Ve)throw Error(r(175));_1(t.stateNode,t.type,t.memoizedProps,e,t)||H(t)}function rt(t){for(Ee=t.return;Ee;)switch(Ee.tag){case 5:case 13:sn=!1;return;case 27:case 3:sn=!0;return;default:Ee=Ee.return}}function ut(t){if(!Ve||t!==Ee)return!1;if(!wt)return rt(t),wt=!0,!1;var e=t.tag;if(ne?e!==3&&e!==27&&(e!==5||ch(t.type)&&!qs(t.type,t.memoizedProps))&&ae&&H(t):e!==3&&(e!==5||ch(t.type)&&!qs(t.type,t.memoizedProps))&&ae&&H(t),rt(t),e===13){if(!Ve)throw Error(r(316));if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ae=E1(t)}else ae=ne&&e===27?h1(t.type,ae):Ee?uh(t.stateNode):null;return!0}function dt(){Ve&&(ae=Ee=null,wt=!1)}function yt(){var t=In;return t!==null&&(Ne===null?Ne=t:Ne.push.apply(Ne,t),In=null),t}function vt(t){In===null?In=[t]:In.push(t)}function Gt(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}function gt(t,e,n){dn?(g(Qs,e._currentValue),e._currentValue=n):(g(Qs,e._currentValue2),e._currentValue2=n)}function jt(t){var e=Qs.current;dn?t._currentValue=e:t._currentValue2=e,y(Qs)}function zt(t,e,n){for(;t!==null;){var a=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,a!==null&&(a.childLanes|=e)):a!==null&&(a.childLanes&e)!==e&&(a.childLanes|=e),t===n)break;t=t.return}}function Pt(t,e,n,a){var l=t.child;for(l!==null&&(l.return=t);l!==null;){var u=l.dependencies;if(u!==null){var U=l.child;u=u.firstContext;t:for(;u!==null;){var P=u;u=l;for(var J=0;J<e.length;J++)if(P.context===e[J]){u.lanes|=n,P=u.alternate,P!==null&&(P.lanes|=n),zt(u.return,n,t),a||(U=null);break t}u=P.next}}else if(l.tag===18){if(U=l.return,U===null)throw Error(r(341));U.lanes|=n,u=U.alternate,u!==null&&(u.lanes|=n),zt(U,n,t),U=null}else U=l.child;if(U!==null)U.return=l;else for(U=l;U!==null;){if(U===t){U=null;break}if(l=U.sibling,l!==null){l.return=U.return,U=l;break}U=U.return}l=U}}function Fe(t,e,n,a){t=null;for(var l=e,u=!1;l!==null;){if(!u){if((l.flags&524288)!==0)u=!0;else if((l.flags&262144)!==0)break}if(l.tag===10){var U=l.alternate;if(U===null)throw Error(r(387));if(U=U.memoizedProps,U!==null){var P=l.type;qe(l.pendingProps.value,U.value)||(t!==null?t.push(P):t=[P])}}else if(l===Xs.current){if(U=l.alternate,U===null)throw Error(r(387));U.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(t!==null?t.push(Jn):t=[Jn])}l=l.return}t!==null&&Pt(e,t,n,a),e.flags|=262144}function de(t){for(t=t.firstContext;t!==null;){var e=t.context;if(!qe(dn?e._currentValue:e._currentValue2,t.memoizedValue))return!0;t=t.next}return!1}function De(t){$n=t,pn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function St(t){return Ue($n,t)}function ve(t,e){return $n===null&&De(t),Ue(t,e)}function Ue(t,e){var n=dn?e._currentValue:e._currentValue2;if(e={context:e,memoizedValue:n,next:null},pn===null){if(t===null)throw Error(r(308));pn=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else pn=pn.next=e;return n}function Je(){return{controller:new V1,data:new Map,refCount:0}}function Wt(t){t.refCount--,t.refCount===0&&K1(Y1,function(){t.controller.abort()})}function ee(t){t!==Ca&&t.next===null&&(Ca===null?ks=Ca=t:Ca=Ca.next=t),Zs=!0,Qr||(Qr=!0,ua())}function le(t,e){if(!kr&&Zs){kr=!0;do for(var n=!1,a=ks;a!==null;){if(t!==0){var l=a.pendingLanes;if(l===0)var u=0;else{var U=a.suspendedLanes,P=a.pingedLanes;u=(1<<31-Le(42|t)+1)-1,u&=l&~(U&~P),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(n=!0,Ka(a,u))}else u=Mt,u=D(a,a===qt?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==Zn),(u&3)===0||S(a,u)||(n=!0,Ka(a,u));a=a.next}while(n);kr=!1}}function Ge(){fe()}function fe(){Zs=Qr=!1;var t=0;xa!==0&&(D0()&&(t=xa),xa=0);for(var e=$e(),n=null,a=ks;a!==null;){var l=a.next,u=ge(a,e);u===0?(a.next=null,n===null?ks=l:n.next=l,l===null&&(Ca=n)):(n=a,(t!==0||(u&3)!==0)&&(Zs=!0)),a=l}le(t)}function ge(t,e){for(var n=t.suspendedLanes,a=t.pingedLanes,l=t.expirationTimes,u=t.pendingLanes&-62914561;0<u;){var U=31-Le(u),P=1<<U,J=l[U];J===-1?((P&n)===0||(P&a)!==0)&&(l[U]=o(P,e)):J<=e&&(t.expiredLanes|=P),u&=~P}if(e=qt,n=Mt,n=D(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==Zn),a=t.callbackNode,n===0||t===e&&(Ht===2||Ht===9)||t.cancelPendingCommit!==null)return a!==null&&a!==null&&Fr(a),t.callbackNode=null,t.callbackPriority=0;if((n&3)===0||S(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(a!==null&&Fr(a),K(n)){case 2:case 8:n=j1;break;case 32:n=Vr;break;case 268435456:n=q1;break;default:n=Vr}return a=En.bind(null,t),n=Vs(n,a),t.callbackPriority=e,t.callbackNode=n,e}return a!==null&&a!==null&&Fr(a),t.callbackPriority=2,t.callbackNode=null,2}function En(t,e){if(ye!==0&&ye!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(ii()&&t.callbackNode!==n)return null;var a=Mt;return a=D(t,t===qt?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==Zn),a===0?null:(Tc(t,a,e),ge(t,$e()),t.callbackNode!=null&&t.callbackNode===n?En.bind(null,t):null)}function Ka(t,e){if(ii())return null;Tc(t,e,!0)}function ua(){H0?L0(function(){(Ot&6)!==0?Vs(bh,Ge):fe()}):Vs(bh,Ge)}function Ya(){return xa===0&&(xa=C()),xa}function Ml(t,e){if(ci===null){var n=ci=[];Zr=0,Ta=Ya(),Na={status:"pending",value:void 0,then:function(a){n.push(a)}}}return Zr++,e.then(Yo,Yo),e}function Yo(){if(--Zr===0&&ci!==null){Na!==null&&(Na.status="fulfilled");var t=ci;ci=null,Ta=0,Na=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function Xf(t,e){var n=[],a={status:"pending",value:null,reason:null,then:function(l){n.push(l)}};return t.then(function(){a.status="fulfilled",a.value=e;for(var l=0;l<n.length;l++)(0,n[l])(e)},function(l){for(a.status="rejected",a.reason=l,l=0;l<n.length;l++)(0,n[l])(void 0)}),a}function Dl(){var t=ta.current;return t!==null?t:qt.pooledCache}function ps(t,e){e===null?g(ta,ta.current):g(ta,e.pool)}function Xo(){var t=Dl();return t===null?null:{parent:dn?Kt._currentValue:Kt._currentValue2,pool:t}}function ys(t,e){if(qe(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),a=Object.keys(e);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var l=n[a];if(!X1.call(e,l)||!qe(t[l],e[l]))return!1}return!0}function Qo(t){return t=t.status,t==="fulfilled"||t==="rejected"}function vs(){}function ko(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(vs,vs),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Jo(t),t;default:if(typeof e.status=="string")e.then(vs,vs);else{if(t=qt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=e,t.status="pending",t.then(function(a){if(e.status==="pending"){var l=e;l.status="fulfilled",l.value=a}},function(a){if(e.status==="pending"){var l=e;l.status="rejected",l.reason=a}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Jo(t),t}throw Ra=e,hi}}function Zo(){if(Ra===null)throw Error(r(459));var t=Ra;return Ra=null,t}function Jo(t){if(t===hi||t===Js)throw Error(r(483))}function _s(){for(var t=Aa,e=Wr=Aa=0;e<t;){var n=Xe[e];Xe[e++]=null;var a=Xe[e];Xe[e++]=null;var l=Xe[e];Xe[e++]=null;var u=Xe[e];if(Xe[e++]=null,a!==null&&l!==null){var U=a.pending;U===null?l.next=l:(l.next=U.next,U.next=l),a.pending=l}u!==0&&Wo(n,l,u)}}function Ss(t,e,n,a){Xe[Aa++]=t,Xe[Aa++]=e,Xe[Aa++]=n,Xe[Aa++]=a,Wr|=a,t.lanes|=a,t=t.alternate,t!==null&&(t.lanes|=a)}function Ul(t,e,n,a){return Ss(t,e,n,a),bs(t)}function ca(t,e){return Ss(t,null,null,e),bs(t)}function Wo(t,e,n){t.lanes|=n;var a=t.alternate;a!==null&&(a.lanes|=n);for(var l=!1,u=t.return;u!==null;)u.childLanes|=n,a=u.alternate,a!==null&&(a.childLanes|=n),u.tag===22&&(t=u.stateNode,t===null||t._visibility&1||(l=!0)),t=u,u=u.return;return t.tag===3?(u=t.stateNode,l&&e!==null&&(l=31-Le(n),t=u.hiddenUpdates,a=t[l],a===null?t[l]=[e]:a.push(e),e.lane=n|536870912),u):null}function bs(t){if(50<yi)throw yi=0,oo=null,Error(r(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}function Gl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zl(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Cn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function xn(t,e,n){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,(Ot&2)!==0){var l=a.pending;return l===null?e.next=e:(e.next=l.next,l.next=e),a.pending=e,e=bs(t),Wo(t,null,n),e}return Ss(t,a,e,n),bs(t)}function Xa(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var a=e.lanes;a&=t.pendingLanes,n|=a,e.lanes=n,G(t,n)}}function wl(t,e){var n=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var l=null,u=null;if(n=n.firstBaseUpdate,n!==null){do{var U={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};u===null?l=u=U:u=u.next=U,n=n.next}while(n!==null);u===null?l=u=e:u=u.next=e}else l=u=e;n={baseState:a.baseState,firstBaseUpdate:l,lastBaseUpdate:u,shared:a.shared,callbacks:a.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Qa(){if(Ir){var t=Na;if(t!==null)throw t}}function ka(t,e,n,a){Ir=!1;var l=t.updateQueue;wn=!1;var u=l.firstBaseUpdate,U=l.lastBaseUpdate,P=l.shared.pending;if(P!==null){l.shared.pending=null;var J=P,it=J.next;J.next=null,U===null?u=it:U.next=it,U=J;var lt=t.alternate;lt!==null&&(lt=lt.updateQueue,P=lt.lastBaseUpdate,P!==U&&(P===null?lt.firstBaseUpdate=it:P.next=it,lt.lastBaseUpdate=J))}if(u!==null){var ct=l.baseState;U=0,lt=it=J=null,P=u;do{var ht=P.lane&-536870913,bt=ht!==P.lane;if(bt?(Mt&ht)===ht:(a&ht)===ht){ht!==0&&ht===Ta&&(Ir=!0),lt!==null&&(lt=lt.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});t:{var Ze=t,vi=P;ht=e;var aa=n;switch(vi.tag){case 1:if(Ze=vi.payload,typeof Ze=="function"){ct=Ze.call(aa,ct,ht);break t}ct=Ze;break t;case 3:Ze.flags=Ze.flags&-65537|128;case 0:if(Ze=vi.payload,ht=typeof Ze=="function"?Ze.call(aa,ct,ht):Ze,ht==null)break t;ct=Mr({},ct,ht);break t;case 2:wn=!0}}ht=P.callback,ht!==null&&(t.flags|=64,bt&&(t.flags|=8192),bt=l.callbacks,bt===null?l.callbacks=[ht]:bt.push(ht))}else bt={lane:ht,tag:P.tag,payload:P.payload,callback:P.callback,next:null},lt===null?(it=lt=bt,J=ct):lt=lt.next=bt,U|=ht;if(P=P.next,P===null){if(P=l.shared.pending,P===null)break;bt=P,P=bt.next,bt.next=null,l.lastBaseUpdate=bt,l.shared.pending=null}}while(!0);lt===null&&(J=ct),l.baseState=J,l.firstBaseUpdate=it,l.lastBaseUpdate=lt,u===null&&(l.shared.lanes=0),Ln|=U,t.lanes=U,t.memoizedState=ct}}function Io(t,e){if(typeof t!="function")throw Error(r(191,t));t.call(e)}function $o(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)Io(n[t],e)}function tu(t,e){t=vn,g(Is,t),g(Oa,e),vn=t|e.baseLanes}function Bl(){g(Is,vn),g(Oa,Oa.current)}function Hl(){vn=Is.current,y(Oa),y(Is)}function Qt(){throw Error(r(321))}function Ll(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!qe(t[n],e[n]))return!1;return!0}function jl(t,e,n,a,l,u){return Bn=u,Ct=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,mt.H=t===null||t.memoizedState===null?Th:Nh,ea=!1,u=n(a,l),ea=!1,Ma&&(u=nu(e,n,a,l)),eu(t),u}function eu(t){mt.H=el;var e=Lt!==null&&Lt.next!==null;if(Bn=0,$t=Lt=Ct=null,$s=!1,di=0,Da=null,e)throw Error(r(300));t===null||oe||(t=t.dependencies,t!==null&&de(t)&&(oe=!0))}function nu(t,e,n,a){Ct=t;var l=0;do{if(Ma&&(Da=null),di=0,Ma=!1,25<=l)throw Error(r(301));if(l+=1,$t=Lt=null,t.updateQueue!=null){var u=t.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}mt.H=k1,u=e(n,a)}while(Ma);return u}function Qf(){var t=mt.H,e=t.useState()[0];return e=typeof e.then=="function"?Za(e):e,t=t.useState()[0],(Lt!==null?Lt.memoizedState:null)!==t&&(Ct.flags|=1024),e}function ql(){var t=tl!==0;return tl=0,t}function Pl(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function Fl(t){if($s){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}$s=!1}Bn=0,$t=Lt=Ct=null,Ma=!1,di=tl=0,Da=null}function Ce(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?Ct.memoizedState=$t=t:$t=$t.next=t,$t}function It(){if(Lt===null){var t=Ct.alternate;t=t!==null?t.memoizedState:null}else t=Lt.next;var e=$t===null?Ct.memoizedState:$t.next;if(e!==null)$t=e,Lt=t;else{if(t===null)throw Ct.alternate===null?Error(r(467)):Error(r(310));Lt=t,t={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},$t===null?Ct.memoizedState=$t=t:$t=$t.next=t}return $t}function Vl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Za(t){var e=di;return di+=1,Da===null&&(Da=[]),t=ko(Da,t,e),e=Ct,($t===null?e.memoizedState:$t.next)===null&&(e=e.alternate,mt.H=e===null||e.memoizedState===null?Th:Nh),t}function Es(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Za(t);if(t.$$typeof===Dn)return St(t)}throw Error(r(438,String(t)))}function Kl(t){var e=null,n=Ct.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var a=Ct.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(e={data:a.data.map(function(l){return l.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Vl(),Ct.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),a=0;a<t;a++)n[a]=y0;return e.index++,n}function on(t,e){return typeof e=="function"?e(t):e}function Cs(t){var e=It();return Yl(e,Lt,t)}function Yl(t,e,n){var a=t.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=n;var l=t.baseQueue,u=a.pending;if(u!==null){if(l!==null){var U=l.next;l.next=u.next,u.next=U}e.baseQueue=l=u,a.pending=null}if(u=t.baseState,l===null)t.memoizedState=u;else{e=l.next;var P=U=null,J=null,it=e,lt=!1;do{var ct=it.lane&-536870913;if(ct!==it.lane?(Mt&ct)===ct:(Bn&ct)===ct){var ht=it.revertLane;if(ht===0)J!==null&&(J=J.next={lane:0,revertLane:0,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null}),ct===Ta&&(lt=!0);else if((Bn&ht)===ht){it=it.next,ht===Ta&&(lt=!0);continue}else ct={lane:0,revertLane:it.revertLane,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null},J===null?(P=J=ct,U=u):J=J.next=ct,Ct.lanes|=ht,Ln|=ht;ct=it.action,ea&&n(u,ct),u=it.hasEagerState?it.eagerState:n(u,ct)}else ht={lane:ct,revertLane:it.revertLane,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null},J===null?(P=J=ht,U=u):J=J.next=ht,Ct.lanes|=ct,Ln|=ct;it=it.next}while(it!==null&&it!==e);if(J===null?U=u:J.next=P,!qe(u,t.memoizedState)&&(oe=!0,lt&&(n=Na,n!==null)))throw n;t.memoizedState=u,t.baseState=U,t.baseQueue=J,a.lastRenderedState=u}return l===null&&(a.lanes=0),[t.memoizedState,a.dispatch]}function Xl(t){var e=It(),n=e.queue;if(n===null)throw Error(r(311));n.lastRenderedReducer=t;var a=n.dispatch,l=n.pending,u=e.memoizedState;if(l!==null){n.pending=null;var U=l=l.next;do u=t(u,U.action),U=U.next;while(U!==l);qe(u,e.memoizedState)||(oe=!0),e.memoizedState=u,e.baseQueue===null&&(e.baseState=u),n.lastRenderedState=u}return[u,a]}function au(t,e,n){var a=Ct,l=It(),u=wt;if(u){if(n===void 0)throw Error(r(407));n=n()}else n=e();var U=!qe((Lt||l).memoizedState,n);U&&(l.memoizedState=n,oe=!0),l=l.queue;var P=lu.bind(null,a,l,t);if(Ja(2048,8,P,[t]),l.getSnapshot!==e||U||$t!==null&&$t.memoizedState.tag&1){if(a.flags|=2048,ha(9,xs(),su.bind(null,a,l,n,e),null),qt===null)throw Error(r(349));u||(Bn&124)!==0||iu(a,e,n)}return n}function iu(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ct.updateQueue,e===null?(e=Vl(),Ct.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function su(t,e,n,a){e.value=n,e.getSnapshot=a,ru(e)&&ou(t)}function lu(t,e,n){return n(function(){ru(e)&&ou(t)})}function ru(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!qe(t,n)}catch{return!0}}function ou(t){var e=ca(t,2);e!==null&&Be(e,t,2)}function Ql(t){var e=Ce();if(typeof t=="function"){var n=t;if(t=n(),ea){X(!0);try{n()}finally{X(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:on,lastRenderedState:t},e}function uu(t,e,n,a){return t.baseState=n,Yl(t,Lt,typeof a=="function"?a:on)}function kf(t,e,n,a,l){if(Ns(t))throw Error(r(485));if(t=e.action,t!==null){var u={payload:l,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(U){u.listeners.push(U)}};mt.T!==null?n(!0):u.isTransition=!1,a(u),n=e.pending,n===null?(u.next=e.pending=u,cu(e,u)):(u.next=n.next,e.pending=n.next=u)}}function cu(t,e){var n=e.action,a=e.payload,l=t.state;if(e.isTransition){var u=mt.T,U={};mt.T=U;try{var P=n(l,a),J=mt.S;J!==null&&J(U,P),hu(t,e,P)}catch(it){kl(t,e,it)}finally{mt.T=u}}else try{u=n(l,a),hu(t,e,u)}catch(it){kl(t,e,it)}}function hu(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){du(t,e,a)},function(a){return kl(t,e,a)}):du(t,e,n)}function du(t,e,n){e.status="fulfilled",e.value=n,fu(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,cu(t,n)))}function kl(t,e,n){var a=t.pending;if(t.pending=null,a!==null){a=a.next;do e.status="rejected",e.reason=n,fu(e),e=e.next;while(e!==a)}t.action=null}function fu(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function gu(t,e){return e}function mu(t,e){if(wt){var n=qt.formState;if(n!==null){t:{var a=Ct;if(wt){if(ae){var l=u1(ae,sn);if(l){ae=uh(l),a=c1(l);break t}}H(a)}a=!1}a&&(e=n[0])}}n=Ce(),n.memoizedState=n.baseState=e,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gu,lastRenderedState:e},n.queue=a,n=Gu.bind(null,Ct,a),a.dispatch=n,a=Ql(!1);var u=Il.bind(null,Ct,!1,a.queue);return a=Ce(),l={state:e,dispatch:null,action:t,pending:null},a.queue=l,n=kf.bind(null,Ct,l,u,n),l.dispatch=n,a.memoizedState=t,[e,n,!1]}function pu(t){var e=It();return yu(e,Lt,t)}function yu(t,e,n){if(e=Yl(t,e,gu)[0],t=Cs(on)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var a=Za(e)}catch(U){throw U===hi?Js:U}else a=e;e=It();var l=e.queue,u=l.dispatch;return n!==e.memoizedState&&(Ct.flags|=2048,ha(9,xs(),Zf.bind(null,l,n),null)),[a,u,t]}function Zf(t,e){t.action=e}function vu(t){var e=It(),n=Lt;if(n!==null)return yu(e,n,t);It(),e=e.memoizedState,n=It();var a=n.queue.dispatch;return n.memoizedState=t,[e,a,!1]}function ha(t,e,n,a){return t={tag:t,create:n,deps:a,inst:e,next:null},e=Ct.updateQueue,e===null&&(e=Vl(),Ct.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(a=n.next,n.next=t,t.next=a,e.lastEffect=t),t}function xs(){return{destroy:void 0,resource:void 0}}function _u(){return It().memoizedState}function Ts(t,e,n,a){var l=Ce();a=a===void 0?null:a,Ct.flags|=t,l.memoizedState=ha(1|e,xs(),n,a)}function Ja(t,e,n,a){var l=It();a=a===void 0?null:a;var u=l.memoizedState.inst;Lt!==null&&a!==null&&Ll(a,Lt.memoizedState.deps)?l.memoizedState=ha(e,u,n,a):(Ct.flags|=t,l.memoizedState=ha(1|e,u,n,a))}function Su(t,e){Ts(8390656,8,t,e)}function bu(t,e){Ja(2048,8,t,e)}function Eu(t,e){return Ja(4,2,t,e)}function Cu(t,e){return Ja(4,4,t,e)}function xu(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Tu(t,e,n){n=n!=null?n.concat([t]):null,Ja(4,4,xu.bind(null,e,t),n)}function Zl(){}function Nu(t,e){var n=It();e=e===void 0?null:e;var a=n.memoizedState;return e!==null&&Ll(e,a[1])?a[0]:(n.memoizedState=[t,e],t)}function Ru(t,e){var n=It();e=e===void 0?null:e;var a=n.memoizedState;if(e!==null&&Ll(e,a[1]))return a[0];if(a=t(),ea){X(!0);try{t()}finally{X(!1)}}return n.memoizedState=[a,e],a}function Jl(t,e,n){return n===void 0||(Bn&1073741824)!==0?t.memoizedState=e:(t.memoizedState=n,t=xc(),Ct.lanes|=t,Ln|=t,n)}function Au(t,e,n,a){return qe(n,e)?n:Oa.current!==null?(t=Jl(t,n,a),qe(t,e)||(oe=!0),t):(Bn&42)===0?(oe=!0,t.memoizedState=n):(t=xc(),Ct.lanes|=t,Ln|=t,e)}function Ou(t,e,n,a,l){var u=fn();re(u!==0&&8>u?u:8);var U=mt.T,P={};mt.T=P,Il(t,!1,e,n);try{var J=l(),it=mt.S;if(it!==null&&it(P,J),J!==null&&typeof J=="object"&&typeof J.then=="function"){var lt=Xf(J,a);Wa(t,e,lt,we(t))}else Wa(t,e,a,we(t))}catch(ct){Wa(t,e,{then:function(){},status:"rejected",reason:ct},we())}finally{re(u),mt.T=U}}function Mu(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:ya,baseState:ya,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:on,lastRenderedState:ya},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:on,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function Wl(){return St(Jn)}function Du(){return It().memoizedState}function Uu(){return It().memoizedState}function Jf(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=we();t=Cn(n);var a=xn(e,t,n);a!==null&&(Be(a,e,n),Xa(a,e,n)),e={cache:Je()},t.payload=e;return}e=e.return}}function Wf(t,e,n){var a=we();n={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Ns(t)?zu(e,n):(n=Ul(t,e,n,a),n!==null&&(Be(n,t,a),wu(n,e,a)))}function Gu(t,e,n){var a=we();Wa(t,e,n,a)}function Wa(t,e,n,a){var l={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ns(t))zu(e,l);else{var u=t.alternate;if(t.lanes===0&&(u===null||u.lanes===0)&&(u=e.lastRenderedReducer,u!==null))try{var U=e.lastRenderedState,P=u(U,n);if(l.hasEagerState=!0,l.eagerState=P,qe(P,U))return Ss(t,e,l,0),qt===null&&_s(),!1}catch{}finally{}if(n=Ul(t,e,l,a),n!==null)return Be(n,t,a),wu(n,e,a),!0}return!1}function Il(t,e,n,a){if(a={lane:2,revertLane:Ya(),action:a,hasEagerState:!1,eagerState:null,next:null},Ns(t)){if(e)throw Error(r(479))}else e=Ul(t,n,a,2),e!==null&&Be(e,t,2)}function Ns(t){var e=t.alternate;return t===Ct||e!==null&&e===Ct}function zu(t,e){Ma=$s=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function wu(t,e,n){if((n&4194048)!==0){var a=e.lanes;a&=t.pendingLanes,n|=a,e.lanes=n,G(t,n)}}function Rs(t){var e=fi;return fi+=1,Ua===null&&(Ua=[]),ko(Ua,t,e)}function Ia(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function As(t,e){throw e.$$typeof===m0?Error(r(525)):(t=Object.prototype.toString.call(e),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Bu(t){var e=t._init;return e(t._payload)}function Hu(t){function e(k,Q){if(t){var $=k.deletions;$===null?(k.deletions=[Q],k.flags|=16):$.push(Q)}}function n(k,Q){if(!t)return null;for(;Q!==null;)e(k,Q),Q=Q.sibling;return null}function a(k){for(var Q=new Map;k!==null;)k.key!==null?Q.set(k.key,k):Q.set(k.index,k),k=k.sibling;return Q}function l(k,Q){return k=hn(k,Q),k.index=0,k.sibling=null,k}function u(k,Q,$){return k.index=$,t?($=k.alternate,$!==null?($=$.index,$<Q?(k.flags|=67108866,Q):$):(k.flags|=67108866,Q)):(k.flags|=1048576,Q)}function U(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function P(k,Q,$,st){return Q===null||Q.tag!==6?(Q=Rr($,k.mode,st),Q.return=k,Q):(Q=l(Q,$),Q.return=k,Q)}function J(k,Q,$,st){var ft=$.type;return ft===pa?lt(k,Q,$.props.children,st,$.key):Q!==null&&(Q.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===Un&&Bu(ft)===Q.type)?(Q=l(Q,$.props),Ia(Q,$),Q.return=k,Q):(Q=Hs($.type,$.key,$.props,null,k.mode,st),Ia(Q,$),Q.return=k,Q)}function it(k,Q,$,st){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==$.containerInfo||Q.stateNode.implementation!==$.implementation?(Q=Ar($,k.mode,st),Q.return=k,Q):(Q=l(Q,$.children||[]),Q.return=k,Q)}function lt(k,Q,$,st,ft){return Q===null||Q.tag!==7?(Q=kn($,k.mode,st,ft),Q.return=k,Q):(Q=l(Q,$),Q.return=k,Q)}function ct(k,Q,$){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Q=Rr(""+Q,k.mode,$),Q.return=k,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case Ls:return $=Hs(Q.type,Q.key,Q.props,null,k.mode,$),Ia($,Q),$.return=k,$;case ma:return Q=Ar(Q,k.mode,$),Q.return=k,Q;case Un:var st=Q._init;return Q=st(Q._payload),ct(k,Q,$)}if(js(Q)||_(Q))return Q=kn(Q,k.mode,$,null),Q.return=k,Q;if(typeof Q.then=="function")return ct(k,Rs(Q),$);if(Q.$$typeof===Dn)return ct(k,ve(k,Q),$);As(k,Q)}return null}function ht(k,Q,$,st){var ft=Q!==null?Q.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return ft!==null?null:P(k,Q,""+$,st);if(typeof $=="object"&&$!==null){switch($.$$typeof){case Ls:return $.key===ft?J(k,Q,$,st):null;case ma:return $.key===ft?it(k,Q,$,st):null;case Un:return ft=$._init,$=ft($._payload),ht(k,Q,$,st)}if(js($)||_($))return ft!==null?null:lt(k,Q,$,st,null);if(typeof $.then=="function")return ht(k,Q,Rs($),st);if($.$$typeof===Dn)return ht(k,Q,ve(k,$),st);As(k,$)}return null}function bt(k,Q,$,st,ft){if(typeof st=="string"&&st!==""||typeof st=="number"||typeof st=="bigint")return k=k.get($)||null,P(Q,k,""+st,ft);if(typeof st=="object"&&st!==null){switch(st.$$typeof){case Ls:return k=k.get(st.key===null?$:st.key)||null,J(Q,k,st,ft);case ma:return k=k.get(st.key===null?$:st.key)||null,it(Q,k,st,ft);case Un:var Ft=st._init;return st=Ft(st._payload),bt(k,Q,$,st,ft)}if(js(st)||_(st))return k=k.get($)||null,lt(Q,k,st,ft,null);if(typeof st.then=="function")return bt(k,Q,$,Rs(st),ft);if(st.$$typeof===Dn)return bt(k,Q,$,ve(Q,st),ft);As(Q,st)}return null}function Ze(k,Q,$,st){for(var ft=null,Ft=null,pt=Q,Dt=Q=0,ce=null;pt!==null&&Dt<$.length;Dt++){pt.index>Dt?(ce=pt,pt=null):ce=pt.sibling;var Ut=ht(k,pt,$[Dt],st);if(Ut===null){pt===null&&(pt=ce);break}t&&pt&&Ut.alternate===null&&e(k,pt),Q=u(Ut,Q,Dt),Ft===null?ft=Ut:Ft.sibling=Ut,Ft=Ut,pt=ce}if(Dt===$.length)return n(k,pt),wt&&w(k,Dt),ft;if(pt===null){for(;Dt<$.length;Dt++)pt=ct(k,$[Dt],st),pt!==null&&(Q=u(pt,Q,Dt),Ft===null?ft=pt:Ft.sibling=pt,Ft=pt);return wt&&w(k,Dt),ft}for(pt=a(pt);Dt<$.length;Dt++)ce=bt(pt,k,Dt,$[Dt],st),ce!==null&&(t&&ce.alternate!==null&&pt.delete(ce.key===null?Dt:ce.key),Q=u(ce,Q,Dt),Ft===null?ft=ce:Ft.sibling=ce,Ft=ce);return t&&pt.forEach(function(Pn){return e(k,Pn)}),wt&&w(k,Dt),ft}function vi(k,Q,$,st){if($==null)throw Error(r(151));for(var ft=null,Ft=null,pt=Q,Dt=Q=0,ce=null,Ut=$.next();pt!==null&&!Ut.done;Dt++,Ut=$.next()){pt.index>Dt?(ce=pt,pt=null):ce=pt.sibling;var Pn=ht(k,pt,Ut.value,st);if(Pn===null){pt===null&&(pt=ce);break}t&&pt&&Pn.alternate===null&&e(k,pt),Q=u(Pn,Q,Dt),Ft===null?ft=Pn:Ft.sibling=Pn,Ft=Pn,pt=ce}if(Ut.done)return n(k,pt),wt&&w(k,Dt),ft;if(pt===null){for(;!Ut.done;Dt++,Ut=$.next())Ut=ct(k,Ut.value,st),Ut!==null&&(Q=u(Ut,Q,Dt),Ft===null?ft=Ut:Ft.sibling=Ut,Ft=Ut);return wt&&w(k,Dt),ft}for(pt=a(pt);!Ut.done;Dt++,Ut=$.next())Ut=bt(pt,k,Dt,Ut.value,st),Ut!==null&&(t&&Ut.alternate!==null&&pt.delete(Ut.key===null?Dt:Ut.key),Q=u(Ut,Q,Dt),Ft===null?ft=Ut:Ft.sibling=Ut,Ft=Ut);return t&&pt.forEach(function(W1){return e(k,W1)}),wt&&w(k,Dt),ft}function aa(k,Q,$,st){if(typeof $=="object"&&$!==null&&$.type===pa&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case Ls:t:{for(var ft=$.key;Q!==null;){if(Q.key===ft){if(ft=$.type,ft===pa){if(Q.tag===7){n(k,Q.sibling),st=l(Q,$.props.children),st.return=k,k=st;break t}}else if(Q.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===Un&&Bu(ft)===Q.type){n(k,Q.sibling),st=l(Q,$.props),Ia(st,$),st.return=k,k=st;break t}n(k,Q);break}else e(k,Q);Q=Q.sibling}$.type===pa?(st=kn($.props.children,k.mode,st,$.key),st.return=k,k=st):(st=Hs($.type,$.key,$.props,null,k.mode,st),Ia(st,$),st.return=k,k=st)}return U(k);case ma:t:{for(ft=$.key;Q!==null;){if(Q.key===ft)if(Q.tag===4&&Q.stateNode.containerInfo===$.containerInfo&&Q.stateNode.implementation===$.implementation){n(k,Q.sibling),st=l(Q,$.children||[]),st.return=k,k=st;break t}else{n(k,Q);break}else e(k,Q);Q=Q.sibling}st=Ar($,k.mode,st),st.return=k,k=st}return U(k);case Un:return ft=$._init,$=ft($._payload),aa(k,Q,$,st)}if(js($))return Ze(k,Q,$,st);if(_($)){if(ft=_($),typeof ft!="function")throw Error(r(150));return $=ft.call($),vi(k,Q,$,st)}if(typeof $.then=="function")return aa(k,Q,Rs($),st);if($.$$typeof===Dn)return aa(k,Q,ve(k,$),st);As(k,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,Q!==null&&Q.tag===6?(n(k,Q.sibling),st=l(Q,$),st.return=k,k=st):(n(k,Q),st=Rr($,k.mode,st),st.return=k,k=st),U(k)):n(k,Q)}return function(k,Q,$,st){try{fi=0;var ft=aa(k,Q,$,st);return Ua=null,ft}catch(pt){if(pt===hi||pt===Js)throw pt;var Ft=m(29,pt,null,k.mode);return Ft.lanes=st,Ft.return=k,Ft}finally{}}}function Tn(t){var e=t.alternate;g(ie,ie.current&1),g(Qe,t),ln===null&&(e===null||Oa.current!==null||e.memoizedState!==null)&&(ln=t)}function Lu(t){if(t.tag===22){if(g(ie,ie.current),g(Qe,t),ln===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(ln=t)}}else Nn()}function Nn(){g(ie,ie.current),g(Qe,Qe.current)}function un(t){y(Qe),ln===t&&(ln=null),y(ie)}function Os(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Lr(n)||jr(n)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function $l(t,e,n,a){e=t.memoizedState,n=n(a,e),n=n==null?e:Mr({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}function ju(t,e,n,a,l,u,U){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,u,U):e.prototype&&e.prototype.isPureReactComponent?!ys(n,a)||!ys(l,u):!0}function qu(t,e,n,a){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,a),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,a),e.state!==t&&$r.enqueueReplaceState(e,e.state,null)}function Yn(t,e){var n=e;if("ref"in e){n={};for(var a in e)a!=="ref"&&(n[a]=e[a])}if(t=t.defaultProps){n===e&&(n=Mr({},n));for(var l in t)n[l]===void 0&&(n[l]=t[l])}return n}function Ms(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(a){setTimeout(function(){throw a})}}function Pu(t,e,n){try{var a=t.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function tr(t,e,n){return n=Cn(n),n.tag=3,n.payload={element:null},n.callback=function(){Ms(t,e)},n}function Fu(t){return t=Cn(t),t.tag=3,t}function Vu(t,e,n,a){var l=n.type.getDerivedStateFromError;if(typeof l=="function"){var u=a.value;t.payload=function(){return l(u)},t.callback=function(){Pu(e,n,a)}}var U=n.stateNode;U!==null&&typeof U.componentDidCatch=="function"&&(t.callback=function(){Pu(e,n,a),typeof l!="function"&&(jn===null?jn=new Set([this]):jn.add(this));var P=a.stack;this.componentDidCatch(a.value,{componentStack:P!==null?P:""})})}function If(t,e,n,a,l){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(e=n.alternate,e!==null&&Fe(e,n,l,!0),n=Qe.current,n!==null){switch(n.tag){case 13:return ln===null?Cr():n.alternate===null&&Yt===0&&(Yt=3),n.flags&=-257,n.flags|=65536,n.lanes=l,a===Ws?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([a]):e.add(a),Tr(t,a,l)),!1;case 22:return n.flags|=65536,a===Ws?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([a]):n.add(a)),Tr(t,a,l)),!1}throw Error(r(435,n.tag))}return Tr(t,a,l),Cr(),!1}if(wt)return e=Qe.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=l,a!==Xr&&(t=Error(r(422),{cause:a}),vt(O(t,n)))):(a!==Xr&&(e=Error(r(423),{cause:a}),vt(O(e,n))),t=t.current.alternate,t.flags|=65536,l&=-l,t.lanes|=l,a=O(a,n),l=tr(t.stateNode,a,l),wl(t,l),Yt!==4&&(Yt=2)),!1;var u=Error(r(520),{cause:a});if(u=O(u,n),mi===null?mi=[u]:mi.push(u),Yt!==4&&(Yt=2),e===null)return!0;a=O(a,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=l&-l,n.lanes|=t,t=tr(n.stateNode,a,t),wl(n,t),!1;case 1:if(e=n.type,u=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(jn===null||!jn.has(u))))return n.flags|=65536,l&=-l,n.lanes|=l,l=Fu(l),Vu(l,t,n,a),wl(n,l),!1}n=n.return}while(n!==null);return!1}function me(t,e,n,a){e.child=t===null?Rh(e,null,n,a):Ga(e,t.child,n,a)}function Ku(t,e,n,a,l){n=n.render;var u=e.ref;if("ref"in a){var U={};for(var P in a)P!=="ref"&&(U[P]=a[P])}else U=a;return De(e),a=jl(t,e,n,U,u,l),P=ql(),t!==null&&!oe?(Pl(t,e,l),cn(t,e,l)):(wt&&P&&q(e),e.flags|=1,me(t,e,a,l),e.child)}function Yu(t,e,n,a,l){if(t===null){var u=n.type;return typeof u=="function"&&!Nr(u)&&u.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=u,Xu(t,e,u,a,l)):(t=Hs(n.type,null,a,e,e.mode,l),t.ref=e.ref,t.return=e,e.child=t)}if(u=t.child,!rr(t,l)){var U=u.memoizedProps;if(n=n.compare,n=n!==null?n:ys,n(U,a)&&t.ref===e.ref)return cn(t,e,l)}return e.flags|=1,t=hn(u,a),t.ref=e.ref,t.return=e,e.child=t}function Xu(t,e,n,a,l){if(t!==null){var u=t.memoizedProps;if(ys(u,a)&&t.ref===e.ref)if(oe=!1,e.pendingProps=a=u,rr(t,l))(t.flags&131072)!==0&&(oe=!0);else return e.lanes=t.lanes,cn(t,e,l)}return er(t,e,n,a,l)}function Qu(t,e,n){var a=e.pendingProps,l=a.children,u=t!==null?t.memoizedState:null;if(a.mode==="hidden"){if((e.flags&128)!==0){if(a=u!==null?u.baseLanes|n:n,t!==null){for(l=e.child=t.child,u=0;l!==null;)u=u|l.lanes|l.childLanes,l=l.sibling;e.childLanes=u&~a}else e.childLanes=0,e.child=null;return ku(t,e,a,n)}if((n&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&ps(e,u!==null?u.cachePool:null),u!==null?tu(e,u):Bl(),Lu(e);else return e.lanes=e.childLanes=536870912,ku(t,e,u!==null?u.baseLanes|n:n,n)}else u!==null?(ps(e,u.cachePool),tu(e,u),Nn(),e.memoizedState=null):(t!==null&&ps(e,null),Bl(),Nn());return me(t,e,l,n),e.child}function ku(t,e,n,a){var l=Dl();return l=l===null?null:{parent:dn?Kt._currentValue:Kt._currentValue2,pool:l},e.memoizedState={baseLanes:n,cachePool:l},t!==null&&ps(e,null),Bl(),Lu(e),t!==null&&Fe(t,e,a,!0),null}function Ds(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(r(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function er(t,e,n,a,l){return De(e),n=jl(t,e,n,a,void 0,l),a=ql(),t!==null&&!oe?(Pl(t,e,l),cn(t,e,l)):(wt&&a&&q(e),e.flags|=1,me(t,e,n,l),e.child)}function Zu(t,e,n,a,l,u){return De(e),e.updateQueue=null,n=nu(e,a,n,l),eu(t),a=ql(),t!==null&&!oe?(Pl(t,e,u),cn(t,e,u)):(wt&&a&&q(e),e.flags|=1,me(t,e,n,u),e.child)}function Ju(t,e,n,a,l){if(De(e),e.stateNode===null){var u=Sa,U=n.contextType;typeof U=="object"&&U!==null&&(u=St(U)),u=new n(a,u),e.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=$r,e.stateNode=u,u._reactInternals=e,u=e.stateNode,u.props=a,u.state=e.memoizedState,u.refs={},Gl(e),U=n.contextType,u.context=typeof U=="object"&&U!==null?St(U):Sa,u.state=e.memoizedState,U=n.getDerivedStateFromProps,typeof U=="function"&&($l(e,n,U,a),u.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(U=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),U!==u.state&&$r.enqueueReplaceState(u,u.state,null),ka(e,a,u,l),Qa(),u.state=e.memoizedState),typeof u.componentDidMount=="function"&&(e.flags|=4194308),a=!0}else if(t===null){u=e.stateNode;var P=e.memoizedProps,J=Yn(n,P);u.props=J;var it=u.context,lt=n.contextType;U=Sa,typeof lt=="object"&&lt!==null&&(U=St(lt));var ct=n.getDerivedStateFromProps;lt=typeof ct=="function"||typeof u.getSnapshotBeforeUpdate=="function",P=e.pendingProps!==P,lt||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(P||it!==U)&&qu(e,u,a,U),wn=!1;var ht=e.memoizedState;u.state=ht,ka(e,a,u,l),Qa(),it=e.memoizedState,P||ht!==it||wn?(typeof ct=="function"&&($l(e,n,ct,a),it=e.memoizedState),(J=wn||ju(e,n,J,a,ht,it,U))?(lt||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(e.flags|=4194308)):(typeof u.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=a,e.memoizedState=it),u.props=a,u.state=it,u.context=U,a=J):(typeof u.componentDidMount=="function"&&(e.flags|=4194308),a=!1)}else{u=e.stateNode,zl(t,e),U=e.memoizedProps,lt=Yn(n,U),u.props=lt,ct=e.pendingProps,ht=u.context,it=n.contextType,J=Sa,typeof it=="object"&&it!==null&&(J=St(it)),P=n.getDerivedStateFromProps,(it=typeof P=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(U!==ct||ht!==J)&&qu(e,u,a,J),wn=!1,ht=e.memoizedState,u.state=ht,ka(e,a,u,l),Qa();var bt=e.memoizedState;U!==ct||ht!==bt||wn||t!==null&&t.dependencies!==null&&de(t.dependencies)?(typeof P=="function"&&($l(e,n,P,a),bt=e.memoizedState),(lt=wn||ju(e,n,lt,a,ht,bt,J)||t!==null&&t.dependencies!==null&&de(t.dependencies))?(it||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(a,bt,J),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(a,bt,J)),typeof u.componentDidUpdate=="function"&&(e.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof u.componentDidUpdate!="function"||U===t.memoizedProps&&ht===t.memoizedState||(e.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||U===t.memoizedProps&&ht===t.memoizedState||(e.flags|=1024),e.memoizedProps=a,e.memoizedState=bt),u.props=a,u.state=bt,u.context=J,a=lt):(typeof u.componentDidUpdate!="function"||U===t.memoizedProps&&ht===t.memoizedState||(e.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||U===t.memoizedProps&&ht===t.memoizedState||(e.flags|=1024),a=!1)}return u=a,Ds(t,e),a=(e.flags&128)!==0,u||a?(u=e.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:u.render(),e.flags|=1,t!==null&&a?(e.child=Ga(e,t.child,null,l),e.child=Ga(e,null,n,l)):me(t,e,n,l),e.memoizedState=u.state,t=e.child):t=cn(t,e,l),t}function Wu(t,e,n,a){return dt(),e.flags|=256,me(t,e,n,a),e.child}function nr(t){return{baseLanes:t,cachePool:Xo()}}function ar(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=ke),t}function Iu(t,e,n){var a=e.pendingProps,l=!1,u=(e.flags&128)!==0,U;if((U=u)||(U=t!==null&&t.memoizedState===null?!1:(ie.current&2)!==0),U&&(l=!0,e.flags&=-129),U=(e.flags&32)!==0,e.flags&=-33,t===null){if(wt){if(l?Tn(e):Nn(),wt){var P=ae,J;(J=P)&&(P=v1(P,sn),P!==null?(e.memoizedState={dehydrated:P,treeContext:Wn!==null?{id:gn,overflow:mn}:null,retryLane:536870912,hydrationErrors:null},J=m(18,null,null,0),J.stateNode=P,J.return=e,e.child=J,Ee=e,ae=null,J=!0):J=!1),J||H(e)}if(P=e.memoizedState,P!==null&&(P=P.dehydrated,P!==null))return jr(P)?e.lanes=32:e.lanes=536870912,null;un(e)}return P=a.children,a=a.fallback,l?(Nn(),l=e.mode,P=Us({mode:"hidden",children:P},l),a=kn(a,l,n,null),P.return=e,a.return=e,P.sibling=a,e.child=P,l=e.child,l.memoizedState=nr(n),l.childLanes=ar(t,U,n),e.memoizedState=to,a):(Tn(e),ir(e,P))}if(J=t.memoizedState,J!==null&&(P=J.dehydrated,P!==null)){if(u)e.flags&256?(Tn(e),e.flags&=-257,e=sr(t,e,n)):e.memoizedState!==null?(Nn(),e.child=t.child,e.flags|=128,e=null):(Nn(),l=a.fallback,P=e.mode,a=Us({mode:"visible",children:a.children},P),l=kn(l,P,n,null),l.flags|=2,a.return=e,l.return=e,a.sibling=l,e.child=a,Ga(e,t.child,null,n),a=e.child,a.memoizedState=nr(n),a.childLanes=ar(t,U,n),e.memoizedState=to,e=l);else if(Tn(e),jr(P))U=r1(P).digest,a=Error(r(419)),a.stack="",a.digest=U,vt({value:a,source:null,stack:null}),e=sr(t,e,n);else if(oe||Fe(t,e,n,!1),U=(n&t.childLanes)!==0,oe||U){if(U=qt,U!==null&&(a=n&-n,a=(a&42)!==0?1:L(a),a=(a&(U.suspendedLanes|n))!==0?0:a,a!==0&&a!==J.retryLane))throw J.retryLane=a,ca(t,a),Be(U,t,a),Oh;Lr(P)||Cr(),e=sr(t,e,n)}else Lr(P)?(e.flags|=192,e.child=t.child,e=null):(t=J.treeContext,Ve&&(ae=g1(P),Ee=e,wt=!0,In=null,sn=!1,t!==null&&(Ke[Ye++]=gn,Ke[Ye++]=mn,Ke[Ye++]=Wn,gn=t.id,mn=t.overflow,Wn=e)),e=ir(e,a.children),e.flags|=4096);return e}return l?(Nn(),l=a.fallback,P=e.mode,J=t.child,u=J.sibling,a=hn(J,{mode:"hidden",children:a.children}),a.subtreeFlags=J.subtreeFlags&65011712,u!==null?l=hn(u,l):(l=kn(l,P,n,null),l.flags|=2),l.return=e,a.return=e,a.sibling=l,e.child=a,a=l,l=e.child,P=t.child.memoizedState,P===null?P=nr(n):(J=P.cachePool,J!==null?(u=dn?Kt._currentValue:Kt._currentValue2,J=J.parent!==u?{parent:u,pool:u}:J):J=Xo(),P={baseLanes:P.baseLanes|n,cachePool:J}),l.memoizedState=P,l.childLanes=ar(t,U,n),e.memoizedState=to,a):(Tn(e),n=t.child,t=n.sibling,n=hn(n,{mode:"visible",children:a.children}),n.return=e,n.sibling=null,t!==null&&(U=e.deletions,U===null?(e.deletions=[t],e.flags|=16):U.push(t)),e.child=n,e.memoizedState=null,n)}function ir(t,e){return e=Us({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Us(t,e){return t=m(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function sr(t,e,n){return Ga(e,t.child,null,n),t=ir(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function $u(t,e,n){t.lanes|=e;var a=t.alternate;a!==null&&(a.lanes|=e),zt(t.return,e,n)}function lr(t,e,n,a,l){var u=t.memoizedState;u===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:l}:(u.isBackwards=e,u.rendering=null,u.renderingStartTime=0,u.last=a,u.tail=n,u.tailMode=l)}function tc(t,e,n){var a=e.pendingProps,l=a.revealOrder,u=a.tail;if(me(t,e,a.children,n),a=ie.current,(a&2)!==0)a=a&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$u(t,n,e);else if(t.tag===19)$u(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}a&=1}switch(g(ie,a),l){case"forwards":for(n=e.child,l=null;n!==null;)t=n.alternate,t!==null&&Os(t)===null&&(l=n),n=n.sibling;n=l,n===null?(l=e.child,e.child=null):(l=n.sibling,n.sibling=null),lr(e,!1,l,n,u);break;case"backwards":for(n=null,l=e.child,e.child=null;l!==null;){if(t=l.alternate,t!==null&&Os(t)===null){e.child=l;break}t=l.sibling,l.sibling=n,n=l,l=t}lr(e,!0,n,null,u);break;case"together":lr(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function cn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ln|=e.lanes,(n&e.childLanes)===0)if(t!==null){if(Fe(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(r(153));if(e.child!==null){for(t=e.child,n=hn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=hn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function rr(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&de(t)))}function $f(t,e,n){switch(e.tag){case 3:Y(e,e.stateNode.containerInfo),gt(e,Kt,t.memoizedState.cache),dt();break;case 27:case 5:ot(e);break;case 4:Y(e,e.stateNode.containerInfo);break;case 10:gt(e,e.type,e.memoizedProps.value);break;case 13:var a=e.memoizedState;if(a!==null)return a.dehydrated!==null?(Tn(e),e.flags|=128,null):(n&e.child.childLanes)!==0?Iu(t,e,n):(Tn(e),t=cn(t,e,n),t!==null?t.sibling:null);Tn(e);break;case 19:var l=(t.flags&128)!==0;if(a=(n&e.childLanes)!==0,a||(Fe(t,e,n,!1),a=(n&e.childLanes)!==0),l){if(a)return tc(t,e,n);e.flags|=128}if(l=e.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),g(ie,ie.current),a)break;return null;case 22:case 23:return e.lanes=0,Qu(t,e,n);case 24:gt(e,Kt,t.memoizedState.cache)}return cn(t,e,n)}function ec(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)oe=!0;else{if(!rr(t,n)&&(e.flags&128)===0)return oe=!1,$f(t,e,n);oe=(t.flags&131072)!==0}else oe=!1,wt&&(e.flags&1048576)!==0&&B(e,Ys,e.index);switch(e.lanes=0,e.tag){case 16:t:{t=e.pendingProps;var a=e.elementType,l=a._init;if(a=l(a._payload),e.type=a,typeof a=="function")Nr(a)?(t=Yn(a,t),e.tag=1,e=Ju(null,e,a,t,n)):(e.tag=0,e=er(null,e,a,t,n));else{if(a!=null){if(l=a.$$typeof,l===Ur){e.tag=11,e=Ku(null,e,a,t,n);break t}else if(l===wr){e.tag=14,e=Yu(null,e,a,t,n);break t}}throw e=x(a)||a,Error(r(306,e,""))}}return e;case 0:return er(t,e,e.type,e.pendingProps,n);case 1:return a=e.type,l=Yn(a,e.pendingProps),Ju(t,e,a,l,n);case 3:t:{if(Y(e,e.stateNode.containerInfo),t===null)throw Error(r(387));var u=e.pendingProps;l=e.memoizedState,a=l.element,zl(t,e),ka(e,u,null,n);var U=e.memoizedState;if(u=U.cache,gt(e,Kt,u),u!==l.cache&&Pt(e,[Kt],n,!0),Qa(),u=U.element,Ve&&l.isDehydrated)if(l={element:u,isDehydrated:!1,cache:U.cache},e.updateQueue.baseState=l,e.memoizedState=l,e.flags&256){e=Wu(t,e,u,n);break t}else if(u!==a){a=O(Error(r(424)),e),vt(a),e=Wu(t,e,u,n);break t}else for(Ve&&(ae=f1(e.stateNode.containerInfo),Ee=e,wt=!0,In=null,sn=!0),n=Rh(e,null,u,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(dt(),u===a){e=cn(t,e,n);break t}me(t,e,u,n)}e=e.child}return e;case 26:if(Ie)return Ds(t,e),t===null?(n=dh(e.type,null,e.pendingProps,null))?e.memoizedState=n:wt||(e.stateNode=M1(e.type,e.pendingProps,zn.current,e)):e.memoizedState=dh(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:if(ne)return ot(e),t===null&&ne&&wt&&(a=e.stateNode=vh(e.type,e.pendingProps,zn.current,pe.current,!1),Ee=e,sn=!0,ae=m1(e.type,a,ae)),me(t,e,e.pendingProps.children,n),Ds(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&wt&&(R1(e.type,e.pendingProps,pe.current),(l=a=ae)&&(a=p1(a,e.type,e.pendingProps,sn),a!==null?(e.stateNode=a,Ee=e,ae=d1(a),sn=!1,l=!0):l=!1),l||H(e)),ot(e),l=e.type,u=e.pendingProps,U=t!==null?t.memoizedProps:null,a=u.children,qs(l,u)?a=null:U!==null&&qs(l,U)&&(e.flags|=32),e.memoizedState!==null&&(l=jl(t,e,Qf,null,null,n),dn?Jn._currentValue=l:Jn._currentValue2=l),Ds(t,e),me(t,e,a,n),e.child;case 6:return t===null&&wt&&(A1(e.pendingProps,pe.current),(t=n=ae)&&(n=y1(n,e.pendingProps,sn),n!==null?(e.stateNode=n,Ee=e,ae=null,t=!0):t=!1),t||H(e)),null;case 13:return Iu(t,e,n);case 4:return Y(e,e.stateNode.containerInfo),a=e.pendingProps,t===null?e.child=Ga(e,null,a,n):me(t,e,a,n),e.child;case 11:return Ku(t,e,e.type,e.pendingProps,n);case 7:return me(t,e,e.pendingProps,n),e.child;case 8:return me(t,e,e.pendingProps.children,n),e.child;case 12:return me(t,e,e.pendingProps.children,n),e.child;case 10:return a=e.pendingProps,gt(e,e.type,a.value),me(t,e,a.children,n),e.child;case 9:return l=e.type._context,a=e.pendingProps.children,De(e),l=St(l),a=a(l),e.flags|=1,me(t,e,a,n),e.child;case 14:return Yu(t,e,e.type,e.pendingProps,n);case 15:return Xu(t,e,e.type,e.pendingProps,n);case 19:return tc(t,e,n);case 31:return a=e.pendingProps,n=e.mode,a={mode:a.mode,children:a.children},t===null?(n=Us(a,n),n.ref=e.ref,e.child=n,n.return=e,e=n):(n=hn(t.child,a),n.ref=e.ref,e.child=n,n.return=e,e=n),e;case 22:return Qu(t,e,n);case 24:return De(e),a=St(Kt),t===null?(l=Dl(),l===null&&(l=qt,u=Je(),l.pooledCache=u,u.refCount++,u!==null&&(l.pooledCacheLanes|=n),l=u),e.memoizedState={parent:a,cache:l},Gl(e),gt(e,Kt,l)):((t.lanes&n)!==0&&(zl(t,e),ka(e,null,null,n),Qa()),l=t.memoizedState,u=e.memoizedState,l.parent!==a?(l={parent:a,cache:a},e.memoizedState=l,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=l),gt(e,Kt,a)):(a=u.cache,gt(e,Kt,a),a!==l.cache&&Pt(e,[Kt],n,!0))),me(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(r(156,e.tag))}function ze(t){t.flags|=4}function nc(t,e){if(t!==null&&t.child===e.child)return!1;if((e.flags&16)!==0)return!0;for(t=e.child;t!==null;){if((t.flags&13878)!==0||(t.subtreeFlags&13878)!==0)return!0;t=t.sibling}return!1}function or(t,e,n,a){if(_e)for(n=e.child;n!==null;){if(n.tag===5||n.tag===6)Hr(t,n.stateNode);else if(!(n.tag===4||ne&&n.tag===27)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}else if(Gn)for(var l=e.child;l!==null;){if(l.tag===5){var u=l.stateNode;n&&a&&(u=rh(u,l.type,l.memoizedProps)),Hr(t,u)}else if(l.tag===6)u=l.stateNode,n&&a&&(u=oh(u,l.memoizedProps)),Hr(t,u);else if(l.tag!==4){if(l.tag===22&&l.memoizedState!==null)u=l.child,u!==null&&(u.return=l),or(t,l,!0,!0);else if(l.child!==null){l.child.return=l,l=l.child;continue}}if(l===e)break;for(;l.sibling===null;){if(l.return===null||l.return===e)return;l=l.return}l.sibling.return=l.return,l=l.sibling}}function ac(t,e,n,a){var l=!1;if(Gn)for(var u=e.child;u!==null;){if(u.tag===5){var U=u.stateNode;n&&a&&(U=rh(U,u.type,u.memoizedProps)),sh(t,U)}else if(u.tag===6)U=u.stateNode,n&&a&&(U=oh(U,u.memoizedProps)),sh(t,U);else if(u.tag!==4){if(u.tag===22&&u.memoizedState!==null)l=u.child,l!==null&&(l.return=u),ac(t,u,!0,!0),l=!0;else if(u.child!==null){u.child.return=u,u=u.child;continue}}if(u===e)break;for(;u.sibling===null;){if(u.return===null||u.return===e)return l;u=u.return}u.sibling.return=u.return,u=u.sibling}return l}function ic(t,e){if(Gn&&nc(t,e)){t=e.stateNode;var n=t.containerInfo,a=ih();ac(a,e,!1,!1),t.pendingChildren=a,ze(e),l1(n,a)}}function ur(t,e,n,a){if(_e)t.memoizedProps!==a&&ze(e);else if(Gn){var l=t.stateNode,u=t.memoizedProps;if((t=nc(t,e))||u!==a){var U=pe.current;u=s1(l,n,u,a,!t,null),u===l?e.stateNode=l:($c(u,n,a,U)&&ze(e),e.stateNode=u,t?or(u,e,!1,!1):ze(e))}else e.stateNode=l}}function cr(t,e,n){if(G0(e,n)){if(t.flags|=16777216,!eh(e,n))if(Oc())t.flags|=8192;else throw Ra=Ws,Jr}else t.flags&=-16777217}function sc(t,e){if(U1(e)){if(t.flags|=16777216,!yh(e))if(Oc())t.flags|=8192;else throw Ra=Ws,Jr}else t.flags&=-16777217}function Gs(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?R():536870912,t.lanes|=e,Ba|=e)}function $a(t,e){if(!wt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function Vt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,a=0;if(e)for(var l=t.child;l!==null;)n|=l.lanes|l.childLanes,a|=l.subtreeFlags&65011712,a|=l.flags&65011712,l.return=t,l=l.sibling;else for(l=t.child;l!==null;)n|=l.lanes|l.childLanes,a|=l.subtreeFlags,a|=l.flags,l.return=t,l=l.sibling;return t.subtreeFlags|=a,t.childLanes=n,e}function t0(t,e,n){var a=e.pendingProps;switch(W(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(e),null;case 1:return Vt(e),null;case 3:return n=e.stateNode,a=null,t!==null&&(a=t.memoizedState.cache),e.memoizedState.cache!==a&&(e.flags|=2048),jt(Kt),tt(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(ut(e)?ze(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,yt())),ic(t,e),Vt(e),null;case 26:if(Ie){n=e.type;var l=e.memoizedState;return t===null?(ze(e),l!==null?(Vt(e),sc(e,l)):(Vt(e),cr(e,n,a))):l?l!==t.memoizedState?(ze(e),Vt(e),sc(e,l)):(Vt(e),e.flags&=-16777217):(_e?t.memoizedProps!==a&&ze(e):ur(t,e,n,a),Vt(e),cr(e,n,a)),null}case 27:if(ne){if(I(e),n=zn.current,l=e.type,t!==null&&e.stateNode!=null)_e?t.memoizedProps!==a&&ze(e):ur(t,e,l,a);else{if(!a){if(e.stateNode===null)throw Error(r(166));return Vt(e),null}t=pe.current,ut(e)?Z(e,t):(t=vh(l,a,n,t,!0),e.stateNode=t,ze(e))}return Vt(e),null}case 5:if(I(e),n=e.type,t!==null&&e.stateNode!=null)ur(t,e,n,a);else{if(!a){if(e.stateNode===null)throw Error(r(166));return Vt(e),null}t=pe.current,ut(e)?Z(e,t):(l=T0(n,a,zn.current,t,e),or(l,e,!1,!1),e.stateNode=l,$c(l,n,a,t)&&ze(e))}return Vt(e),cr(e,e.type,e.pendingProps),null;case 6:if(t&&e.stateNode!=null)n=t.memoizedProps,_e?n!==a&&ze(e):Gn&&(n!==a?(e.stateNode=th(a,zn.current,pe.current,e),ze(e)):e.stateNode=t.stateNode);else{if(typeof a!="string"&&e.stateNode===null)throw Error(r(166));if(t=zn.current,n=pe.current,ut(e)){if(!Ve)throw Error(r(176));if(t=e.stateNode,n=e.memoizedProps,a=null,l=Ee,l!==null)switch(l.tag){case 27:case 5:a=l.memoizedProps}S1(t,n,e,a)||H(e)}else e.stateNode=th(a,t,n,e)}return Vt(e),null;case 13:if(a=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(l=ut(e),a!==null&&a.dehydrated!==null){if(t===null){if(!l)throw Error(r(318));if(!Ve)throw Error(r(344));if(l=e.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));b1(l,e)}else dt(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;Vt(e),l=!1}else l=yt(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=l),l=!0;if(!l)return e.flags&256?(un(e),e):(un(e),null)}if(un(e),(e.flags&128)!==0)return e.lanes=n,e;if(n=a!==null,t=t!==null&&t.memoizedState!==null,n){a=e.child,l=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(l=a.alternate.memoizedState.cachePool.pool);var u=null;a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==l&&(a.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),Gs(e,e.updateQueue),Vt(e),null;case 4:return tt(),ic(t,e),t===null&&O0(e.stateNode.containerInfo),Vt(e),null;case 10:return jt(e.type),Vt(e),null;case 19:if(y(ie),l=e.memoizedState,l===null)return Vt(e),null;if(a=(e.flags&128)!==0,u=l.rendering,u===null)if(a)$a(l,!1);else{if(Yt!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(u=Os(t),u!==null){for(e.flags|=128,$a(l,!1),t=u.updateQueue,e.updateQueue=t,Gs(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)Vc(n,t),n=n.sibling;return g(ie,ie.current&1|2),e.child}t=t.sibling}l.tail!==null&&$e()>pi&&(e.flags|=128,a=!0,$a(l,!1),e.lanes=4194304)}else{if(!a)if(t=Os(u),t!==null){if(e.flags|=128,a=!0,t=t.updateQueue,e.updateQueue=t,Gs(e,t),$a(l,!0),l.tail===null&&l.tailMode==="hidden"&&!u.alternate&&!wt)return Vt(e),null}else 2*$e()-l.renderingStartTime>pi&&n!==536870912&&(e.flags|=128,a=!0,$a(l,!1),e.lanes=4194304);l.isBackwards?(u.sibling=e.child,e.child=u):(t=l.last,t!==null?t.sibling=u:e.child=u,l.last=u)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=$e(),e.sibling=null,t=ie.current,g(ie,a?t&1|2:t&1),e):(Vt(e),null);case 22:case 23:return un(e),Hl(),a=e.memoizedState!==null,t!==null?t.memoizedState!==null!==a&&(e.flags|=8192):a&&(e.flags|=8192),a?(n&536870912)!==0&&(e.flags&128)===0&&(Vt(e),e.subtreeFlags&6&&(e.flags|=8192)):Vt(e),n=e.updateQueue,n!==null&&Gs(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),a=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),a!==n&&(e.flags|=2048),t!==null&&y(ta),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),jt(Kt),Vt(e),null;case 25:return null;case 30:return null}throw Error(r(156,e.tag))}function e0(t,e){switch(W(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return jt(Kt),tt(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return I(e),null;case 13:if(un(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(r(340));dt()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return y(ie),null;case 4:return tt(),null;case 10:return jt(e.type),null;case 22:case 23:return un(e),Hl(),t!==null&&y(ta),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return jt(Kt),null;case 25:return null;default:return null}}function lc(t,e){switch(W(e),e.tag){case 3:jt(Kt),tt();break;case 26:case 27:case 5:I(e);break;case 4:tt();break;case 13:un(e);break;case 19:y(ie);break;case 10:jt(e.type);break;case 22:case 23:un(e),Hl(),t!==null&&y(ta);break;case 24:jt(Kt)}}function ti(t,e){try{var n=e.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var l=a.next;n=l;do{if((n.tag&t)===t){a=void 0;var u=n.create,U=n.inst;a=u(),U.destroy=a}n=n.next}while(n!==l)}}catch(P){Bt(e,e.return,P)}}function Rn(t,e,n){try{var a=e.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var u=l.next;a=u;do{if((a.tag&t)===t){var U=a.inst,P=U.destroy;if(P!==void 0){U.destroy=void 0,l=e;var J=n,it=P;try{it()}catch(lt){Bt(l,J,lt)}}}a=a.next}while(a!==u)}}catch(lt){Bt(e,e.return,lt)}}function rc(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{$o(e,n)}catch(a){Bt(t,t.return,a)}}}function oc(t,e,n){n.props=Yn(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(a){Bt(t,e,a)}}function ei(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var a=si(t.stateNode);break;case 30:a=t.stateNode;break;default:a=t.stateNode}typeof n=="function"?t.refCleanup=n(a):n.current=a}}catch(l){Bt(t,e,l)}}function nn(t,e){var n=t.ref,a=t.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(l){Bt(t,e,l)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(l){Bt(t,e,l)}else n.current=null}function uc(t){var e=t.type,n=t.memoizedProps,a=t.stateNode;try{k0(a,e,n,t)}catch(l){Bt(t,t.return,l)}}function hr(t,e,n){try{Z0(t.stateNode,t.type,n,e,t)}catch(a){Bt(t,t.return,a)}}function cc(t){return t.tag===5||t.tag===3||(Ie?t.tag===26:!1)||(ne?t.tag===27&&va(t.type):!1)||t.tag===4}function dr(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||cc(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(ne&&t.tag===27&&va(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function fr(t,e,n){var a=t.tag;if(a===5||a===6)t=t.stateNode,e?W0(n,t,e):X0(n,t);else if(a!==4&&(ne&&a===27&&va(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(fr(t,e,n),t=t.sibling;t!==null;)fr(t,e,n),t=t.sibling}function zs(t,e,n){var a=t.tag;if(a===5||a===6)t=t.stateNode,e?J0(n,t,e):Y0(n,t);else if(a!==4&&(ne&&a===27&&va(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(zs(t,e,n),t=t.sibling;t!==null;)zs(t,e,n),t=t.sibling}function hc(t,e,n){t=t.containerInfo;try{lh(t,n)}catch(a){Bt(e,e.return,a)}}function dc(t){var e=t.stateNode,n=t.memoizedProps;try{z1(t.type,n,e,t)}catch(a){Bt(t,t.return,a)}}function n0(t,e){for(C0(t.containerInfo),ue=e;ue!==null;)if(t=ue,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,ue=e;else for(;ue!==null;){t=ue;var n=t.alternate;switch(e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&n!==null){e=void 0;var a=t,l=n.memoizedProps;n=n.memoizedState;var u=a.stateNode;try{var U=Yn(a.type,l,a.elementType===a.type);e=u.getSnapshotBeforeUpdate(U,n),u.__reactInternalSnapshotBeforeUpdate=e}catch(P){Bt(a,a.return,P)}}break;case 3:(e&1024)!==0&&_e&&i1(t.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,ue=e;break}ue=t.return}}function fc(t,e,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:An(t,n),a&4&&ti(5,n);break;case 1:if(An(t,n),a&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(U){Bt(n,n.return,U)}else{var l=Yn(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(l,e,t.__reactInternalSnapshotBeforeUpdate)}catch(U){Bt(n,n.return,U)}}a&64&&rc(n),a&512&&ei(n,n.return);break;case 3:if(An(t,n),a&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=si(n.child.stateNode);break;case 1:e=n.child.stateNode}try{$o(t,e)}catch(U){Bt(n,n.return,U)}}break;case 27:ne&&e===null&&a&4&&dc(n);case 26:case 5:An(t,n),e===null&&a&4&&uc(n),a&512&&ei(n,n.return);break;case 12:An(t,n);break;case 13:An(t,n),a&4&&mc(t,n),a&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=u0.bind(null,n),o1(t,n))));break;case 22:if(a=n.memoizedState!==null||yn,!a){e=e!==null&&e.memoizedState!==null||kt,l=yn;var u=kt;yn=a,(kt=e)&&!u?On(t,n,(n.subtreeFlags&8772)!==0):An(t,n),yn=l,kt=u}break;case 30:break;default:An(t,n)}}function gc(t){var e=t.alternate;e!==null&&(t.alternate=null,gc(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&U0(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function We(t,e,n){for(n=n.child;n!==null;)gr(t,e,n),n=n.sibling}function gr(t,e,n){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(oi,n)}catch{}switch(n.tag){case 26:if(Ie){kt||nn(n,e),We(t,e,n),n.memoizedState?gh(n.memoizedState):n.stateNode&&ph(n.stateNode);break}case 27:if(ne){kt||nn(n,e);var a=te,l=Te;va(n.type)&&(te=n.stateNode,Te=!1),We(t,e,n),_h(n.stateNode),te=a,Te=l;break}case 5:kt||nn(n,e);case 6:if(_e){if(a=te,l=Te,te=null,We(t,e,n),te=a,Te=l,te!==null)if(Te)try{$0(te,n.stateNode)}catch(u){Bt(n,e,u)}else try{I0(te,n.stateNode)}catch(u){Bt(n,e,u)}}else We(t,e,n);break;case 18:_e&&te!==null&&(Te?N1(te,n.stateNode):T1(te,n.stateNode));break;case 4:_e?(a=te,l=Te,te=n.stateNode.containerInfo,Te=!0,We(t,e,n),te=a,Te=l):(Gn&&hc(n.stateNode,n,ih()),We(t,e,n));break;case 0:case 11:case 14:case 15:kt||Rn(2,n,e),kt||Rn(4,n,e),We(t,e,n);break;case 1:kt||(nn(n,e),a=n.stateNode,typeof a.componentWillUnmount=="function"&&oc(n,e,a)),We(t,e,n);break;case 21:We(t,e,n);break;case 22:kt=(a=kt)||n.memoizedState!==null,We(t,e,n),kt=a;break;default:We(t,e,n)}}function mc(t,e){if(Ve&&e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{x1(t)}catch(n){Bt(e,e.return,n)}}function a0(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Mh),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Mh),e;default:throw Error(r(435,t.tag))}}function mr(t,e){var n=a0(t);e.forEach(function(a){var l=c0.bind(null,t,a);n.has(a)||(n.add(a),a.then(l,l))})}function be(t,e){var n=e.deletions;if(n!==null)for(var a=0;a<n.length;a++){var l=n[a],u=t,U=e;if(_e){var P=U;t:for(;P!==null;){switch(P.tag){case 27:if(ne){if(va(P.type)){te=P.stateNode,Te=!1;break t}break}case 5:te=P.stateNode,Te=!1;break t;case 3:case 4:te=P.stateNode.containerInfo,Te=!0;break t}P=P.return}if(te===null)throw Error(r(160));gr(u,U,l),te=null,Te=!1}else gr(u,U,l);u=l.alternate,u!==null&&(u.return=null),l.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)pc(e,t),e=e.sibling}function pc(t,e){var n=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:be(e,t),xe(t),a&4&&(Rn(3,t,t.return),ti(3,t),Rn(5,t,t.return));break;case 1:be(e,t),xe(t),a&512&&(kt||n===null||nn(n,n.return)),a&64&&yn&&(t=t.updateQueue,t!==null&&(a=t.callbacks,a!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:if(Ie){var l=tn;if(be(e,t),xe(t),a&512&&(kt||n===null||nn(n,n.return)),a&4){a=n!==null?n.memoizedState:null;var u=t.memoizedState;n===null?u===null?t.stateNode===null?t.stateNode=O1(l,t.type,t.memoizedProps,t):mh(l,t.type,t.stateNode):t.stateNode=fh(l,u,t.memoizedProps):a!==u?(a===null?n.stateNode!==null&&ph(n.stateNode):gh(a),u===null?mh(l,t.type,t.stateNode):fh(l,u,t.memoizedProps)):u===null&&t.stateNode!==null&&hr(t,t.memoizedProps,n.memoizedProps)}break}case 27:if(ne){be(e,t),xe(t),a&512&&(kt||n===null||nn(n,n.return)),n!==null&&a&4&&hr(t,t.memoizedProps,n.memoizedProps);break}case 5:if(be(e,t),xe(t),a&512&&(kt||n===null||nn(n,n.return)),_e){if(t.flags&32){l=t.stateNode;try{ah(l)}catch(lt){Bt(t,t.return,lt)}}a&4&&t.stateNode!=null&&(l=t.memoizedProps,hr(t,l,n!==null?n.memoizedProps:l)),a&1024&&(eo=!0)}break;case 6:if(be(e,t),xe(t),a&4&&_e){if(t.stateNode===null)throw Error(r(162));a=t.memoizedProps,n=n!==null?n.memoizedProps:a,l=t.stateNode;try{Q0(l,n,a)}catch(lt){Bt(t,t.return,lt)}}break;case 3:if(Ie?(D1(),l=tn,tn=qr(e.containerInfo),be(e,t),tn=l):be(e,t),xe(t),a&4){if(_e&&Ve&&n!==null&&n.memoizedState.isDehydrated)try{C1(e.containerInfo)}catch(lt){Bt(t,t.return,lt)}if(Gn){a=e.containerInfo,n=e.pendingChildren;try{lh(a,n)}catch(lt){Bt(t,t.return,lt)}}}eo&&(eo=!1,yc(t));break;case 4:Ie?(n=tn,tn=qr(t.stateNode.containerInfo),be(e,t),xe(t),tn=n):(be(e,t),xe(t)),a&4&&Gn&&hc(t.stateNode,t,t.stateNode.pendingChildren);break;case 12:be(e,t),xe(t);break;case 13:be(e,t),xe(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(so=$e()),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,mr(t,a)));break;case 22:l=t.memoizedState!==null;var U=n!==null&&n.memoizedState!==null,P=yn,J=kt;if(yn=P||l,kt=J||U,be(e,t),kt=J,yn=P,xe(t),a&8192&&(e=t.stateNode,e._visibility=l?e._visibility&-2:e._visibility|1,l&&(n===null||U||yn||kt||Xn(t)),_e)){t:if(n=null,_e)for(e=t;;){if(e.tag===5||Ie&&e.tag===26){if(n===null){U=n=e;try{u=U.stateNode,l?t1(u):n1(U.stateNode,U.memoizedProps)}catch(lt){Bt(U,U.return,lt)}}}else if(e.tag===6){if(n===null){U=e;try{var it=U.stateNode;l?e1(it):a1(it,U.memoizedProps)}catch(lt){Bt(U,U.return,lt)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}}a&4&&(a=t.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,mr(t,n))));break;case 19:be(e,t),xe(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,mr(t,a)));break;case 30:break;case 21:break;default:be(e,t),xe(t)}}function xe(t){var e=t.flags;if(e&2){try{if(_e){for(var n,a=t.return;a!==null;){if(cc(a)){n=a;break}a=a.return}if(n==null)throw Error(r(160));switch(n.tag){case 27:if(ne){var l=n.stateNode,u=dr(t);zs(t,u,l);break}case 5:var U=n.stateNode;n.flags&32&&(ah(U),n.flags&=-33);var P=dr(t);zs(t,P,U);break;case 3:case 4:var J=n.stateNode.containerInfo,it=dr(t);fr(t,it,J);break;default:throw Error(r(161))}}}catch(lt){Bt(t,t.return,lt)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function yc(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;yc(e),e.tag===5&&e.flags&1024&&B0(e.stateNode),t=t.sibling}}function An(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)fc(t,e.alternate,e),e=e.sibling}function Xn(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Rn(4,e,e.return),Xn(e);break;case 1:nn(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&oc(e,e.return,n),Xn(e);break;case 27:ne&&_h(e.stateNode);case 26:case 5:nn(e,e.return),Xn(e);break;case 22:e.memoizedState===null&&Xn(e);break;case 30:Xn(e);break;default:Xn(e)}t=t.sibling}}function On(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var a=e.alternate,l=t,u=e,U=u.flags;switch(u.tag){case 0:case 11:case 15:On(l,u,n),ti(4,u);break;case 1:if(On(l,u,n),a=u,l=a.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(it){Bt(a,a.return,it)}if(a=u,l=a.updateQueue,l!==null){var P=a.stateNode;try{var J=l.shared.hiddenCallbacks;if(J!==null)for(l.shared.hiddenCallbacks=null,l=0;l<J.length;l++)Io(J[l],P)}catch(it){Bt(a,a.return,it)}}n&&U&64&&rc(u),ei(u,u.return);break;case 27:ne&&dc(u);case 26:case 5:On(l,u,n),n&&a===null&&U&4&&uc(u),ei(u,u.return);break;case 12:On(l,u,n);break;case 13:On(l,u,n),n&&U&4&&mc(l,u);break;case 22:u.memoizedState===null&&On(l,u,n),ei(u,u.return);break;case 30:break;default:On(l,u,n)}e=e.sibling}}function pr(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Wt(n))}function yr(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Wt(t))}function an(t,e,n,a){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)vc(t,e,n,a),e=e.sibling}function vc(t,e,n,a){var l=e.flags;switch(e.tag){case 0:case 11:case 15:an(t,e,n,a),l&2048&&ti(9,e);break;case 1:an(t,e,n,a);break;case 3:an(t,e,n,a),l&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Wt(t)));break;case 12:if(l&2048){an(t,e,n,a),t=e.stateNode;try{var u=e.memoizedProps,U=u.id,P=u.onPostCommit;typeof P=="function"&&P(U,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(J){Bt(e,e.return,J)}}else an(t,e,n,a);break;case 13:an(t,e,n,a);break;case 23:break;case 22:u=e.stateNode,U=e.alternate,e.memoizedState!==null?u._visibility&2?an(t,e,n,a):ni(t,e):u._visibility&2?an(t,e,n,a):(u._visibility|=2,da(t,e,n,a,(e.subtreeFlags&10256)!==0)),l&2048&&pr(U,e);break;case 24:an(t,e,n,a),l&2048&&yr(e.alternate,e);break;default:an(t,e,n,a)}}function da(t,e,n,a,l){for(l=l&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var u=t,U=e,P=n,J=a,it=U.flags;switch(U.tag){case 0:case 11:case 15:da(u,U,P,J,l),ti(8,U);break;case 23:break;case 22:var lt=U.stateNode;U.memoizedState!==null?lt._visibility&2?da(u,U,P,J,l):ni(u,U):(lt._visibility|=2,da(u,U,P,J,l)),l&&it&2048&&pr(U.alternate,U);break;case 24:da(u,U,P,J,l),l&&it&2048&&yr(U.alternate,U);break;default:da(u,U,P,J,l)}e=e.sibling}}function ni(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,a=e,l=a.flags;switch(a.tag){case 22:ni(n,a),l&2048&&pr(a.alternate,a);break;case 24:ni(n,a),l&2048&&yr(a.alternate,a);break;default:ni(n,a)}e=e.sibling}}function Qn(t){if(t.subtreeFlags&za)for(t=t.child;t!==null;)_c(t),t=t.sibling}function _c(t){switch(t.tag){case 26:Qn(t),t.flags&za&&(t.memoizedState!==null?G1(tn,t.memoizedState,t.memoizedProps):nh(t.type,t.memoizedProps));break;case 5:Qn(t),t.flags&za&&nh(t.type,t.memoizedProps);break;case 3:case 4:if(Ie){var e=tn;tn=qr(t.stateNode.containerInfo),Qn(t),tn=e}else Qn(t);break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=za,za=16777216,Qn(t),za=e):Qn(t));break;default:Qn(t)}}function Sc(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function ai(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var n=0;n<e.length;n++){var a=e[n];ue=a,Ec(a,t)}Sc(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)bc(t),t=t.sibling}function bc(t){switch(t.tag){case 0:case 11:case 15:ai(t),t.flags&2048&&Rn(9,t,t.return);break;case 3:ai(t);break;case 12:ai(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,ws(t)):ai(t);break;default:ai(t)}}function ws(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var n=0;n<e.length;n++){var a=e[n];ue=a,Ec(a,t)}Sc(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Rn(8,e,e.return),ws(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,ws(e));break;default:ws(e)}t=t.sibling}}function Ec(t,e){for(;ue!==null;){var n=ue;switch(n.tag){case 0:case 11:case 15:Rn(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Wt(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,ue=a;else t:for(n=t;ue!==null;){a=ue;var l=a.sibling,u=a.return;if(gc(a),a===n){ue=null;break t}if(l!==null){l.return=u,ue=l;break t}ue=u}}}function vr(t){var e=A0(t);if(e!=null){if(typeof e.memoizedProps["data-testname"]!="string")throw Error(r(364));return e}if(t=j0(t),t===null)throw Error(r(362));return t.stateNode.current}function _r(t,e){var n=t.tag;switch(e.$$typeof){case nl:if(t.type===e.value)return!0;break;case al:t:{for(e=e.value,t=[t,0],n=0;n<t.length;){var a=t[n++],l=a.tag,u=t[n++],U=e[u];if(l!==5&&l!==26&&l!==27||!ri(a)){for(;U!=null&&_r(a,U);)u++,U=e[u];if(u===e.length){e=!0;break t}else for(a=a.child;a!==null;)t.push(a,u),a=a.sibling}}e=!1}return e;case il:if((n===5||n===26||n===27)&&F0(t.stateNode,e.value))return!0;break;case ll:if((n===5||n===6||n===26||n===27)&&(t=P0(t),t!==null&&0<=t.indexOf(e.value)))return!0;break;case sl:if((n===5||n===26||n===27)&&(t=t.memoizedProps["data-testname"],typeof t=="string"&&t.toLowerCase()===e.value.toLowerCase()))return!0;break;default:throw Error(r(365))}return!1}function Sr(t){switch(t.$$typeof){case nl:return"<"+(x(t.value)||"Unknown")+">";case al:return":has("+(Sr(t)||"")+")";case il:return'[role="'+t.value+'"]';case ll:return'"'+t.value+'"';case sl:return'[data-testname="'+t.value+'"]';default:throw Error(r(365))}}function Cc(t,e){var n=[];t=[t,0];for(var a=0;a<t.length;){var l=t[a++],u=l.tag,U=t[a++],P=e[U];if(u!==5&&u!==26&&u!==27||!ri(l)){for(;P!=null&&_r(l,P);)U++,P=e[U];if(U===e.length)n.push(l);else for(l=l.child;l!==null;)t.push(l,U),l=l.sibling}}return n}function br(t,e){if(!li)throw Error(r(363));t=vr(t),t=Cc(t,e),e=[],t=Array.from(t);for(var n=0;n<t.length;){var a=t[n++],l=a.tag;if(l===5||l===26||l===27)ri(a)||e.push(a.stateNode);else for(a=a.child;a!==null;)t.push(a),a=a.sibling}return e}function we(){if((Ot&2)!==0&&Mt!==0)return Mt&-Mt;if(mt.T!==null){var t=Ta;return t!==0?t:Ya()}return M0()}function xc(){ke===0&&(ke=(Mt&536870912)===0||wt?C():536870912);var t=Qe.current;return t!==null&&(t.flags|=32),ke}function Be(t,e,n){(t===qt&&(Ht===2||Ht===9)||t.cancelPendingCommit!==null)&&(fa(t,0),Mn(t,Mt,ke,!1)),F(t,n),((Ot&2)===0||t!==qt)&&(t===qt&&((Ot&2)===0&&(na|=n),Yt===4&&Mn(t,Mt,ke,!1)),ee(t))}function Tc(t,e,n){if((Ot&6)!==0)throw Error(r(327));var a=!n&&(e&124)===0&&(e&t.expiredLanes)===0||S(t,e),l=a?l0(t,e):xr(t,e,!0),u=a;do{if(l===0){wa&&!a&&Mn(t,e,0,!1);break}else{if(n=t.current.alternate,u&&!i0(n)){l=xr(t,e,!1),u=!1;continue}if(l===2){if(u=e,t.errorRecoveryDisabledLanes&u)var U=0;else U=t.pendingLanes&-536870913,U=U!==0?U:U&536870912?536870912:0;if(U!==0){e=U;t:{var P=t;l=mi;var J=Ve&&P.current.memoizedState.isDehydrated;if(J&&(fa(P,U).flags|=256),U=xr(P,U,!1),U!==2){if(no&&!J){P.errorRecoveryDisabledLanes|=u,na|=u,l=4;break t}u=Ne,Ne=l,u!==null&&(Ne===null?Ne=u:Ne.push.apply(Ne,u))}l=U}if(u=!1,l!==2)continue}}if(l===1){fa(t,0),Mn(t,e,0,!0);break}t:{switch(a=t,u=l,u){case 0:case 1:throw Error(r(345));case 4:if((e&4194048)!==e)break;case 6:Mn(a,e,ke,!Hn);break t;case 2:Ne=null;break;case 3:case 5:break;default:throw Error(r(329))}if((e&62914560)===e&&(l=so+300-$e(),10<l)){if(Mn(a,e,ke,!Hn),D(a,0,!0)!==0)break t;a.timeoutHandle=N0(Nc.bind(null,a,n,Ne,rl,io,e,ke,na,Ba,Hn,u,2,-0,0),l);break t}Nc(a,n,Ne,rl,io,e,ke,na,Ba,Hn,u,0,-0,0)}}break}while(!0);ee(t)}function Nc(t,e,n,a,l,u,U,P,J,it,lt,ct,ht,bt){if(t.timeoutHandle=Zn,ct=e.subtreeFlags,(ct&8192||(ct&16785408)===16785408)&&(z0(),_c(e),ct=w0(),ct!==null)){t.cancelPendingCommit=ct(wc.bind(null,t,e,u,n,a,l,U,P,J,lt,1,ht,bt)),Mn(t,u,U,!it);return}wc(t,e,u,n,a,l,U,P,J)}function i0(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var l=n[a],u=l.getSnapshot;l=l.value;try{if(!qe(u(),l))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Mn(t,e,n,a){e&=~ao,e&=~na,t.suspendedLanes|=e,t.pingedLanes&=~e,a&&(t.warmLanes|=e),a=t.expirationTimes;for(var l=e;0<l;){var u=31-Le(l),U=1<<u;a[u]=-1,l&=~U}n!==0&&M(t,n,e)}function Rc(){return(Ot&6)===0?(le(0),!1):!0}function Er(){if(Nt!==null){if(Ht===0)var t=Nt.return;else t=Nt,pn=$n=null,Fl(t),Ua=null,fi=0,t=Nt;for(;t!==null;)lc(t.alternate,t),t=t.return;Nt=null}}function fa(t,e){var n=t.timeoutHandle;n!==Zn&&(t.timeoutHandle=Zn,R0(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Er(),qt=t,Nt=n=hn(t.current,null),Mt=e,Ht=0,Pe=null,Hn=!1,wa=S(t,e),no=!1,Ba=ke=ao=na=Ln=Yt=0,Ne=mi=null,io=!1,(e&8)!==0&&(e|=e&32);var a=t.entangledLanes;if(a!==0)for(t=t.entanglements,a&=e;0<a;){var l=31-Le(a),u=1<<l;e|=t[l],a&=~u}return vn=e,_s(),n}function Ac(t,e){Ct=null,mt.H=el,e===hi||e===Js?(e=Zo(),Ht=3):e===Jr?(e=Zo(),Ht=4):Ht=e===Oh?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Pe=e,Nt===null&&(Yt=1,Ms(t,O(e,t.current)))}function Oc(){var t=Qe.current;return t===null?!0:(Mt&4194048)===Mt?ln===null:(Mt&62914560)===Mt||(Mt&536870912)!==0?t===ln:!1}function Mc(){var t=mt.H;return mt.H=el,t===null?el:t}function Dc(){var t=mt.A;return mt.A=Z1,t}function Cr(){Yt=4,Hn||(Mt&4194048)!==Mt&&Qe.current!==null||(wa=!0),(Ln&134217727)===0&&(na&134217727)===0||qt===null||Mn(qt,Mt,ke,!1)}function xr(t,e,n){var a=Ot;Ot|=2;var l=Mc(),u=Dc();(qt!==t||Mt!==e)&&(rl=null,fa(t,e)),e=!1;var U=Yt;t:do try{if(Ht!==0&&Nt!==null){var P=Nt,J=Pe;switch(Ht){case 8:Er(),U=6;break t;case 3:case 2:case 9:case 6:Qe.current===null&&(e=!0);var it=Ht;if(Ht=0,Pe=null,ga(t,P,J,it),n&&wa){U=0;break t}break;default:it=Ht,Ht=0,Pe=null,ga(t,P,J,it)}}s0(),U=Yt;break}catch(lt){Ac(t,lt)}while(!0);return e&&t.shellSuspendCounter++,pn=$n=null,Ot=a,mt.H=l,mt.A=u,Nt===null&&(qt=null,Mt=0,_s()),U}function s0(){for(;Nt!==null;)Uc(Nt)}function l0(t,e){var n=Ot;Ot|=2;var a=Mc(),l=Dc();qt!==t||Mt!==e?(rl=null,pi=$e()+500,fa(t,e)):wa=S(t,e);t:do try{if(Ht!==0&&Nt!==null){e=Nt;var u=Pe;e:switch(Ht){case 1:Ht=0,Pe=null,ga(t,e,u,1);break;case 2:case 9:if(Qo(u)){Ht=0,Pe=null,Gc(e);break}e=function(){Ht!==2&&Ht!==9||qt!==t||(Ht=7),ee(t)},u.then(e,e);break t;case 3:Ht=7;break t;case 4:Ht=5;break t;case 7:Qo(u)?(Ht=0,Pe=null,Gc(e)):(Ht=0,Pe=null,ga(t,e,u,7));break;case 5:var U=null;switch(Nt.tag){case 26:U=Nt.memoizedState;case 5:case 27:var P=Nt,J=P.type,it=P.pendingProps;if(U?yh(U):eh(J,it)){Ht=0,Pe=null;var lt=P.sibling;if(lt!==null)Nt=lt;else{var ct=P.return;ct!==null?(Nt=ct,Bs(ct)):Nt=null}break e}}Ht=0,Pe=null,ga(t,e,u,5);break;case 6:Ht=0,Pe=null,ga(t,e,u,6);break;case 8:Er(),Yt=6;break t;default:throw Error(r(462))}}r0();break}catch(ht){Ac(t,ht)}while(!0);return pn=$n=null,mt.H=a,mt.A=l,Ot=n,Nt!==null?0:(qt=null,Mt=0,_s(),Yt)}function r0(){for(;Nt!==null&&!H1();)Uc(Nt)}function Uc(t){var e=ec(t.alternate,t,vn);t.memoizedProps=t.pendingProps,e===null?Bs(t):Nt=e}function Gc(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=Zu(n,e,e.pendingProps,e.type,void 0,Mt);break;case 11:e=Zu(n,e,e.pendingProps,e.type.render,e.ref,Mt);break;case 5:Fl(e);default:lc(n,e),e=Nt=Vc(e,vn),e=ec(n,e,vn)}t.memoizedProps=t.pendingProps,e===null?Bs(t):Nt=e}function ga(t,e,n,a){pn=$n=null,Fl(e),Ua=null,fi=0;var l=e.return;try{if(If(t,l,e,n,Mt)){Yt=1,Ms(t,O(n,t.current)),Nt=null;return}}catch(u){if(l!==null)throw Nt=l,u;Yt=1,Ms(t,O(n,t.current)),Nt=null;return}e.flags&32768?(wt||a===1?t=!0:wa||(Mt&536870912)!==0?t=!1:(Hn=t=!0,(a===2||a===9||a===3||a===6)&&(a=Qe.current,a!==null&&a.tag===13&&(a.flags|=16384))),zc(e,t)):Bs(e)}function Bs(t){var e=t;do{if((e.flags&32768)!==0){zc(e,Hn);return}t=e.return;var n=t0(e.alternate,e,vn);if(n!==null){Nt=n;return}if(e=e.sibling,e!==null){Nt=e;return}Nt=e=t}while(e!==null);Yt===0&&(Yt=5)}function zc(t,e){do{var n=e0(t.alternate,t);if(n!==null){n.flags&=32767,Nt=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){Nt=t;return}Nt=t=n}while(t!==null);Yt=6,Nt=null}function wc(t,e,n,a,l,u,U,P,J){t.cancelPendingCommit=null;do ii();while(ye!==0);if((Ot&6)!==0)throw Error(r(327));if(e!==null){if(e===t.current)throw Error(r(177));if(u=e.lanes|e.childLanes,u|=Wr,A(t,n,u,U,P,J),t===qt&&(Nt=qt=null,Mt=0),Ha=e,qn=t,La=n,lo=u,ro=l,Dh=a,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,h0(Vr,function(){return qc(),null})):(t.callbackNode=null,t.callbackPriority=0),a=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||a){a=mt.T,mt.T=null,l=fn(),re(2),U=Ot,Ot|=4;try{n0(t,e,n)}finally{Ot=U,re(l),mt.T=a}}ye=1,Bc(),Hc(),Lc()}}function Bc(){if(ye===1){ye=0;var t=qn,e=Ha,n=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||n){n=mt.T,mt.T=null;var a=fn();re(2);var l=Ot;Ot|=4;try{pc(e,t),x0(t.containerInfo)}finally{Ot=l,re(a),mt.T=n}}t.current=e,ye=2}}function Hc(){if(ye===2){ye=0;var t=qn,e=Ha,n=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||n){n=mt.T,mt.T=null;var a=fn();re(2);var l=Ot;Ot|=4;try{fc(t,e.alternate,e)}finally{Ot=l,re(a),mt.T=n}}ye=3}}function Lc(){if(ye===4||ye===3){ye=0,L1();var t=qn,e=Ha,n=La,a=Dh;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?ye=5:(ye=0,Ha=qn=null,jc(t,t.pendingLanes));var l=t.pendingLanes;if(l===0&&(jn=null),K(n),e=e.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(oi,e,void 0,(e.current.flags&128)===128)}catch{}if(a!==null){e=mt.T,l=fn(),re(2),mt.T=null;try{for(var u=t.onRecoverableError,U=0;U<a.length;U++){var P=a[U];u(P.value,{componentStack:P.stack})}}finally{mt.T=e,re(l)}}(La&3)!==0&&ii(),ee(t),l=t.pendingLanes,(n&4194090)!==0&&(l&42)!==0?t===oo?yi++:(yi=0,oo=t):yi=0,le(0)}}function jc(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Wt(e)))}function ii(t){return Bc(),Hc(),Lc(),qc()}function qc(){if(ye!==5)return!1;var t=qn,e=lo;lo=0;var n=K(La),a=32>n?32:n;n=mt.T;var l=fn();try{re(a),mt.T=null,a=ro,ro=null;var u=qn,U=La;if(ye=0,Ha=qn=null,La=0,(Ot&6)!==0)throw Error(r(331));var P=Ot;if(Ot|=4,bc(u.current),vc(u,u.current,U,a),Ot=P,le(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(oi,u)}catch{}return!0}finally{re(l),mt.T=n,jc(t,e)}}function Pc(t,e,n){e=O(n,e),e=tr(t.stateNode,e,2),t=xn(t,e,2),t!==null&&(F(t,2),ee(t))}function Bt(t,e,n){if(t.tag===3)Pc(t,t,n);else for(;e!==null;){if(e.tag===3){Pc(e,t,n);break}else if(e.tag===1){var a=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(jn===null||!jn.has(a))){t=O(n,t),n=Fu(2),a=xn(e,n,2),a!==null&&(Vu(n,a,e,t),F(a,2),ee(a));break}}e=e.return}}function Tr(t,e,n){var a=t.pingCache;if(a===null){a=t.pingCache=new J1;var l=new Set;a.set(e,l)}else l=a.get(e),l===void 0&&(l=new Set,a.set(e,l));l.has(n)||(no=!0,l.add(n),t=o0.bind(null,t,e,n),e.then(t,t))}function o0(t,e,n){var a=t.pingCache;a!==null&&a.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,qt===t&&(Mt&n)===n&&(Yt===4||Yt===3&&(Mt&62914560)===Mt&&300>$e()-so?(Ot&2)===0&&fa(t,0):ao|=n,Ba===Mt&&(Ba=0)),ee(t)}function Fc(t,e){e===0&&(e=R()),t=ca(t,e),t!==null&&(F(t,e),ee(t))}function u0(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Fc(t,n)}function c0(t,e){var n=0;switch(t.tag){case 13:var a=t.stateNode,l=t.memoizedState;l!==null&&(n=l.retryLane);break;case 19:a=t.stateNode;break;case 22:a=t.stateNode._retryCache;break;default:throw Error(r(314))}a!==null&&a.delete(e),Fc(t,n)}function h0(t,e){return Vs(t,e)}function d0(t,e,n,a){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nr(t){return t=t.prototype,!(!t||!t.isReactComponent)}function hn(t,e){var n=t.alternate;return n===null?(n=m(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function Vc(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Hs(t,e,n,a,l,u){var U=0;if(a=t,typeof t=="function")Nr(t)&&(U=1);else if(typeof t=="string")U=Ie&&ne?hh(t,n,pe.current)?26:Sh(t)?27:5:Ie?hh(t,n,pe.current)?26:5:ne&&Sh(t)?27:5;else t:switch(t){case Br:return t=m(31,n,e,l),t.elementType=Br,t.lanes=u,t;case pa:return kn(n.children,l,u,e);case Zc:U=8,l|=24;break;case Dr:return t=m(12,n,e,l|2),t.elementType=Dr,t.lanes=u,t;case Gr:return t=m(13,n,e,l),t.elementType=Gr,t.lanes=u,t;case zr:return t=m(19,n,e,l),t.elementType=zr,t.lanes=u,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case p0:case Dn:U=10;break t;case Jc:U=9;break t;case Ur:U=11;break t;case wr:U=14;break t;case Un:U=16,a=null;break t}U=29,n=Error(r(130,t===null?"null":typeof t,"")),a=null}return e=m(U,n,e,l),e.elementType=t,e.type=a,e.lanes=u,e}function kn(t,e,n,a){return t=m(7,t,a,e),t.lanes=n,t}function Rr(t,e,n){return t=m(6,t,null,e),t.lanes=n,t}function Ar(t,e,n){return e=m(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function f0(t,e,n,a,l,u,U,P){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Zn,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=z(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=z(0),this.hiddenUpdates=z(null),this.identifierPrefix=a,this.onUncaughtError=l,this.onCaughtError=u,this.onRecoverableError=U,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function Kc(t,e,n,a,l,u,U,P,J,it,lt,ct){return t=new f0(t,e,n,U,P,J,it,ct),e=1,u===!0&&(e|=24),u=m(3,null,null,e),t.current=u,u.stateNode=t,e=Je(),e.refCount++,t.pooledCache=e,e.refCount++,u.memoizedState={element:a,isDehydrated:n,cache:e},Gl(u),t}function Yc(t){return t?(t=Sa,t):Sa}function Xc(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=f(e),t=t!==null?v(t):null,t===null?null:si(t.stateNode)}function Qc(t,e,n,a,l,u){l=Yc(l),a.context===null?a.context=l:a.pendingContext=l,a=Cn(e),a.payload={element:n},u=u===void 0?null:u,u!==null&&(a.callback=u),n=xn(t,a,e),n!==null&&(Be(n,t,e),Xa(n,t,e))}function kc(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Or(t,e){kc(t,e),(t=t.alternate)&&kc(t,e)}var Tt={},g0=rf(),He=of(),Mr=Object.assign,m0=Symbol.for("react.element"),Ls=Symbol.for("react.transitional.element"),ma=Symbol.for("react.portal"),pa=Symbol.for("react.fragment"),Zc=Symbol.for("react.strict_mode"),Dr=Symbol.for("react.profiler"),p0=Symbol.for("react.provider"),Jc=Symbol.for("react.consumer"),Dn=Symbol.for("react.context"),Ur=Symbol.for("react.forward_ref"),Gr=Symbol.for("react.suspense"),zr=Symbol.for("react.suspense_list"),wr=Symbol.for("react.memo"),Un=Symbol.for("react.lazy"),Br=Symbol.for("react.activity"),y0=Symbol.for("react.memo_cache_sentinel"),Wc=Symbol.iterator,v0=Symbol.for("react.client.reference"),js=Array.isArray,mt=g0.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_0=s.rendererVersion,S0=s.rendererPackageName,Ic=s.extraDevToolsConfig,si=s.getPublicInstance,b0=s.getRootHostContext,E0=s.getChildHostContext,C0=s.prepareForCommit,x0=s.resetAfterCommit,T0=s.createInstance;s.cloneMutableInstance;var Hr=s.appendInitialChild,$c=s.finalizeInitialChildren,qs=s.shouldSetTextContent,th=s.createTextInstance;s.cloneMutableTextInstance;var N0=s.scheduleTimeout,R0=s.cancelTimeout,Zn=s.noTimeout,dn=s.isPrimaryRenderer;s.warnsIfNotActing;var _e=s.supportsMutation,Gn=s.supportsPersistence,Ve=s.supportsHydration,A0=s.getInstanceFromNode;s.beforeActiveInstanceBlur;var O0=s.preparePortalMount;s.prepareScopeUpdate,s.getInstanceFromScope;var re=s.setCurrentUpdatePriority,fn=s.getCurrentUpdatePriority,M0=s.resolveUpdatePriority;s.trackSchedulerEvent,s.resolveEventType,s.resolveEventTimeStamp;var D0=s.shouldAttemptEagerTransition,U0=s.detachDeletedInstance;s.requestPostPaintCallback;var G0=s.maySuspendCommit,eh=s.preloadInstance,z0=s.startSuspendingCommit,nh=s.suspendInstance;s.suspendOnActiveViewTransition;var w0=s.waitForCommitToBeReady,ya=s.NotPendingTransition,Jn=s.HostTransitionContext,B0=s.resetFormInstance;s.bindToConsole;var H0=s.supportsMicrotasks,L0=s.scheduleMicrotask,li=s.supportsTestSelectors,j0=s.findFiberRoot,q0=s.getBoundingRect,P0=s.getTextContent,ri=s.isHiddenSubtree,F0=s.matchAccessibilityRole,V0=s.setFocusIfFocusable,K0=s.setupIntersectionObserver,Y0=s.appendChild,X0=s.appendChildToContainer,Q0=s.commitTextUpdate,k0=s.commitMount,Z0=s.commitUpdate,J0=s.insertBefore,W0=s.insertInContainerBefore,I0=s.removeChild,$0=s.removeChildFromContainer,ah=s.resetTextContent,t1=s.hideInstance,e1=s.hideTextInstance,n1=s.unhideInstance,a1=s.unhideTextInstance;s.cancelViewTransitionName,s.cancelRootViewTransitionName,s.restoreRootViewTransitionName,s.cloneRootViewTransitionContainer,s.removeRootViewTransitionClone,s.measureClonedInstance,s.hasInstanceChanged,s.hasInstanceAffectedParent,s.startViewTransition,s.startGestureTransition,s.stopGestureTransition,s.getCurrentGestureOffset,s.subscribeToGestureDirection,s.createViewTransitionInstance;var i1=s.clearContainer;s.createFragmentInstance,s.updateFragmentInstanceFiber,s.commitNewChildToFragmentInstance,s.deleteChildFromFragmentInstance;var s1=s.cloneInstance,ih=s.createContainerChildSet,sh=s.appendChildToContainerChildSet,l1=s.finalizeContainerChildren,lh=s.replaceContainerChildren,rh=s.cloneHiddenInstance,oh=s.cloneHiddenTextInstance,Lr=s.isSuspenseInstancePending,jr=s.isSuspenseInstanceFallback,r1=s.getSuspenseInstanceFallbackErrorDetails,o1=s.registerSuspenseInstanceRetry,u1=s.canHydrateFormStateMarker,c1=s.isFormStateMarkerMatching,uh=s.getNextHydratableSibling,h1=s.getNextHydratableSiblingAfterSingleton,d1=s.getFirstHydratableChild,f1=s.getFirstHydratableChildWithinContainer,g1=s.getFirstHydratableChildWithinSuspenseInstance,m1=s.getFirstHydratableChildWithinSingleton,p1=s.canHydrateInstance,y1=s.canHydrateTextInstance,v1=s.canHydrateSuspenseInstance,_1=s.hydrateInstance,S1=s.hydrateTextInstance,b1=s.hydrateSuspenseInstance,E1=s.getNextHydratableInstanceAfterSuspenseInstance,C1=s.commitHydratedContainer,x1=s.commitHydratedSuspenseInstance,T1=s.clearSuspenseBoundary,N1=s.clearSuspenseBoundaryFromContainer,ch=s.shouldDeleteUnhydratedTailInstances;s.diffHydratedPropsForDevWarnings,s.diffHydratedTextForDevWarnings,s.describeHydratableInstanceForDevWarnings;var R1=s.validateHydratableInstance,A1=s.validateHydratableTextInstance,Ie=s.supportsResources,hh=s.isHostHoistableType,qr=s.getHoistableRoot,dh=s.getResource,fh=s.acquireResource,gh=s.releaseResource,O1=s.hydrateHoistable,mh=s.mountHoistable,ph=s.unmountHoistable,M1=s.createHoistableInstance,D1=s.prepareToCommitHoistables,U1=s.mayResourceSuspendCommit,yh=s.preloadResource,G1=s.suspendResource,ne=s.supportsSingletons,vh=s.resolveSingletonInstance,z1=s.acquireSingletonInstance,_h=s.releaseSingletonInstance,Sh=s.isHostSingletonType,va=s.isSingletonScope,Pr=[],_a=-1,Sa={},Le=Math.clz32?Math.clz32:E,w1=Math.log,B1=Math.LN2,Ps=256,Fs=4194304,Vs=He.unstable_scheduleCallback,Fr=He.unstable_cancelCallback,H1=He.unstable_shouldYield,L1=He.unstable_requestPaint,$e=He.unstable_now,bh=He.unstable_ImmediatePriority,j1=He.unstable_UserBlockingPriority,Vr=He.unstable_NormalPriority,q1=He.unstable_IdlePriority,P1=He.log,F1=He.unstable_setDisableYieldValue,oi=null,je=null,Kr,Eh,Yr=!1,Ch=new WeakMap,ba=[],Ea=0,Ks=null,Ys=0,Ke=[],Ye=0,Wn=null,gn=1,mn="",pe=b(null),ui=b(null),zn=b(null),Xs=b(null),Ee=null,ae=null,wt=!1,In=null,sn=!1,Xr=Error(r(519)),qe=typeof Object.is=="function"?Object.is:Gt,Qs=b(null),$n=null,pn=null,V1=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,a){t.push(a)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},K1=He.unstable_scheduleCallback,Y1=He.unstable_NormalPriority,Kt={$$typeof:Dn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},ks=null,Ca=null,Qr=!1,Zs=!1,kr=!1,xa=0,ci=null,Zr=0,Ta=0,Na=null,xh=mt.S;mt.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&Ml(t,e),xh!==null&&xh(t,e)};var ta=b(null),X1=Object.prototype.hasOwnProperty,hi=Error(r(460)),Jr=Error(r(474)),Js=Error(r(542)),Ws={then:function(){}},Ra=null,Xe=[],Aa=0,Wr=0,wn=!1,Ir=!1,Oa=b(null),Is=b(0),Bn=0,Ct=null,Lt=null,$t=null,$s=!1,Ma=!1,ea=!1,tl=0,di=0,Da=null,Q1=0,el={readContext:St,use:Es,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useLayoutEffect:Qt,useInsertionEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useSyncExternalStore:Qt,useId:Qt,useHostTransitionStatus:Qt,useFormState:Qt,useActionState:Qt,useOptimistic:Qt,useMemoCache:Qt,useCacheRefresh:Qt},Th={readContext:St,use:Es,useCallback:function(t,e){return Ce().memoizedState=[t,e===void 0?null:e],t},useContext:St,useEffect:Su,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Ts(4194308,4,xu.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ts(4194308,4,t,e)},useInsertionEffect:function(t,e){Ts(4,2,t,e)},useMemo:function(t,e){var n=Ce();e=e===void 0?null:e;var a=t();if(ea){X(!0);try{t()}finally{X(!1)}}return n.memoizedState=[a,e],a},useReducer:function(t,e,n){var a=Ce();if(n!==void 0){var l=n(e);if(ea){X(!0);try{n(e)}finally{X(!1)}}}else l=e;return a.memoizedState=a.baseState=l,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:l},a.queue=t,t=t.dispatch=Wf.bind(null,Ct,t),[a.memoizedState,t]},useRef:function(t){var e=Ce();return t={current:t},e.memoizedState=t},useState:function(t){t=Ql(t);var e=t.queue,n=Gu.bind(null,Ct,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:Zl,useDeferredValue:function(t,e){var n=Ce();return Jl(n,t,e)},useTransition:function(){var t=Ql(!1);return t=Ou.bind(null,Ct,t.queue,!0,!1),Ce().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var a=Ct,l=Ce();if(wt){if(n===void 0)throw Error(r(407));n=n()}else{if(n=e(),qt===null)throw Error(r(349));(Mt&124)!==0||iu(a,e,n)}l.memoizedState=n;var u={value:n,getSnapshot:e};return l.queue=u,Su(lu.bind(null,a,u,t),[t]),a.flags|=2048,ha(9,xs(),su.bind(null,a,u,n,e),null),n},useId:function(){var t=Ce(),e=qt.identifierPrefix;if(wt){var n=mn,a=gn;n=(a&~(1<<32-Le(a)-1)).toString(32)+n,e="«"+e+"R"+n,n=tl++,0<n&&(e+="H"+n.toString(32)),e+="»"}else n=Q1++,e="«"+e+"r"+n.toString(32)+"»";return t.memoizedState=e},useHostTransitionStatus:Wl,useFormState:mu,useActionState:mu,useOptimistic:function(t){var e=Ce();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=Il.bind(null,Ct,!0,n),n.dispatch=e,[t,e]},useMemoCache:Kl,useCacheRefresh:function(){return Ce().memoizedState=Jf.bind(null,Ct)}},Nh={readContext:St,use:Es,useCallback:Nu,useContext:St,useEffect:bu,useImperativeHandle:Tu,useInsertionEffect:Eu,useLayoutEffect:Cu,useMemo:Ru,useReducer:Cs,useRef:_u,useState:function(){return Cs(on)},useDebugValue:Zl,useDeferredValue:function(t,e){var n=It();return Au(n,Lt.memoizedState,t,e)},useTransition:function(){var t=Cs(on)[0],e=It().memoizedState;return[typeof t=="boolean"?t:Za(t),e]},useSyncExternalStore:au,useId:Du,useHostTransitionStatus:Wl,useFormState:pu,useActionState:pu,useOptimistic:function(t,e){var n=It();return uu(n,Lt,t,e)},useMemoCache:Kl,useCacheRefresh:Uu},k1={readContext:St,use:Es,useCallback:Nu,useContext:St,useEffect:bu,useImperativeHandle:Tu,useInsertionEffect:Eu,useLayoutEffect:Cu,useMemo:Ru,useReducer:Xl,useRef:_u,useState:function(){return Xl(on)},useDebugValue:Zl,useDeferredValue:function(t,e){var n=It();return Lt===null?Jl(n,t,e):Au(n,Lt.memoizedState,t,e)},useTransition:function(){var t=Xl(on)[0],e=It().memoizedState;return[typeof t=="boolean"?t:Za(t),e]},useSyncExternalStore:au,useId:Du,useHostTransitionStatus:Wl,useFormState:vu,useActionState:vu,useOptimistic:function(t,e){var n=It();return Lt!==null?uu(n,Lt,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Kl,useCacheRefresh:Uu},Ua=null,fi=0,Ga=Hu(!0),Rh=Hu(!1),Qe=b(null),ln=null,ie=b(0),$r={enqueueSetState:function(t,e,n){t=t._reactInternals;var a=we(),l=Cn(a);l.payload=e,n!=null&&(l.callback=n),e=xn(t,l,a),e!==null&&(Be(e,t,a),Xa(e,t,a))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var a=we(),l=Cn(a);l.tag=1,l.payload=e,n!=null&&(l.callback=n),e=xn(t,l,a),e!==null&&(Be(e,t,a),Xa(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=we(),a=Cn(n);a.tag=2,e!=null&&(a.callback=e),e=xn(t,a,n),e!==null&&(Be(e,t,n),Xa(e,t,n))}},Ah=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Oh=Error(r(461)),oe=!1,to={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null},yn=!1,kt=!1,eo=!1,Mh=typeof WeakSet=="function"?WeakSet:Set,ue=null,te=null,Te=!1,tn=null,za=8192,Z1={getCacheForType:function(t){var e=St(Kt),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n}},nl=0,al=1,il=2,sl=3,ll=4;if(typeof Symbol=="function"&&Symbol.for){var gi=Symbol.for;nl=gi("selector.component"),al=gi("selector.has_pseudo_class"),il=gi("selector.role"),sl=gi("selector.test_id"),ll=gi("selector.text")}var J1=typeof WeakMap=="function"?WeakMap:Map,Ot=0,qt=null,Nt=null,Mt=0,Ht=0,Pe=null,Hn=!1,wa=!1,no=!1,vn=0,Yt=0,Ln=0,na=0,ao=0,ke=0,Ba=0,mi=null,Ne=null,io=!1,so=0,pi=1/0,rl=null,jn=null,ye=0,qn=null,Ha=null,La=0,lo=0,ro=null,Dh=null,yi=0,oo=null;return Tt.attemptContinuousHydration=function(t){if(t.tag===13){var e=ca(t,67108864);e!==null&&Be(e,t,67108864),Or(t,67108864)}},Tt.attemptHydrationAtCurrentPriority=function(t){if(t.tag===13){var e=we();e=L(e);var n=ca(t,e);n!==null&&Be(n,t,e),Or(t,e)}},Tt.attemptSynchronousHydration=function(t){switch(t.tag){case 3:if(t=t.stateNode,t.current.memoizedState.isDehydrated){var e=N(t.pendingLanes);if(e!==0){for(t.pendingLanes|=2,t.entangledLanes|=2;e;){var n=1<<31-Le(e);t.entanglements[1]|=n,e&=~n}ee(t),(Ot&6)===0&&(pi=$e()+500,le(0))}}break;case 13:e=ca(t,2),e!==null&&Be(e,t,2),Rc(),Or(t,2)}},Tt.batchedUpdates=function(t,e){return t(e)},Tt.createComponentSelector=function(t){return{$$typeof:nl,value:t}},Tt.createContainer=function(t,e,n,a,l,u,U,P,J,it){return Kc(t,e,!1,null,n,a,u,U,P,J,it,null)},Tt.createHasPseudoClassSelector=function(t){return{$$typeof:al,value:t}},Tt.createHydrationContainer=function(t,e,n,a,l,u,U,P,J,it,lt,ct,ht){return t=Kc(n,a,!0,t,l,u,P,J,it,lt,ct,ht),t.context=Yc(null),n=t.current,a=we(),a=L(a),l=Cn(a),l.callback=e??null,xn(n,l,a),e=a,t.current.lanes=e,F(t,e),ee(t),t},Tt.createPortal=function(t,e,n){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ma,key:a==null?null:""+a,children:t,containerInfo:e,implementation:n}},Tt.createRoleSelector=function(t){return{$$typeof:il,value:t}},Tt.createTestNameSelector=function(t){return{$$typeof:sl,value:t}},Tt.createTextSelector=function(t){return{$$typeof:ll,value:t}},Tt.defaultOnCaughtError=function(t){console.error(t)},Tt.defaultOnRecoverableError=function(t){Ah(t)},Tt.defaultOnUncaughtError=function(t){Ah(t)},Tt.deferredUpdates=function(t){var e=mt.T,n=fn();try{return re(32),mt.T=null,t()}finally{re(n),mt.T=e}},Tt.discreteUpdates=function(t,e,n,a,l){var u=mt.T,U=fn();try{return re(2),mt.T=null,t(e,n,a,l)}finally{re(U),mt.T=u,Ot===0&&(pi=$e()+500)}},Tt.findAllNodes=br,Tt.findBoundingRects=function(t,e){if(!li)throw Error(r(363));e=br(t,e),t=[];for(var n=0;n<e.length;n++)t.push(q0(e[n]));for(e=t.length-1;0<e;e--){n=t[e];for(var a=n.x,l=a+n.width,u=n.y,U=u+n.height,P=e-1;0<=P;P--)if(e!==P){var J=t[P],it=J.x,lt=it+J.width,ct=J.y,ht=ct+J.height;if(a>=it&&u>=ct&&l<=lt&&U<=ht){t.splice(e,1);break}else if(a!==it||n.width!==J.width||ht<u||ct>U){if(!(u!==ct||n.height!==J.height||lt<a||it>l)){it>a&&(J.width+=it-a,J.x=a),lt<l&&(J.width=l-it),t.splice(e,1);break}}else{ct>u&&(J.height+=ct-u,J.y=u),ht<U&&(J.height=U-ct),t.splice(e,1);break}}}return t},Tt.findHostInstance=Xc,Tt.findHostInstanceWithNoPortals=function(t){return t=f(t),t=t!==null?p(t):null,t===null?null:si(t.stateNode)},Tt.findHostInstanceWithWarning=function(t){return Xc(t)},Tt.flushPassiveEffects=ii,Tt.flushSyncFromReconciler=function(t){var e=Ot;Ot|=1;var n=mt.T,a=fn();try{if(re(2),mt.T=null,t)return t()}finally{re(a),mt.T=n,Ot=e,(Ot&6)===0&&le(0)}},Tt.flushSyncWork=Rc,Tt.focusWithin=function(t,e){if(!li)throw Error(r(363));for(t=vr(t),e=Cc(t,e),e=Array.from(e),t=0;t<e.length;){var n=e[t++],a=n.tag;if(!ri(n)){if((a===5||a===26||a===27)&&V0(n.stateNode))return!0;for(n=n.child;n!==null;)e.push(n),n=n.sibling}}return!1},Tt.getFindAllNodesFailureDescription=function(t,e){if(!li)throw Error(r(363));var n=0,a=[];t=[vr(t),0];for(var l=0;l<t.length;){var u=t[l++],U=u.tag,P=t[l++],J=e[P];if((U!==5&&U!==26&&U!==27||!ri(u))&&(_r(u,J)&&(a.push(Sr(J)),P++,P>n&&(n=P)),P<e.length))for(u=u.child;u!==null;)t.push(u,P),u=u.sibling}if(n<e.length){for(t=[];n<e.length;n++)t.push(Sr(e[n]));return`findAllNodes was able to match part of the selector:
  `+(a.join(" > ")+`

No matching component was found for:
  `)+t.join(" > ")}return null},Tt.getPublicRootInstance=function(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 27:case 5:return si(t.child.stateNode);default:return t.child.stateNode}},Tt.injectIntoDevTools=function(){var t={bundleType:0,version:_0,rendererPackageName:S0,currentDispatcherRef:mt,reconcilerVersion:"19.1.0"};if(Ic!==null&&(t.rendererConfig=Ic),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")t=!1;else{var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)t=!0;else{try{oi=e.inject(t),je=e}catch{}t=!!e.checkDCE}}return t},Tt.isAlreadyRendering=function(){return(Ot&6)!==0},Tt.observeVisibleRects=function(t,e,n,a){if(!li)throw Error(r(363));t=br(t,e);var l=K0(t,n,a).disconnect;return{disconnect:function(){l()}}},Tt.shouldError=function(){return null},Tt.shouldSuspend=function(){return!1},Tt.startHostTransition=function(t,e,n,a){if(t.tag!==5)throw Error(r(476));var l=Mu(t).queue;Ou(t,l,e,ya,n===null?h:function(){var u=Mu(t).next.queue;return Wa(t,u,{},we()),n(a)})},Tt.updateContainer=function(t,e,n,a){var l=e.current,u=we();return Qc(l,u,t,e,n,a),u},Tt.updateContainerSync=function(t,e,n,a){return Qc(e.current,2,t,e,n,a),2},Tt},i.exports.default=i.exports,Object.defineProperty(i.exports,"__esModule",{value:!0})}(To)),To.exports}var Wd;function Hm(){return Wd||(Wd=1,xo.exports=Bm()),xo.exports}var Lm=Hm();const jm=_l(Lm);var No={exports:{}},bn={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Id;function qm(){return Id||(Id=1,bn.ConcurrentRoot=1,bn.ContinuousEventPriority=8,bn.DefaultEventPriority=32,bn.DiscreteEventPriority=2,bn.IdleEventPriority=268435456,bn.LegacyRoot=0,bn.NoEventPriority=0),bn}var $d;function Pm(){return $d||($d=1,No.exports=qm()),No.exports}var Al=Pm(),Fm=xt();const tf={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let ef=!1,nf=!1;const vl=".react-konva-event",Vm=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,Km=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,Ym={};function Ol(i,s,m=Ym){if(!ef&&"zIndex"in s&&(console.warn(Km),ef=!0),!nf&&s.draggable){var h=s.x!==void 0||s.y!==void 0,r=s.onDragEnd||s.onDragMove;h&&!r&&(console.warn(Vm),nf=!0)}for(var d in m)if(!tf[d]){var c=d.slice(0,2)==="on",f=m[d]!==s[d];if(c&&f){var v=d.substr(2).toLowerCase();v.substr(0,7)==="content"&&(v="content"+v.substr(7,1).toUpperCase()+v.substr(8)),i.off(v,m[d])}var p=!s.hasOwnProperty(d);p&&i.setAttr(d,void 0)}var _=s._useStrictMode,x={},b=!1;const y={};for(var d in s)if(!tf[d]){var c=d.slice(0,2)==="on",g=m[d]!==s[d];if(c&&g){var v=d.substr(2).toLowerCase();v.substr(0,7)==="content"&&(v="content"+v.substr(7,1).toUpperCase()+v.substr(8)),s[d]&&(y[v]=s[d])}!c&&(s[d]!==m[d]||_&&s[d]!==i.getAttr(d))&&(b=!0,x[d]=s[d])}b&&(i.setAttrs(x),Kn(i));for(var v in y)i.off(v+vl),i.on(v+vl,y[v])}function Kn(i){if(!Fm.Konva.autoDrawEnabled){var s=i.getLayer()||i.getStage();s&&s.batchDraw()}}var Ro=of();const qf={},Xm={};yl.Node.prototype._applyProps=Ol;let Pf=Al.DefaultEventPriority;function Qm(i,s){if(typeof s=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${s}`);return}i.add(s),Kn(i)}function km(i,s,m){let h=yl[i];h||(console.error(`Konva has no node with the type ${i}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${i}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),h=yl.Group);const r={},d={};for(var c in s)if(c!=="ref"){var f=c.slice(0,2)==="on";f?d[c]=s[c]:r[c]=s[c]}const v=new h(r);return Ol(v,d),v}function Zm(i,s,m){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${i}"`)}function Jm(i,s,m){return!1}function Wm(i){return i}function Im(){return null}function $m(){return null}function tp(i,s,m,h){return Xm}function ep(){}function np(i){}function ap(i,s){return!1}function ip(){return qf}function sp(){return qf}const lp=setTimeout,rp=clearTimeout,op=!0,up=i=>{i()},cp=-1;function hp(i,s){return!1}const dp=!1,fp=!1,gp=!0,mp=!1,pp=!1;function yp(i,s){s.parent===i?s.moveToTop():i.add(s),Kn(i)}function vp(i,s){s.parent===i?s.moveToTop():i.add(s),Kn(i)}function Ff(i,s,m){s._remove(),i.add(s),s.setZIndex(m.getZIndex()),Kn(i)}function _p(i,s,m){Ff(i,s,m)}function Sp(i,s){s.destroy(),s.off(vl),Kn(i)}function bp(i,s){s.destroy(),s.off(vl),Kn(i)}function Ep(i,s,m){console.error(`Text components are not yet supported in ReactKonva. You text is: "${m}"`)}function Cp(i,s,m){}function xp(i,s,m,h){Ol(i,h,m)}function Tp(i){i.hide(),Kn(i)}function Np(i){}function Rp(i,s){(s.visible==null||s.visible)&&i.show()}function Ap(i,s){}function Op(i){}function Mp(){}function Dp(){return Al.DefaultEventPriority}function Up(){}function Gp(){return null}function zp(i){Pf=i}function wp(){return Pf}function Bp(){return Al.DiscreteEventPriority}function Hp(){return!1}function Lp(){}function jp(){return!1}function qp(){return!0}function Pp(){}function Fp(){}function Vp(){return null}const Kp=null;function Yp(){}const Xp=Object.freeze(Object.defineProperty({__proto__:null,NotPendingTransition:Kp,appendChild:yp,appendChildToContainer:vp,appendInitialChild:Qm,cancelTimeout:rp,clearContainer:Op,commitMount:Cp,commitTextUpdate:Ep,commitUpdate:xp,createInstance:km,createTextInstance:Zm,detachDeletedInstance:Mp,finalizeInitialChildren:Jm,getChildHostContext:sp,getCurrentEventPriority:Dp,getCurrentUpdatePriority:wp,getInstanceFromScope:Gp,getPublicInstance:Wm,getRootHostContext:ip,hideInstance:Tp,hideTextInstance:Np,idlePriority:Ro.unstable_IdlePriority,insertBefore:Ff,insertInContainerBefore:_p,isPrimaryRenderer:dp,maySuspendCommit:jp,noTimeout:cp,now:Ro.unstable_now,preloadInstance:qp,prepareForCommit:Im,preparePortalMount:$m,prepareScopeUpdate:Up,prepareUpdate:tp,removeChild:Sp,removeChildFromContainer:bp,requestPostPaintCallback:Lp,resetAfterCommit:ep,resetFormInstance:Yp,resetTextContent:np,resolveUpdatePriority:Bp,run:Ro.unstable_runWithPriority,scheduleMicrotask:up,scheduleTimeout:lp,setCurrentUpdatePriority:zp,shouldAttemptEagerTransition:Hp,shouldDeprioritizeSubtree:ap,shouldSetTextContent:hp,startSuspendingCommit:Pp,supportsHydration:pp,supportsMicrotasks:op,supportsMutation:gp,supportsPersistence:mp,suspendInstance:Fp,unhideInstance:Rp,unhideTextInstance:Ap,waitForCommitToBeReady:Vp,warnsIfNotActing:fp},Symbol.toStringTag,{value:"Module"}));function Vf(i,s,m){if(!i)return;if(m(i)===!0)return i;let h=i.child;for(;h;){const r=Vf(h,s,m);if(r)return r;h=h.sibling}}function Kf(i){try{return Object.defineProperties(i,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return i}}const Ko=Kf(Et.createContext(null));class Yf extends Et.Component{render(){return Et.createElement(Ko.Provider,{value:this._reactInternals},this.props.children)}}function Qp(){const i=Et.useContext(Ko);if(i===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const s=Et.useId();return Et.useMemo(()=>{for(const m of[i,i?.alternate]){if(!m)continue;const h=Vf(m,!1,r=>{let d=r.memoizedState;for(;d;){if(d.memoizedState===s)return!0;d=d.next}});if(h)return h}},[i,s])}const kp=Symbol.for("react.context"),Zp=i=>i!==null&&typeof i=="object"&&"$$typeof"in i&&i.$$typeof===kp;function Jp(){const i=Qp(),[s]=Et.useState(()=>new Map);s.clear();let m=i;for(;m;){const h=m.type;Zp(h)&&h!==Ko&&!s.has(h)&&s.set(h,Et.use(Kf(h))),m=m.return}return s}function Wp(){const i=Jp();return Et.useMemo(()=>Array.from(i.keys()).reduce((s,m)=>h=>Et.createElement(s,null,Et.createElement(m.Provider,{...h,value:i.get(m)})),s=>Et.createElement(Yf,{...s})),[i])}if(se.version.indexOf("19")===-1)throw new Error("react-konva version 19 is only compatible with React 19. Make sure to have the last version of react-konva and react or downgrade react-konva to version 18.");function Ip(i){const s=se.useRef({});return se.useLayoutEffect(()=>{s.current=i}),se.useLayoutEffect(()=>()=>{s.current={}},[]),s.current}const $p=()=>{const i=se.useRef(0);return se.useMemo(()=>{i.current++},[]),i.current>1},t5=i=>{const s=se.useRef(null),m=se.useRef(null),h=se.useRef(null),r=Ip(i),d=Wp(),c=se.useRef(!1),f=p=>{const{forwardedRef:_}=i;_&&(typeof _=="function"?_(p):_.current=p)},v=$p();return se.useLayoutEffect(()=>c.current&&v?()=>{c.current=!1,f(null),Pa.updateContainer(null,h.current,null),m.current.destroy()}:(c.current=!0,m.current=new yl.Stage({width:i.width,height:i.height,container:s.current}),f(m.current),h.current=Pa.createContainer(m.current,Al.ConcurrentRoot,null,!1,null,"",console.error,console.error,console.error,null),Pa.updateContainer(se.createElement(d,{},i.children),h.current,null,()=>{}),()=>{v||(f(null),Pa.updateContainer(null,h.current,null),m.current.destroy())}),[]),se.useLayoutEffect(()=>{f(m.current),Ol(m.current,i,r),Pa.updateContainer(se.createElement(d,{},i.children),h.current,null)}),se.createElement("div",{ref:s,id:i.id,accessKey:i.accessKey,className:i.className,role:i.role,style:i.style,tabIndex:i.tabIndex,title:i.title})},af="Layer",e5="Rect",n5="Line",a5="Image",Pa=jm(Xp);Pa.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:se.version,rendererPackageName:"react-konva"});const i5=se.forwardRef((i,s)=>se.createElement(Yf,{},se.createElement(t5,{...i,forwardedRef:s})));var Ao,sf;function s5(){if(sf)return Ao;sf=1;var i=rf();return Ao=function(m,h,r){const d=i.useRef("loading"),c=i.useRef(),[f,v]=i.useState(0),p=i.useRef(),_=i.useRef(),x=i.useRef();return(p.current!==m||_.current!==h||x.current!==r)&&(d.current="loading",c.current=void 0,p.current=m,_.current=h,x.current=r),i.useLayoutEffect(function(){if(!m)return;var b=document.createElement("img");function y(){b.decode().catch(()=>{}).finally(()=>{d.current="loaded",c.current=b,v(Math.random())})}function g(){d.current="failed",c.current=void 0,v(Math.random())}return b.addEventListener("load",y),b.addEventListener("error",g),h&&(b.crossOrigin=h),r&&(b.referrerPolicy=r),b.src=m,function(){b.removeEventListener("load",y),b.removeEventListener("error",g)}},[m,h,r]),[c.current,d.current]},Ao}var l5=s5();const r5=_l(l5),lf=(i,s)=>Math.sqrt(Math.pow(s.x-i.x,2)+Math.pow(s.y-i.y,2)),o5=Et.forwardRef(({motifSrc:i,brushColor:s,brushSize:m,width:h,height:r,activeTool:d},c)=>{const[f]=r5(i,"anonymous"),[v,p]=Et.useState([]),[_,x]=Et.useState({scale:1,x:0,y:0}),[b,y]=Et.useState(!1),g=Et.useRef(!1),E=Et.useRef(0),N=Et.useRef(null),D=Et.useRef(null),S=Et.useRef(null);Et.useEffect(()=>{const V=nt=>{nt.code==="Space"&&(nt.preventDefault(),y(!0))},j=nt=>{nt.code==="Space"&&(nt.preventDefault(),y(!1))};return window.addEventListener("keydown",V),window.addEventListener("keyup",j),()=>{window.removeEventListener("keydown",V),window.removeEventListener("keyup",j)}},[]);let o={x:0,y:0,width:0,height:0},C={x:0,y:0,width:0,height:0};if(f){const V=h,j=r,nt=f.width/f.height,T=V/j;let O=f.width,w=f.height;nt>T?(O=V*.9,w=O/nt):(w=j*.9,O=w*nt);const q=Math.max(O,w)*1.5,W=Math.min(q,V*.95,j*.95);C={width:W,height:W,x:(V-W)/2,y:(j-W)/2},o={width:O,height:w,x:C.x+(W-O)/2,y:C.y+(W-w)/2}}Et.useImperativeHandle(c,()=>({undo:()=>p(v.slice(0,-1)),clear:()=>p([]),getDownloadDataURL:()=>{if(!f||!S.current)return null;const V=document.createElement("div"),j=new Co.Stage({container:V,width:f.width,height:f.height}),nt=new Co.Layer;j.add(nt);const T=f.width/o.width;return v.forEach(O=>{const w=O.points.map((B,q)=>q%2===0?(B-o.x)*T:(B-o.y)*T);nt.add(new Co.Line({points:w,stroke:O.color,strokeWidth:O.size*T,tension:.5,lineCap:"round",lineJoin:"round",globalCompositeOperation:O.tool==="eraser"?"destination-out":"source-over"}))}),nt.draw(),j.toDataURL({mimeType:"image/png"})}}));const R=V=>{const j=V.target.getStage();if(!j)return null;const nt=j.getPointerPosition();return nt?{x:(nt.x-j.x())/j.scaleX(),y:(nt.y-j.y())/j.scaleY()}:null},z=V=>{if(b||V.evt.button!==0)return;g.current=!0;const j=R(V);j&&p([...v,{points:[j.x,j.y],color:s,size:m,tool:d}])},F=V=>{if(!g.current||b)return;const j=R(V);if(j){let nt=v[v.length-1];nt.points=nt.points.concat([j.x,j.y]),p([...v.slice(0,-1),nt])}},A=()=>{g.current=!1},M=V=>{V.evt.preventDefault();const j=V.evt.touches;if(j.length===1){g.current=!0;const nt=R(V);nt&&p([...v,{points:[nt.x,nt.y],color:s,size:m,tool:d}])}else if(j.length>1){g.current=!1;const nt=j[0],T=j[1];E.current=lf({x:nt.clientX,y:nt.clientY},{x:T.clientX,y:T.clientY}),N.current={x:(nt.clientX+T.clientX)/2,y:(nt.clientY+T.clientY)/2}}},G=V=>{V.evt.preventDefault();const j=V.evt.touches,nt=V.target.getStage();if(nt){if(j.length===1&&g.current){const T=R(V);if(T){let O=v[v.length-1];O.points=O.points.concat([T.x,T.y]),p([...v.slice(0,-1),O])}}else if(j.length>1){const T=j[0],O=j[1],w=lf({x:T.clientX,y:T.clientY},{x:O.clientX,y:O.clientY}),B={x:(T.clientX+O.clientX)/2,y:(T.clientY+O.clientY)/2};if(!E.current||!N.current)return;const W=nt.scaleX()*(w/E.current),Y=B.x-N.current.x,tt=B.y-N.current.y;x({scale:W,x:nt.x()+Y,y:nt.y()+tt}),E.current=w,N.current=B}}},L=()=>{g.current=!1,E.current=0,N.current=null},K=V=>{V.evt.preventDefault();const j=V.target.getStage();if(j)if(V.evt.ctrlKey||V.evt.metaKey){const T=j.scaleX(),O=j.getPointerPosition();if(!O)return;const w={x:(O.x-j.x())/T,y:(O.y-j.y())/T},B=V.evt.deltaY>0?T/1.05:T*1.05;x({scale:B,x:O.x-w.x*B,y:O.y-w.y*B})}else{let T=V.evt.shiftKey?V.evt.deltaY/4:V.evt.deltaX/4,O=V.evt.shiftKey?0:V.evt.deltaY/4;x(w=>({...w,x:w.x-T,y:w.y-O}))}},X=V=>{V.rect(o.x,o.y,o.width,o.height)};return at.jsx("div",{style:{cursor:b?"grab":d==="eraser"?"cell":"crosshair",touchAction:"none"},children:at.jsxs(i5,{ref:D,width:h,height:r,style:{backgroundColor:"#f0f0f0"},onMouseDown:z,onMouseMove:F,onMouseUp:A,onTouchStart:M,onTouchMove:G,onTouchEnd:L,onWheel:K,draggable:b,scaleX:_.scale,scaleY:_.scale,x:_.x,y:_.y,children:[at.jsxs(af,{children:[at.jsx(e5,{...C,fill:"white",shadowBlur:10,shadowOpacity:.2,cornerRadius:4}),at.jsx(a5,{image:f,...o})]}),at.jsx(af,{ref:S,clipFunc:X,children:v.map((V,j)=>at.jsx(n5,{points:V.points,stroke:V.color,strokeWidth:V.size,tension:.5,lineCap:"round",lineJoin:"round",globalCompositeOperation:V.tool==="eraser"?"destination-out":"source-over"},j))})]})})}),i4=()=>{const{motifs:i,auth:s,userStats:m,flash:h}=I1().props,r=!!s.user,[d,c]=Et.useState(i[0]||null),[f,v]=Et.useState("#000000"),[p,_]=Et.useState(5),[x,b]=Et.useState("pen"),[y,g]=Et.useState({width:0,height:0}),[E,N]=Et.useState(!1),[D,S]=Et.useState(!1),[o,C]=Et.useState(!1),[R,z]=Et.useState(!1),[F,A]=Et.useState(!1),[M,G]=Et.useState(!1),[L,K]=Et.useState(null),[X,V]=Et.useState([]),[j,nt]=Et.useState(!1),T=Et.useRef(null),O=Et.useRef(null),w=["#000000","#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF","#00FFFF","#FFA500","#800080","#FFC0CB"];Et.useEffect(()=>{const tt=()=>{if(O.current){const ot=O.current.offsetWidth,I=window.innerHeight*.5;g({width:ot,height:I})}};return tt(),window.addEventListener("resize",tt),()=>window.removeEventListener("resize",tt)},[]),Et.useEffect(()=>{h.success&&h.score!==void 0&&h.score!==null&&(K(h.score),S(!0))},[h]);const B=()=>{if(!r)return C(!0);T.current?.undo()},q=()=>{if(!r)return C(!0);T.current?.clear()},W=()=>{if(!r)return C(!0);if(!T.current||!d)return alert("Pilih motif dan gambarlah sesuatu terlebih dahulu.");const tt=T.current.getDownloadDataURL();if(!tt)return alert("Gagal mengambil data gambar dari kanvas.");N(!0),e2.post(route("ruang-batik.store"),{motif_id:d.id,image_data_url:tt},{onFinish:()=>N(!1)})},Y=()=>{r&&(nt(!0),A(!0),Zt.get(route("ruang-batik.history")).then(tt=>{V(tt.data),nt(!1)}))};return at.jsxs(n2,{children:[at.jsx($1,{title:"Ruang Batik"}),at.jsxs("div",{className:"mx-auto mt-24 flex w-full max-w-7xl flex-col items-center gap-8 px-4 sm:px-6 lg:px-8",children:[at.jsx(_i,{open:D,onOpenChange:S,children:at.jsxs(Si,{className:"sm:max-w-md",children:[at.jsxs(bi,{children:[at.jsx(Ei,{className:"text-xl font-bold",children:"Karya Berhasil Dikumpulkan!"}),at.jsx(uo,{className:"mt-2 text-base",children:"Selamat! Anda telah menyelesaikan tantangan batik ini."})]}),at.jsxs("div",{className:"flex items-center justify-center p-4",children:[at.jsx("p",{className:"text-5xl font-extrabold text-[#955932]",children:L}),at.jsx("span",{className:"text-3xl font-bold text-gray-500",children:"/100"})]}),at.jsx(ol,{className:"sm:justify-start",children:at.jsx(ul,{asChild:!0,children:at.jsx(Fn,{type:"button",className:"bg-[#955932] hover:bg-[#4A2E20]",children:"Oke"})})})]})}),at.jsx(_i,{open:o,onOpenChange:C,children:at.jsxs(Si,{className:"sm:max-w-md",children:[at.jsxs(bi,{children:[at.jsx(Ei,{className:"text-xl font-bold",children:"Akses Terbatas"}),at.jsx(uo,{className:"mt-2 text-base",children:"Anda harus masuk ke akun Anda untuk dapat menggambar dan mengumpulkan karya."})]}),at.jsxs(ol,{children:[at.jsx(ul,{asChild:!0,children:at.jsx(Fn,{type:"button",variant:"ghost",children:"Nanti Saja"})}),at.jsx(t2,{href:route("login"),children:at.jsx(Fn,{className:"bg-[#955932] hover:bg-[#4A2E20]",children:"Masuk Sekarang"})})]})]})}),at.jsx(_i,{open:R,onOpenChange:z,children:at.jsxs(Si,{className:"sm:max-w-md",children:[at.jsx(bi,{children:at.jsx(Ei,{className:"text-xl font-bold",children:"Statistik Saya"})}),at.jsxs("div",{className:"space-y-4 py-4",children:[at.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-100 p-3",children:[at.jsx("span",{className:"font-medium text-gray-600",children:"Nama Pengguna"}),at.jsx("span",{className:"font-bold",children:s.user?.name})]}),at.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-100 p-3",children:[at.jsx("span",{className:"font-medium text-gray-600",children:"Total Karya Terkumpul"}),at.jsx("span",{className:"font-bold",children:m?.submission_count||0})]}),at.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-100 p-3",children:[at.jsx("span",{className:"font-medium text-gray-600",children:"Akumulasi Skor"}),at.jsx("span",{className:"font-bold",children:m?.total_score||0})]})]}),at.jsx(ol,{children:at.jsx(ul,{asChild:!0,children:at.jsx(Fn,{type:"button",className:"bg-[#955932] hover:bg-[#4A2E20]",children:"Tutup"})})})]})}),at.jsx(_i,{open:F,onOpenChange:A,children:at.jsxs(Si,{className:"max-w-3xl",children:[at.jsx(bi,{children:at.jsx(Ei,{className:"text-xl font-bold",children:"Riwayat Karyaku"})}),at.jsx("div",{className:"max-h-[60vh] overflow-y-auto p-1",children:j?at.jsx("p",{children:"Memuat riwayat..."}):at.jsx("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-3",children:X.map(tt=>at.jsxs("div",{className:"group relative overflow-hidden rounded-lg border",children:[at.jsx("img",{src:tt.submitted_image_url,alt:`Karya ${tt.motif.name}`,className:"aspect-square w-full object-cover"}),at.jsxs("div",{className:"absolute bottom-0 w-full bg-black/50 p-2 text-white transition-opacity group-hover:opacity-100 md:opacity-0",children:[at.jsx("p",{className:"font-bold",children:tt.motif.name}),at.jsxs("p",{className:"text-sm",children:["Skor: ",tt.score]})]})]},tt.id))})})]})}),at.jsx(_i,{open:M,onOpenChange:G,children:at.jsxs(Si,{className:"sm:max-w-lg",children:[at.jsxs(bi,{children:[at.jsx(Ei,{className:"text-xl font-bold",children:"Bantuan Ruang Batik"}),at.jsx(uo,{className:"mt-2 text-base",children:"Pelajari cara menggunakan kanvas digital untuk membuat karya batik Anda."})]}),at.jsx("div",{className:"space-y-4 py-4",children:at.jsxs("div",{className:"space-y-3",children:[at.jsx("h3",{className:"text-lg font-semibold text-[#955932]",children:"Navigasi Kanvas"}),at.jsxs("div",{className:"space-y-2 text-sm",children:[at.jsxs("div",{className:"flex items-start gap-2",children:[at.jsx("span",{className:"min-w-[80px] font-medium text-gray-600",children:"Menggambar:"}),at.jsx("span",{children:"Klik dan geser mouse atau gunakan satu jari pada layar sentuh."})]}),at.jsxs("div",{className:"flex items-start gap-2",children:[at.jsx("span",{className:"min-w-[80px] font-medium text-gray-600",children:"Geser (Pan):"}),at.jsx("span",{children:"Tahan tombol **Spasi**, lalu klik & geser."})]}),at.jsxs("div",{className:"flex items-start gap-2",children:[at.jsx("span",{className:"min-w-[80px] font-medium text-gray-600",children:"Zoom (PC):"}),at.jsx("span",{children:"Tahan **Ctrl** (atau **Cmd** di Mac), lalu gunakan **scroll wheel**."})]}),at.jsxs("div",{className:"flex items-start gap-2",children:[at.jsx("span",{className:"min-w-[80px] font-medium text-gray-600",children:"Zoom (HP):"}),at.jsx("span",{children:"Gunakan dua jari untuk mencubit (pinch-to-zoom)."})]}),at.jsxs("div",{className:"flex items-start gap-2",children:[at.jsx("span",{className:"min-w-[80px] font-medium text-gray-600",children:"Geser Hor.:"}),at.jsx("span",{children:"Tahan **Shift**, lalu gunakan **scroll wheel**."})]})]})]})}),at.jsx(ol,{children:at.jsx(ul,{asChild:!0,children:at.jsx(Fn,{type:"button",className:"bg-[#955932] hover:bg-[#4A2E20]",children:"Mengerti"})})})]})}),at.jsxs("div",{className:"flex w-full flex-col gap-4",children:[at.jsxs("div",{className:"flex flex-col",children:[at.jsx("h1",{className:"text-2xl font-bold sm:text-3xl",children:"SELAMAT DATANG DI RUANG BATIK"}),at.jsx("p",{className:"mt-2 max-w-3xl",children:"Jelajahi dunia batik digital interaktif. Pilih motif, beri warna, dan kumpulkan karya Anda untuk mendapatkan penilaian."})]}),at.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 rounded-lg bg-[#fcedd5] p-2 shadow-md",children:[at.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[at.jsxs("div",{className:"flex items-center gap-2",children:[at.jsxs("button",{onClick:()=>b("pen"),className:`flex items-center gap-1.5 rounded px-3 py-2 text-sm font-medium transition ${x==="pen"?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 shadow hover:bg-gray-50"}`,disabled:!r,children:[at.jsx(h2,{size:16}),"Pen"]}),at.jsxs("button",{onClick:()=>b("eraser"),className:`flex items-center gap-1.5 rounded px-3 py-2 text-sm font-medium transition ${x==="eraser"?"bg-red-600 text-white shadow-md":"bg-white text-gray-700 shadow hover:bg-gray-50"}`,disabled:!r,children:[at.jsx(r2,{size:16}),"Eraser"]})]}),at.jsxs("div",{className:"flex items-center gap-1",children:[at.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Warna:"}),at.jsx("div",{className:"flex flex-wrap gap-1",children:w.map(tt=>at.jsx("button",{onClick:()=>v(tt),className:`h-8 w-8 rounded border-2 transition ${f===tt?"border-gray-800 shadow-md":"border-gray-300 hover:border-gray-500"}`,style:{backgroundColor:tt},disabled:!r,title:tt},tt))})]}),at.jsxs("div",{className:"flex items-center gap-2",children:[at.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Ukuran:"}),at.jsx("input",{type:"range",min:"1",max:"20",value:p,onChange:tt=>_(Number(tt.target.value)),className:"h-2 w-20 cursor-pointer appearance-none rounded-lg bg-gray-200",disabled:!r}),at.jsxs("span",{className:"min-w-[2rem] text-sm font-medium text-gray-700",children:[p,"px"]})]}),at.jsxs("div",{className:"flex items-center gap-2",children:[at.jsxs("button",{onClick:B,className:"flex items-center gap-1.5 rounded bg-yellow-600 px-3 py-2 text-sm text-white shadow transition hover:bg-yellow-700 disabled:cursor-not-allowed disabled:bg-yellow-800",disabled:!r,children:[at.jsx(m2,{size:16}),"Undo"]}),at.jsxs("button",{onClick:q,className:"flex items-center gap-1.5 rounded bg-red-600 px-3 py-2 text-sm text-white shadow transition hover:bg-red-700 disabled:cursor-not-allowed disabled:bg-red-800",disabled:!r,children:[at.jsx(f2,{size:16}),"Clear"]})]})]}),at.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r?at.jsxs(at.Fragment,{children:[at.jsxs(Fn,{onClick:()=>z(!0),variant:"outline",size:"sm",className:"flex items-center gap-1.5",children:[at.jsx(y2,{size:16})," Detail Saya"]}),at.jsxs(Fn,{onClick:Y,variant:"outline",size:"sm",className:"flex items-center gap-1.5",children:[at.jsx(a2,{size:16})," Karya Saya"]})]}):at.jsxs(Fn,{onClick:()=>C(!0),variant:"outline",size:"sm",className:"flex items-center gap-1.5",children:[at.jsx(u2,{size:16})," Masuk untuk Berkarya"]}),at.jsx("button",{onClick:W,disabled:E||!r,className:"rounded bg-green-700 px-3 py-1 text-white shadow transition hover:bg-green-800 disabled:cursor-not-allowed disabled:bg-green-900",children:E?"Mengumpulkan...":"Kumpulkan & Nilai"}),at.jsxs("button",{onClick:()=>G(!0),className:"flex items-center gap-1.5 rounded bg-sky-600 px-3 py-1 text-white shadow transition hover:bg-sky-700",children:[at.jsx(s2,{size:16})," Bantuan"]})]})]}),at.jsx("div",{ref:O,className:"w-full",children:y.width>0&&d&&at.jsx(o5,{ref:T,motifSrc:d.src,brushColor:f,brushSize:p,width:y.width,height:y.height,activeTool:x})})]}),at.jsxs("div",{className:"w-full",children:[at.jsx("h2",{className:"mb-4 text-center text-xl font-bold text-[#4A2E20] sm:text-2xl",children:"Pilih Motif Tersedia"}),at.jsx("div",{className:"grid grid-cols-2 gap-4 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5",children:i.map(tt=>at.jsxs("div",{className:`group cursor-pointer overflow-hidden rounded-lg border-4 shadow-md transition-all hover:-translate-y-1 hover:shadow-xl ${d?.id===tt.id?"border-blue-500":"border-[#955932]"}`,onClick:()=>c(tt),children:[at.jsx("img",{src:tt.src,alt:tt.name,className:"h-32 w-full object-cover transition-transform group-hover:scale-105 sm:h-40"}),at.jsx("p",{className:"bg-[#fcedd5] p-2 text-center font-semibold text-[#4A2E20]",children:tt.name})]},tt.id))})]})]})]})};export{i4 as default};
